(function(t){function e(e){for(var n,o,s=e[0],l=e[1],c=e[2],u=0,h=[];u<s.length;u++)o=s[u],i[o]&&h.push(i[o][0]),i[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(h.length)h.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},i={app:0},r=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0006":function(t,e,a){},"029a":function(t,e,a){"use strict";var n=a("9023"),i=a.n(n);i.a},"03d0":function(t,e,a){"use strict";var n=a("ca3e"),i=a.n(n);i.a},"06e9":function(t,e,a){"use strict";var n=a("2c97"),i=a.n(n);i.a},"0b41":function(t,e,a){"use strict";var n=a("6535"),i=a.n(n);i.a},"0c39":function(t,e,a){"use strict";var n=a("3d0b"),i=a.n(n);i.a},"0e49":function(t,e,a){},"103b":function(t,e,a){},1845:function(t,e,a){"use strict";var n=a("2953"),i=a.n(n);i.a},"19f9":function(t,e,a){"use strict";var n=a("9ec3"),i=a.n(n);i.a},"1d5a":function(t,e,a){},"209e":function(t,e,a){},"20d0":function(t,e,a){},"23a7":function(t,e,a){},2464:function(t,e,a){},"24b6":function(t,e,a){},"25f6":function(t,e,a){},2766:function(t,e,a){},2953:function(t,e,a){},"2c97":function(t,e,a){},3494:function(t,e,a){"use strict";var n=a("4feb"),i=a.n(n);i.a},"35c6":function(t,e,a){"use strict";var n=a("a9b3"),i=a.n(n);i.a},3769:function(t,e,a){"use strict";var n=a("c32b"),i=a.n(n);i.a},"378a":function(t,e,a){},3986:function(t,e,a){},"3aec":function(t,e,a){"use strict";var n=a("43f9"),i=a.n(n);i.a},"3d0b":function(t,e,a){},"3e59":function(t,e,a){"use strict";var n=a("8663"),i=a.n(n);i.a},"43f9":function(t,e,a){},"457f":function(t,e,a){"use strict";var n=a("0e49"),i=a.n(n);i.a},4593:function(t,e,a){},"45b2":function(t,e,a){},4789:function(t,e,a){},"488b":function(t,e,a){"use strict";var n=a("550d"),i=a.n(n);i.a},"4a1b":function(t,e,a){},"4bc9":function(t,e,a){},"4feb":function(t,e,a){},5010:function(t,e,a){},5209:function(t,e,a){},"52ef":function(t,e,a){},"550d":function(t,e,a){},"55a2":function(t,e,a){},"55bb":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-menu",{key:t.componentKey,staticClass:"el-menu-demo",attrs:{mode:"horizontal","background-color":"#676767","text-color":"#fff","default-active":t.activeIndex,"active-text-color":"#ffd04b"}},[a("el-menu-item",{staticClass:"labelIcon",attrs:{id:"title",index:"title"},on:{click:function(e){t.navbarSelectPanel("title")}}},[t._v("\n        "+t._s(t.appName)+"\n      ")]),t._l(t.operationArray,function(e){return a("el-tooltip",{key:e,staticClass:"labelIcon",attrs:{content:e,effect:"light"}},[a("el-menu-item",{attrs:{index:e},on:{click:function(a){t.navbarSelectPanel(e)}}},[a("i",{staticClass:"icon iconfont",class:t.iconClass(e)})])],1)})],2),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content-container"},[t.loading?t._e():a("div",{staticClass:"content"},[a("div",{staticClass:"left-panel"},[a("div",{staticClass:"bottom-panel"},[a("div",{staticClass:"layout"},[a("Layout")],1),a("div",{staticClass:"element"},[a("Element")],1),a("div",{staticClass:"coordinate_system"},[a("CoordinateSystem")],1)])]),a("div",{staticClass:"middle-panel"},[a("div",{staticClass:"middle-title-panel"},[a("TreeUnitViewParameterTitle")],1),a("div",{staticClass:"middle-content-panel"},[a("TreeUnitParameterView")],1)]),a("div",{staticClass:"right-panel"},[a("div",{staticClass:"top-panel"},[a("div",{staticClass:"dsl-list-title-panel"},[a("DslListTitle")],1),a("div",{staticClass:"dsl-list-content-panel"},[a("DslList")],1)]),a("div",{staticClass:"bottom-panel"},[a("div",{attrs:{id:"tree-canvas-view-title"}},[a("TreeCanvasViewTitle",{attrs:{title:t.treeCanvasParas.title}})],1),a("div",{attrs:{id:"tree-canvas-view-body"}},[a("div",{attrs:{id:"original-data-view"}},[a("OriginalDataView",{on:{openDataView:t.openDataView,closeDataView:t.closeDataView}})],1),a("div",{attrs:{id:"treecanvas-content-view"}},[a("TreeCanvas",{attrs:{treeCanvasKey:t.treeCanvasKey}})],1)])])])])]),a("el-dialog",{attrs:{title:"Dataset",id:"dataset-dialog",visible:t.dataDialogVisible},on:{"update:visible":function(e){t.dataDialogVisible=e}}},[a("DataDialog",{attrs:{treeDataArray:t.treeDataArray,initTreeDataName:t.initTreeDataName},on:{updateSelectedTreeDateName:t.updateSelectedTreeDateName}})],1),a("el-dialog",{attrs:{title:"TreeDSL",id:"treedsl-dialog",visible:t.treedslDialogVisible},on:{"update:visible":function(e){t.treedslDialogVisible=e}}},[a("TreedslDialog")],1),a("el-dialog",{attrs:{title:"Export",id:"export-dialog",visible:t.exportDialogVisible},on:{"update:visible":function(e){t.exportDialogVisible=e}}},[a("ExportDialog")],1)],1)},r=[],o=a("7618"),s=(a("96cf"),a("3b8d")),l=(a("57e7"),a("cebc")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:t.treeCanvasContainerId}},[a("svg",{staticClass:"tree-canvas",attrs:{id:t.treeCanvasSvgId}},[a("g",{attrs:{id:t.treeCanvasId}})]),a("div",{attrs:{id:"NodeLabel"}})])},d=[],u=a("768b"),h=a("f499"),p=a.n(h),f=(a("7f7f"),a("a481"),a("c5f6"),a("2f62"));function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};this.x=t.x,this.y=t.y}g.prototype={init:function(){},updateData:function(){},generatePath:function(t){var e=d3.line().x(function(t){return t.x}).y(function(t){return t.y}),a=e(t);return a}};a("55dd");function m(t,e,a,n,i,r){this.polarAxis=t,this.polarInnerRadius=e,this.polarStartAngle=a,this.polarCenterAngle=n,this.polarCenterPara=i,this.polarDirection=r}function v(t,e,a,n,i){var r=[];for(var o in a)r.push(o);r=r.sort(function(t,e){var a=t.replace("index-",""),n=e.replace("index-","");return a-n});for(var s={},l=0;l<n.length;l++){var c=n[l].data.index;s[c]=n[l]}var d=r[0],u={},h=i.width,p=i.height,f=0,g=0,m=0,v=0,y=0,b=0,D=0,S=0;u[a[d].id]={fatherID:null,x:f,isLeaf:1,y:m,Rootx:0,Rooty:0,RootWidth:0,RootHeight:0,Width:h,Height:p,depth:0,id:a[d].id,SubtreesX:0,SubtreesY:0,SubtreesWidth:0,SubtreesHeight:0,others:{},value:s[a[d].id].value};e[t[d]];for(var x=0;x<r.length;x++){var A=r[x],C=u[a[A].id],L=C.Width/a[A].width,_=C.Height/a[A].height;C.Rootx=a[A].root.x*L+y,C.Rooty=a[A].root.y*_+D,C.RootWidth=a[A].root.width*L-y-b,C.RootHeight=a[A].root.height*_-D-S,C.SubtreesX=a[A].subtrees.x*L+y,C.SubtreesY=a[A].subtrees.y*_+D,C.SubtreesWidth=a[A].subtrees.width*L-y-b,C.SubtreesHeight=a[A].subtrees.height*_-D-S,C.depth,u[a[A].id]=C;for(var R=0;R<a[A].subtreeLayout.length;R++){C.isLeaf=0;var T=a[A].subtreeLayout[R].id;u[T]={fatherID:a[A].id,x:C.x+a[A].subtreeLayout[R].x*L+f,y:C.y+a[A].subtreeLayout[R].y*_+m,Rootx:0,Rooty:0,RootWidth:0,RootHeight:0,isLeaf:1,Width:a[A].subtreeLayout[R].width*L-f-g,Height:a[A].subtreeLayout[R].height*_-m-v,depth:C.depth+1,id:T,SubtreesX:0,SubtreesY:0,SubtreesWidth:0,SubtreesHeight:0,others:{},value:s[T].value}}}for(var O in u)u[O].translate="translate(0 , 0)";return u}m.prototype={updateData:function(t){this.SubTreeData=t,this.initOrigin(),this.initScale()},initScale:function(){var t=this.SubTreeData,e=t.TreeWidth>t.TreeHeight?t.TreeHeight/2:t.TreeWidth/2,a="clockwise"!==this.polarDirection?d3.scaleLinear().range([Math.PI*(this.polarCenterAngle+this.polarStartAngle),Math.PI*(-this.polarCenterAngle+this.polarStartAngle)]):d3.scaleLinear().range([Math.PI*(-this.polarCenterAngle+this.polarStartAngle),Math.PI*(this.polarCenterAngle+this.polarStartAngle)]),n=d3.scaleLinear().range([e*this.polarInnerRadius,e]);"y-axis"===this.polarAxis?(a.domain([this.x,this.x+t.TreeWidth]),"top"===this.polarCenterPara?n.domain([this.y,Math.abs(this.y+t.TreeHeight)]):"bottom"===this.polarCenterPara&&n.domain([this.y,Math.abs(this.y-t.TreeHeight)])):"x-axis"===this.polarAxis&&(a.domain([this.y,this.y+t.TreeHeight]),"left"===this.polarCenterPara?n.domain([this.x,Math.abs(this.x+t.TreeWidth)]):"right"===this.polarCenterPara&&n.domain([this.x,Math.abs(this.x-t.TreeWidth)])),this.angleScale=a,this.rScale=n},initOrigin:function(){var t=this._getPolarCenter();this.x=t.x,this.y=t.y},setOrigin:function(t){this.x=t.x,this.y=t.y},generatePath:function(t,e,a){var n=[],i=this.angleScale,r=this.rScale;if("undefined"!==typeof i&&"undefined"!==typeof r||console.log("scale is undefined"),"y-axis"===this.polarAxis)for(var o=0;o<t.length;o++){var s=t[o],l=i(s.x),c=r(s.y),d={angle:l,radius:c};n.push(d)}else if("x-axis"===this.polarAxis)for(var u=0;u<t.length;u++){var h=t[u],p=i(h.y),f=r(h.x),g={angle:p,radius:f};n.push(g)}n=n.sort(function(t,e){return t.radius-e.radius});var m=n[0].radius,v=n[n.length-1].radius;n=n.sort(function(t,e){return t.angle-e.angle});var y=n[0].angle,b=n[n.length-1].angle,D=d3.arc().innerRadius(function(t){return m}).outerRadius(function(t){return v}).startAngle(function(t){return y}).endAngle(function(t){return b}).padAngle(.01).padRadius(0);return D()},calPosition:function(t){var e,a=this.angleScale,n=this.rScale;if("y-axis"===this.polarAxis){var i=a(t.x),r=n(t.y);e={angle:i,radius:r}}else if("x-axis"===this.polarAxis){var o=a(t.y),s=n(t.x);e={angle:o,radius:s}}var l=e.angle-Math.PI/2,c=Math.cos(l)*e.radius,d=Math.sin(l)*e.radius,u={x:c,y:d};return u},_getPolarCenter:function(){var t=this.SubTreeData,e=this.polarCenterPara;return"top"===e?{x:t.x+t.TreeWidth/2,y:t.y}:"bottom"===e?{x:t.x+t.TreeWidth/2,y:t.y+t.TreeHeight}:"left"===e?{x:t.x,y:t.y+t.TreeHeight/2}:"right"===e?{x:t.x+t.TreeWidth,y:t.y+t.TreeHeight/2}:void 0}};a("ac6a"),a("f3e2");function y(t){"children"in t?t.children.forEach(function(t){y(t)}):t.children=[]}var b=function(t){for(var e in t){var a=t[e],n=JSON.parse(p()(a));"Element"in n||(n.Element={}),"RootWidth"in n.Element||(n.Element.RootWidth="adaptive"),"RootHeight"in n.Element||(n.Element.RootHeight="adaptive"),"SubtreeWidth"in n.Layout||(n.Layout.SubtreeWidth="adaptive"),"SubtreeHeight"in n.Layout||(n.Layout.SubtreeHeight="adaptive"),"X"in n.Layout||(n.Layout.X={},n.Layout.Y={}),"Subtree"in n.Layout.X||(n.Layout.X.Subtree={Relation:"flatten"},n.Layout.Y.Subtree={Relation:"align"}),"Root"in n.Layout.X||(n.Layout.X.Root={Relation:"juxtapose"},n.Layout.Y.Root={Relation:"within"}),t[e]=n}},D=a("5176"),S=a.n(D);function x(t){var e=t.index,a={},n=0;t.children.forEach(function(t){var e=x(t);S()(a,e);var i=e[t.index];n=n<i?i:n});var i=n+1;return a[e]=i,a}function A(t,e){t.height=e[t.index],t.children.forEach(function(t){A(t,e)})}function C(t){var e=t.index,a={},n=0;t.children.forEach(function(t){var e=C(t);S()(a,e);var i=e[t.index];n=i+n});var i=0===n?1:n;return a[e]=i,a}function L(t,e){t.width=e[t.index],t.children.forEach(function(t){L(t,e)})}function _(t,e){var a={};return a[e.index]=t,e.children.forEach(function(e){var n=_(t+1,e);S()(a,n)}),a}function R(t,e,a){t.depth=e[t.index],t.rdepth=a+1-e[t.index],t.children.forEach(function(t){R(t,e,a)})}function T(t,e,a){var n={},i=t.index,r=i in a?a[i]:a.default,o=e[r];return"AxisIndependent"===o.Layout.Category&&(n[i]={data:t,dsl:o}),t.children.forEach(function(t){S()(n,T(t,e,a))}),n}function O(t,e){var a=["adaptive","height","width","depth","rdepth"],n=0;n=a.indexOf(e.Element.RootWidth);var i=0===n?1:t[e.Element.RootWidth],r=-1===n;n=a.indexOf(e.Element.RootHeight);var o=0===n?1:t[e.Element.RootHeight],s=-1===n;return{width:i,height:o,widthWithValue:r,heightWithValue:s,id:t.index,root:{x:0,y:0,width:i,height:o},subtreeLayout:[],subtrees:{x:0,y:0,width:0,height:0}}}a("6c7b");var E=a("75fc"),P=function(t,e,a,n,i){var r=[],o=e.children.length;if("include"===a.Root.Relation){if(r=Array(4*o+16).fill(0),r[4+t]=1,r[0+t]=-1,n.A.push(r),n.B.push(0),r=Array(4*o+16).fill(0),r[4*o+10+t]=1,"Padding"in a.Root){var s=0;isNaN(a.Root.Padding[0])?(s=+a.Root.Padding[0].slice(0,-1),"h"===a.Root.Padding[0].slice(-1)?r[5]=-s:r[4]=-s):(s=+a.Root.Padding[0],r[0+t]=-s)}else r[0+t]=0;if(n.A.push(r),n.B.push(0),r=Array(4*o+16).fill(0),r[4*o+14+t]=1,"Padding"in a.Root){var l=0;isNaN(a.Root.Padding[1])?(l=+a.Root.Padding[1].slice(0,-1),"h"===a.Root.Padding[1].slice(-1)?r[5]=-l:r[4]=-l):(l=+a.Root.Padding[1],r[0+t]=-l)}else r[0+t]=0;n.A.push(r),n.B.push(0),r=Array(4*o+16).fill(0),r[0+t]=1,r[8+t]=-1,r[4*o+10+t]=-1,r[4*o+14+t]=-1,n.A.push(r),n.B.push(0),r=Array(4*o+16).fill(0),r[2+t]=1,n.A.push(r),n.B.push(0),r=Array(4*o+16).fill(0),r[2+t]=1,r[4*o+10+t]=1,r[6+t]=-1,n.A.push(r),n.B.push(0)}else{var c="adaptive"===i?1:e[i];r=Array(4*o+16).fill(0),r[4+t]=1,n.A.push(r),n.B.push(c)}if("within"===a.Root.Relation){var d=.5;"Alignment"in a.Root&&("left"!==a.Root.Alignment&&"top"!==a.Root.Alignment||(d=0),"right"!==a.Root.Alignment&&"bottom"!==a.Root.Alignment||(d=1)),r=Array(4*o+16).fill(0),r[2+t]=1,r[4+t]=d,r[0+t]=-d,n.A.push(r),n.B.push(0),r=Array(4*o+16).fill(0),r[6+t]=1,r[8+t]=d,r[0+t]=-d,n.A.push(r),n.B.push(0),"flatten"===a.Subtree.Relation&&(r=Array(4*o+16).fill(0),r[8+t]=1,r[0+t]=-1,n.A.push(r),n.B.push(0),r=Array(4*o+16).fill(0),r[6+t]=1,n.A.push(r),n.B.push(0))}if("juxtapose"===a.Root.Relation){if(r=Array(4*o+16).fill(0),r[4*o+10+t]=1,"Margin"in a.Root){var u=0;isNaN(a.Root.Margin)?(u=+a.Root.Margin.slice(0,-1),"h"===a.Root.Margin.slice(-1)?r[5]=-u:r[4]=-u):(u=+a.Root.Margin,r[0+t]=-u)}else r[0+t]=0;n.A.push(r),n.B.push(0),r=Array(4*o+16).fill(0),r[4+t]=1,r[4*o+10+t]=1,r[8+t]=1,r[0+t]=-1,n.A.push(r),n.B.push(0),"Position"in a.Root?"left"===a.Root.Position||"top"===a.Root.Position?(r=Array(4*o+16).fill(0),r[2+t]=1,n.A.push(r),n.B.push(0),r=Array(4*o+16).fill(0),r[6+t]=1,r[8+t]=1,r[0+t]=-1,n.A.push(r),n.B.push(0)):(r=Array(4*o+16).fill(0),r[6+t]=1,n.A.push(r),n.B.push(0),r=Array(4*o+16).fill(0),r[2+t]=1,r[4+t]=1,r[0+t]=-1,n.A.push(r),n.B.push(0)):(r=Array(4*o+16).fill(0),r[2+t]=1,n.A.push(r),n.B.push(0),r=Array(4*o+16).fill(0),r[6+t]=1,r[8+t]=1,r[0+t]=-1,n.A.push(r),n.B.push(0))}if("align"===a.Subtree.Relation){var h=.5;"Alignment"in a.Subtree&&("left"!==a.Subtree.Alignment&&"top"!==a.Subtree.Alignment||(h=0),"right"!==a.Subtree.Alignment&&"bottom"!==a.Subtree.Alignment||(h=1)),e.children.forEach(function(e,a){r=Array(4*o+16).fill(0),r[10+4*a+0+t]=1,r[10+4*a+2+t]=h,r[6+t]=-1,r[8+t]=-h,n.A.push(r),n.B.push(0)})}else{var p=!0,f=Object(E["a"])(e.children);"SortingOrder"in a.Subtree&&(p="desc"!==a.Subtree.SortingOrder),"SortingCriteria"in a.Subtree?"null"!==a.Subtree.SortingCriteria&&f.sort(function(t,e){return(t[a.Subtree.SortingCriteria]<e[a.Subtree.SortingCriteria]^p)-.5}):f.sort(function(t,e){return(t.index<e.index^p)-.5}),e.children.forEach(function(t,e){t.preOrder=e}),f.forEach(function(e,a){"order"in e?e.order[t]=a:e.order=[a,0]});var g=0,m=0;if("Margin"in a.Subtree&&(isNaN(a.Subtree.Margin)?(m=a.Subtree.Margin.slice(0,-1),"w"===a.Subtree.Margin.slice(-1)&&(r=Array(4*o+16).fill(0),r[4*o+12+t]=1,r[4]=-m,n.A.push(r),n.B.push(0),g=1),"h"===a.Subtree.Margin.slice(-1)&&(r=Array(4*o+16).fill(0),r[4*o+12+t]=1,r[5]=-m,n.A.push(r),n.B.push(0),g=1)):m=+a.Subtree.Margin),0===g){if(o>1){r=Array(4*o+16).fill(0);for(var v=0;v<o;v++)r[10+4*v+2+t]=1;r[8+t]=-1+m,n.A.push(r),n.B.push(0)}r=Array(4*o+16).fill(0),r[4*o+12+t]=1,r[8+t]=-m/o,n.A.push(r),n.B.push(0)}e.children.forEach(function(e,a){if(0===e.order[t])r=Array(4*o+16).fill(0),r[10+4*a+t]=1,r[6+t]=-1,r[4*o+12+t]=-.5,n.A.push(r),n.B.push(0);else{r=Array(4*o+16).fill(0),r[10+4*a+0+t]=1;var i=f[e.order[t]-1].preOrder;r[10+4*i+0+t]=-1,r[10+4*i+2+t]=-1,r[4*o+12+t]=-1,n.A.push(r),n.B.push(0)}});var y=f[o-1].preOrder;r=Array(4*o+16).fill(0),r[10+4*y+0+t]=1,r[10+4*y+2+t]=1,r[4*o+12+t]=.5,r[6+t]=-1,r[8+t]=-1,n.A.push(r),n.B.push(0)}},w=function(t,e,a){var n=["adaptive","height","width","depth","rdepth"],i=!0,r={A:[],B:[]},o=t.children.length,s=0,l=e.Layout.X;P(s,t,l,r,e.Element.RootWidth),s=1,l=e.Layout.Y,P(s,t,l,r,e.Element.RootHeight);var c=1,d=1,u=[];if(r.isCompatible={},r.widthWithValue=!1,r.heightWithValue=!1,"top-down"===e.Layout.Mode){var h=1;t.children.forEach(function(t,a){u=Array(4*o+16).fill(0),u[10+4*a+2]=1,r.A.push(u),i=n.indexOf(e.Layout.SubtreeWidth),i<0&&(r.widthWithValue=!0),h="adaptive"===e.Layout.SubtreeWidth?1:t[e.Layout.SubtreeWidth],c=c>h?c:h,r.B.push(h),u=Array(4*o+16).fill(0),u[10+4*a+3]=1,r.A.push(u),h=1,i=n.indexOf(e.Layout.SubtreeHeight),i<0&&(r.heightWithValue=!0),h="adaptive"===e.Layout.SubtreeHeight?1:t[e.Layout.SubtreeHeight],d=d>h?d:h,r.B.push(h)})}else{var p=!1,f=!1,g=!1,m=!1,v={},y={};if(t.children.forEach(function(t,e){t.index in a?(a[t.index].widthWithValue?(p=!0,v[e]=!0):(g=!0,v[e]=!1),a[t.index].heightWithValue?(f=!0,y[e]=!0):(m=!0,y[e]=!1)):(g=!0,m=!0,v[e]=!1,y[e]=!1)}),p)if(g){var b=0,D=0;t.children.forEach(function(t,e){if(!v[e]){u=Array(4*o+16).fill(0),u[10+4*e+2]=1,r.A.push(u);var n=t.index in a?a[t.index].width:1;b+=n,D+=1,c=c>n?c:n,r.B.push(n)}});var S=b/D;c=c>S?c:S,t.children.forEach(function(t,e){v[e]&&(r.isCompatible[t.index]=!0,u=Array(4*o+16).fill(0),u[10+4*e+2]=1,r.A.push(u),r.B.push(S))})}else r.widthWithValue=!0,t.children.forEach(function(t,e){u=Array(4*o+16).fill(0),u[10+4*e+2]=1,r.A.push(u);var n=t.index in a?a[t.index].width:1;c=c>n?c:n,r.B.push(n)});else t.children.forEach(function(t,e){u=Array(4*o+16).fill(0),u[10+4*e+2]=1,r.A.push(u);var n=t.index in a?a[t.index].width:1;c=c>n?c:n,r.B.push(n)});if(f)if(m){var x=0,A=0;t.children.forEach(function(t,e){if(!y[e]){u=Array(4*o+16).fill(0),u[10+4*e+3]=1,r.A.push(u);var n=t.index in a?a[t.index].height:1;x+=n,A+=1,d=d>n?d:n,r.B.push(n)}});var C=x/A;d=d>C?d:C,t.children.forEach(function(t,e){y[e]&&(r.isCompatible[t.index]=!0,u=Array(4*o+16).fill(0),u[10+4*e+3]=1,r.A.push(u),r.B.push(C))})}else r.heightWithValue=!0,t.children.forEach(function(t,e){u=Array(4*o+16).fill(0),u[10+4*e+3]=1,r.A.push(u);var n=t.index in a?a[t.index].height:1;d=d>n?d:n,r.B.push(n)});else t.children.forEach(function(t,e){u=Array(4*o+16).fill(0),u[10+4*e+3]=1,r.A.push(u);var n=t.index in a?a[t.index].height:1;d=d>n?d:n,r.B.push(n)})}if("within"===e.Layout.X.Root.Relation&&"align"===e.Layout.X.Subtree.Relation){var L="adaptive"===e.Element.RootWidth?1:t[e.Element.RootWidth];L=L>c?L:c,u=Array(4*o+16).fill(0),u[0]=1,r.A.push(u),r.B.push(L)}if("within"===e.Layout.Y.Root.Relation&&"align"===e.Layout.Y.Subtree.Relation){var _="adaptive"===e.Element.RootHeight?1:t[e.Element.RootHeight];_=_>d?_:d,u=Array(4*o+16).fill(0),u[1]=1,r.A.push(u),r.B.push(_)}return"align"===e.Layout.X.Subtree.Relation&&(u=Array(4*o+16).fill(0),u[8]=1,r.A.push(u),r.B.push(c)),"align"===e.Layout.Y.Subtree.Relation&&(u=Array(4*o+16).fill(0),u[9]=1,r.A.push(u),r.B.push(d)),r};function j(t,e,a){var n=t.length,i=t[0].length,r=new a.Matrix;r.init(n,i);var o=r.data();t.forEach(function(t,e){t.forEach(function(t,a){o[e+a*n]=t})});var s=new a.Matrix;s.init(n,1);var l=s.data();e.forEach(function(t,e){l[e]=t});var c=new a.Matrix,d=new a.Matrix;a.Matrix.SolveLinearSystem(d,c,r,s);for(var u=d.data(),h=[],p=0;p<u.length;p++)h.push(u[p]);return r.destroy(),s.destroy(),d.destroy(),c.destroy(),h}var N=function(t,e,a,n,i){for(var r=t.length,o=(r-16)/4,s=[],l=0;l<o;l++){var c=e.children[l].index;s.push({x:t[10+4*l+0],y:t[10+4*l+1],width:t[10+4*l+2],height:t[10+4*l+3],id:c,isCompatible:c in i})}var d=e.index,u={width:t[0],height:t[1],widthWithValue:a,heightWithValue:n,root:{x:t[2],y:t[3],width:t[4],height:t[5]},id:d,subtreeLayout:s,subtrees:{x:t[6],y:t[7],width:t[8],height:t[9]}};return u},k=function(t,e,a){var n=t.data,i=t.dsl,r=w(n,i,e),o=j(r.A,r.B,a),s=N(o,n,r.widthWithValue,r.heightWithValue,r.isCompatible);return s};function I(t,e,a,n){var i=e[t];0===i.data.children.length?a[t]=O(i.data,i.dsl):"bottom-up"===i.dsl.Layout.Mode?(i.data.children.forEach(function(t){I(t.index,e,a,n)}),a[t]=k(i,a,n)):(a[t]=k(i,a,n),i.data.children.forEach(function(t){I(t.index,e,a,n)}))}var U=function(t,e,a,n){y(t),b(e),A(t,x(t)),L(t,C(t)),R(t,_(1,t),t.height);var i=T(t,e,a),r={};return 0!==i.length&&I(t.index,i,r,n),r};function W(t){return M.apply(this,arguments)}function M(){return M=Object(s["a"])(regeneratorRuntime.mark(function t(e){var a,n,i,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if((new Date).getTime(),a=e.hierarchicalData,n=e.treeDSLContentObj,i=e.treeIndexWithDSL,"undefined"===typeof a||"undefined"===typeof n||"undefined"===typeof i){t.next=7;break}return r=U(a,n,i,lscgSolver),t.abrupt("return",r);case 7:case"end":return t.stop()}},t,this)})),M.apply(this,arguments)}function V(t,e){this.x=t.x,this.y=t.y,this.radius=e}function H(t,e,a){this.cx=t.x,this.cy=t.y,this.radiusX=Math.round(e),this.radiusY=Math.round(a)}function Y(t,e,a,n,i,r){this.width=a,this.height=n,this.x=t,this.y=e,this.id=i,this.path=r}function X(t,e,a,n,i){this.tx=t,this.ty=e,this.tw=a,this.th=n,this.direction=i}V.prototype={init:function(){},updateData:function(){},generatePath:function(){var t=d3.arc().innerRadius(0).outerRadius(this.radius).startAngle(-Math.PI).endAngle(Math.PI);return t()}},H.prototype={init:function(){},updateData:function(){},generatePath:function(){var t=this.cx,e=this.cy,a=this.radiusX,n=this.radiusY;return"M"+(t-a)+","+e+"a"+a+","+n+" 0 1,0 "+2*a+",0a"+a+","+n+" 0 1,0 "+-2*a+",0"}},Y.prototype={init:function(){},updateData:function(){}},X.prototype={getNodePosArray:function(){var t=this.tx,e=this.ty,a=this.tw,n=this.th,i=this.direction,r=[{x:t+a/2,y:e},{x:t,y:e+n},{x:t+a,y:e+n},{x:t+a/2,y:e}];return"bottom"===i?r=[{x:t,y:e},{x:t+a/2,y:e+n},{x:t+a,y:e},{x:t,y:e}]:"left"===i?r=[{x:t+a,y:e},{x:t,y:e+n/2},{x:t+a,y:e+n},{x:t+a,y:e}]:"right"===i&&(r=[{x:t,y:e},{x:t+a,y:e+n/2},{x:t,y:e+n},{x:t,y:e}]),r}};var z=a("e649");function B(t,e,a,n,i){var r=e.Node,o={x:a.x+a.Rootx+a.RootWidth/2,y:a.y+a.Rooty+a.RootHeight/2},s={x:n.x+n.TreeWidth/2,y:n.y+n.TreeHeight/2},l=0,c=a.RootWidth>a.RootHeight?a.RootHeight/2:a.RootWidth/2;if("cartesian"===t.Category){if("rectangle"===r){var d=[{x:a.x+a.Rootx,y:a.y+a.Rooty},{x:a.x+a.Rootx,y:a.y+a.Rooty+a.RootHeight},{x:a.x+a.Rootx+a.RootWidth,y:a.y+a.Rooty+a.RootHeight},{x:a.x+a.Rootx+a.RootWidth,y:a.y+a.Rooty},{x:a.x+a.Rootx,y:a.y+a.Rooty}],u=new g;return u.generatePath(d)}if("triangle"===r){var h=a.x+a.Rootx,p=a.y+a.Rooty,f=a.RootWidth,v=a.RootHeight,y="top";"undefined"!==typeof e.Direction&&(y=e.Direction);var b=new X(h,p,f,v,y),D=b.getNodePosArray(),S=new g;return S.generatePath(D)}if("circle"===r){var x=new V(o,c);return G(x.generatePath(),o["x"],o["y"])}if("ellipse"===r){var A=a.RootWidth/2,C=a.RootHeight/2,L=new H(o,A,C);return L.generatePath()}if("hidden"===r){var _=new V(o,l);return G(_.generatePath(),o["x"],o["y"])}}else if("polar"===t.Category){var R="y-axis";"undefined"!==typeof t.PolarAxis&&(R=t.PolarAxis);var T="top";"x-axis"===R&&(T="left"),"undefined"!==typeof t.PolarCenter&&(T=t.PolarCenter);var O=0;"undefined"!==typeof t.InnerRadius&&(O=t.InnerRadius);var E=0;"undefined"!==typeof t.StartAngle&&(E=t.StartAngle);var P=1;"undefined"!==typeof t.CentralAngle&&(P=t.CentralAngle);var w="clockwise";"undefined"!==typeof t.Direction&&(w=t.Direction);var j=new m(R,O,E,P,T,w);if("rectangle"===r){var N=[{x:a.x+a.Rootx,y:a.y+a.Rooty},{x:a.x+a.Rootx,y:a.y+a.Rooty+a.RootHeight},{x:a.x+a.Rootx+a.RootWidth,y:a.y+a.Rooty+a.RootHeight},{x:a.x+a.Rootx+a.RootWidth,y:a.y+a.Rooty},{x:a.x+a.Rootx,y:a.y+a.Rooty}];return j.updateData(n),G(j.generatePath(N,n),s["x"],s["y"])}if("circle"===r){"index-0"===a.id?j.updateData(i):j.updateData(n);var k=j.calPosition(o);k["x"]=k["x"]+s["x"],k["y"]=k["y"]+s["y"];var I=new V(o,c);return G(I.generatePath(),k["x"],k["y"])}if("triangle"===r){"index-0"===a.id?j.updateData(i):j.updateData(n);var U=j.calPosition(o);U["x"]=U["x"]+s["x"],U["y"]=U["y"]+s["y"];var W=U["x"]-a.RootWidth/2,M=U["y"]-a.RootHeight/2,$=a.RootWidth,Y=a.RootHeight,z="top";"undefined"!==typeof e.Direction&&(z=e.Direction);var B=new X(W,M,$,Y,z),F=B.getNodePosArray(),J=new g;return J.generatePath(F)}if("ellipse"===r){"index-0"===a.id?j.updateData(i):j.updateData(n);var K=j.calPosition(o);K["x"]=K["x"]+s["x"],K["y"]=K["y"]+s["y"];var Z=a.RootWidth/2,Q=a.RootHeight/2,q=new H(K,Z,Q);return console.log("EllipseNode Path",q.generatePath(),"x",K["x"],"y",K["y"]),q.generatePath()}if("hidden"===r){j.updateData(i);var tt=j.calPosition(o),et=new V(o,l);return tt["x"]=tt["x"]+s["x"],tt["y"]=tt["y"]+s["y"],G(et.generatePath(),tt["x"],tt["y"])}}}function F(t,e,a,n,i,r){var o=e.Node,s={x:n.x+n.TreeWidth/2,y:n.y+n.TreeHeight/2};if("cartesian"===t.Category)return r;if("polar"===t.Category){var l="y-axis";"undefined"!==typeof t.PolarAxis&&(l=t.PolarAxis);var c="top";"x-axis"===l&&(c="left"),"undefined"!==typeof t.PolarCenter&&(c=t.PolarCenter);var d=0;"undefined"!==typeof t.InnerRadius&&(d=t.InnerRadius);var u=0;"undefined"!==typeof t.StartAngle&&(u=t.StartAngle);var h=1;"undefined"!==typeof t.CentralAngle&&(h=t.CentralAngle);var p="clockwise";"undefined"!==typeof t.Direction&&(p=t.Direction);var f=new m(l,d,u,h,c,p);if("rectangle"===o){f.updateData(n);var g=f.calPosition(r);return g["x"]=g["x"]+s["x"],g["y"]=g["y"]+s["y"],g}if("circle"===o||"triangle"===o||"ellipse"===o||"hidden"===o){"index-0"===a.id?f.updateData(i):f.updateData(n);var v=f.calPosition(r);return v["x"]=v["x"]+s["x"],v["y"]=v["y"]+s["y"],v}}}function G(t,e,a){for(var n=z(t),i="",r=0;r<n.length;r++)if(i+=n[r].code,"M"==n[r].code)i+=n[r].x+e+","+(n[r].y+a);else if("L"==n[r].code)i+=n[r].x+e+","+(n[r].y+a);else if("A"==n[r].code){var o=n[r].largeArc?1:0,s=n[r].sweep?1:0;i+=n[r].rx+","+n[r].ry+","+n[r].xAxisRotation+","+o+","+s+","+(n[r].x+e)+","+(n[r].y+a)}return i}function J(t,e,a,n){var i=[];for(var r in t)i.push(r);i=i.sort(function(t,e){var a=t.replace("index-",""),n=e.replace("index-","");return a-n});var o=i[0],s=[],l=[];for(var c in t)if(s.push(t[c]),null!=t[c].fatherID){var d={beginid:t[c].fatherID,endid:t[c].id};l.push(d)}for(var u=y(s),h=b(u),p=0;p<s.length;p++){var f=s[p],g=u[p];D(f,g,h)}for(var m=0;m<l.length;m++){var v=l[m];v.pathAttr=S(v)}return[s,l];function y(t){for(var e=[],a=0;a<t.length;a++){var n=t[a],i=n.x+n.Rootx+n.RootWidth/2,r=n.y+n.Rooty+n.RootHeight/2;e.push({x:i,y:r})}return e}function b(t){for(var e={xmin:1e6,ymin:1e6,xmax:0,ymax:0},a=0;a<t.length;a++){var n=t[a],i=n.x,r=n.y;e.xmin>i&&(e.xmin=i),e.xmax<i&&(e.xmax=i),e.ymin>r&&(e.ymin=r),e.ymax<r&&(e.ymax=r)}var o={x:e.xmin,y:e.ymin,TreeWidth:e.xmax-e.xmin,TreeHeight:e.ymax-e.ymin};return o}function D(i,r,s){var l=e[a[i.id]].CoordinateSystem.Category,c=n.width/t[o].Width,d=n.height/t[o].Height,u=0,h=0;null!=i.fatherID&&(u=t[o].x,h=t[o].y);var p=e[a[i.id]].Element,f={id:i.id,x:(t[i.id].x+u)*c,y:(t[i.id].y+h)*d,Rootx:t[i.id].Rootx*c,Rooty:t[i.id].Rooty*d,RootWidth:t[i.id].RootWidth*c,RootHeight:t[i.id].RootHeight*d,isLeaf:t[i.id].isLeaf,Width:t[i.id].Width*c,Height:t[i.id].Height*d,depth:t[i.id].depth},g={};if(g["TreeWidth"]=n.width,g["TreeHeight"]=self.treeHeight,"polar"===l){var m=l,v=i.id;while("polar"===m){if(g["TreeWidth"]=t[v].Width,g["TreeHeight"]=t[v].Height,g["x"]=t[v].x,g["y"]=t[v].y,v=t[v].fatherID,null===v)break;m=e[a[v]].CoordinateSystem.Category}}var y=e[a[i.id]].CoordinateSystem;s["x"]=g["x"],s["TreeWidth"]=g["TreeWidth"],i.element=B(y,p,f,g,s),i.pos=F(y,p,f,g,s,r)}function S(n){var i,r=a[n.beginid],o=e[r].Element,s=o.Link,l=n.beginid,c=n.endid,d=t[l].pos.x,u=t[l].pos.y,h=t[c].pos.x,p=t[c].pos.y;switch(s){case"straight":var f=[];f.push([d,u]),f.push([h,p]);var g=d3.line();i=g(f);break;case"curveStepX":var m=[];m.push([d,u]),m.push([h,p]);var v=d3.line().curve(d3.curveStep);i=v(m);break;case"orthogonal":var y=[];y.push([d,u]),y.push([d,(u+p)/2]),y.push([h,(u+p)/2]),y.push([h,p]);var b=d3.line();i=b(y);break;case"curveStepAfter":var D=[];D.push([d,u]),D.push([h,p]);var S=d3.line().curve(d3.curveStepAfter);i=S(D);break;case"curveStepBefore":var x=[];x.push([d,u]),x.push([h,p]);var A=d3.line().curve(d3.curveStepBefore);i=A(x);break;case"curve":var C={source:[d,u],target:[h,p]},L=d3.linkVertical();i=L(C);break;case"linkHorizontal":var _={source:[d,u],target:[h,p]},R=d3.linkHorizontal();i=R(_);break;case"arccurve":var T=(d-h)/2,O=d,E=u,P=h,w=p;T<0&&(T=-T,O=h,E=p,P=d,w=u);var j=0;if("undefined"!==typeof o.ArcDirection){var N=o.ArcDirection;"bottom"===N&&(j=1)}i="M"+O+","+E+" A"+T+","+T+" 0 0 "+j+" "+P+","+w;break;case"arccurveBoth":var k=(d-h)/2,I=d,U=h,W=0;k<0&&(k=-k,I=h,p,U=d,u),t[l].depth%2===0&&(W=1),i="M"+I+",150 A"+k+","+k+" 0 0 "+W+" "+U+",150";break}return i}}var K=a("53be"),Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-view-container"},[a("div",{attrs:{id:"original-data-view-title"}},[a("span",{staticClass:"value"},[t._v(t._s(t.selectedDataset))])]),a("div",{attrs:{id:"original-data-view-content"}},[a("div",{attrs:{id:"inner-data-view-content"}},[a("vue-json-pretty",{attrs:{selectableType:"single",data:t.originalTreeData,deep:t.treeDepth,showDoubleQuotes:!1,highlightMouseoverNode:!0,highlightSelectedNode:!0,selectOnClickNode:!0},model:{value:t.selectedArray,callback:function(e){t.selectedArray=e},expression:"selectedArray"}})],1)]),a("div",{attrs:{id:"data-view-toggle"}},[a("el-tooltip",{staticClass:"labelIcon",attrs:{content:t.selectedDataset,effect:"light"}},[a("el-button",{attrs:{plain:""},on:{click:t.toggleDataView}},[a("i",{staticClass:"icon iconfont",class:t.previewPanelOpen?"icon-zuo":"icon-data"})])],1)],1)])},Q=[],q=a("d538"),tt=a.n(q),et={name:"OriginalDataView",components:{VueJsonPretty:tt.a},props:{},data:function(){return{previewPanelOpen:!1,originalTreeData:{},treeDepth:3,selectedArray:[],OPEN_PREVIEW_PANEL_DURATION:1e3}},created:function(){},mounted:function(){this.initTreeData(),this.initToggleButtonPos()},updated:function(){},watch:{selectedDataset:function(){this.originalTreeData=sysDatasetObj.getTreeDataset()}},computed:Object(l["a"])({},Object(f["d"])(["selectedDataset"])),methods:Object(l["a"])({},Object(f["b"])([]),{initTreeData:function(){this.originalTreeData=sysDatasetObj.getTreeDataset()},initToggleButtonPos:function(){var t=$("#data-view-toggle").width();$("#data-view-toggle").height();$("#data-view-toggle").css({right:-t+"px"})},toggleDataView:function(){this.previewPanelOpen?(this.closeDataPanel(),this.$emit("closeDataView")):(this.openDataPanel(),this.$emit("openDataView"))},openDataPanel:function(){if(!this.previewPanelOpen){var t=this.OPEN_PREVIEW_PANEL_DURATION,e=$("#original-data-view").width();$("#original-data-view").animate({left:"+="+e},t,function(){}),this.previewPanelOpen=!0}},closeDataPanel:function(){if(this.previewPanelOpen){var t=this.OPEN_PREVIEW_PANEL_DURATION,e=$("#original-data-view").width();$("#original-data-view").animate({left:"-="+e},t,function(){}),this.previewPanelOpen=!1}}})},at=et,nt=(a("a70f"),a("8a8c"),a("2877")),it=Object(nt["a"])(at,Z,Q,!1,null,"278f3c9f",null),rt=it.exports;a("6d67");function ot(t,e,a,n){for(var i=["#2171b5","#deebf7"],r=["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],s=d3.scaleLinear().range(i),l=d3.scaleOrdinal().range(r),c=0;c<t.length;c++){var d=t[c],u=d.id,h=e[a[u]];t[c].node_color=p(d,h,n)}return t;function p(t,e,a){var n=e.Element.Color;"undefined"===typeof n&&(n="depth");var i=e.Element.ColorSchema,r=e.Element.ColorRange,c=e.Element.StaticColor;"undefined"===typeof c&&(c="#6baed6");var d=b(a),u=t.id,h=d[u].data,p=a[0].data;if("static"===n)return c;var f=Object(o["a"])(p[n]);if("number"===f){var g=d3.extent(a,function(t,e){return+t.data[n]});s.domain(g),"undefined"!==typeof r&&s.range(r);var m=h[n];return s(m)}if("string"===f){"option 1"===i?l.range(d3.schemeCategory10):"option 2"===i&&l.range(d3.schemeSet3);var v=a.map(function(t){return t.data[n]});l.domain(v);var y=h[n];return l(y)}function b(t){for(var e={},a=0;a<t.length;a++){var n=t[a],i=n.data.index;e[i]=n}return e}}}function st(t,e,a,n,i,r,o){for(var s=d3.extent(i,function(t){return t.data.value}),l=Object(u["a"])(s,2),c=(l[0],l[1],d3.scaleLinear()),d=0;d<t.length;d++){var h=t[d],p=h.beginid,f=h.endid,g=e[p],m=e[f],v=a[n[p]],y=a[n[f]];h.link_width=b(g,m,v,y,r,o,i)}return t;function b(t,e,a,n,i,r,o){var s=a.Element.Link,l=n.Element.Link,d=a,u=t;"hidden"===s&&"hidden"!==l&&(d=n,u=e);var h=d.Element.Thickness,p=D(o),f=u.id,g=p[f].data;if("static"===h)return d.Element.StaticThickness;var m=d.Element.MaxThickness,v=d.Element.MinThickness,y=[m,v],b=d3.extent(o,function(t,e){return+t.data[h]});c.domain(b).range(y);var S=g[h];return c(S)}function D(t){for(var e={},a=0;a<t.length;a++){var n=t[a],i=n.data.index;e[i]=n}return e}}function lt(t){var e=JSON.parse(p()(t));for(var a in e)"Element"in e[a]||(e[a].Element={}),"Node"in e[a].Element||(e[a].Element.Node="rectangle"),"Link"in e[a].Element||(e[a].Element.Link="hidden"),"CoordinateSystem"in e[a]||(e[a].CoordinateSystem={},e[a].CoordinateSystem.Category="cartesian");return e}a("e649");var ct={name:"TreeCanvas",props:{treeCanvasKey:{type:Number}},data:function(){return{nodeArray:[],hierarchicalData:{},layoutParas:{},treeCanvasSvgId:"tree-dsl-svg-canvas",treeCanvasContainerId:"tree-dsl-canvas-container",treeCanvasId:"tree-dsl-canvas",treeCanvasRectId:"canvas-region-outer-rect",DURATION:1e3,selectedItem:null,posLenCollectionObj:{},regionOuterRectPos:{},singleTreeG:"tree-g",POSITION_DURATION:900,colorAttr:"depth",treeViewPosLenObj:{},currentRootID:"index-0",treeGId:"index-0-g",previewPanelOpen:!1,hybridNodeObjectNum:10,OPEN_PREVIEW_PANEL_DURATION:500,horizontalArray:[0,.5,1],verticalArray:[0,.5,1],treeViewWidth:0,treeViewHeight:0,viewWidth:0,viewHeight:0,layouts:{}}},components:{OriginalDataView:rt},created:function(){},mounted:function(){var t=this;setTimeout(function(){t.adjustTreeCanvas(),t.addZoomFunc()},100)},watch:{treeCanvasKey:function(){this.adjustTreeCanvas(),this.updateTreeVisResults()},viewSelectionMode:function(){var t=this.selectedPreviewNodeId;null!=t&&(d3.select("#"+this.treeCanvasId).select("#rootnode"+t).classed("select-root-node",!1),this.onclick(t))},viewSelectionMode2:function(){var t=this.selectedPreviewNodeId;null!=t&&(d3.select("#"+this.treeCanvasId).select("#rootnode"+t).classed("select-root-node",!1),this.onclick(t))},changedDSLNameState:function(){var t=sysDatasetObj.getLayoutParas(),e=t.treeDSLContentObj;"undefined"!==typeof e&&null!=this.treeUnitDSLName&&"undefined"!==typeof e[this.treeUnitDSLName]&&this.updateTreeVisResults()},treeCanvasLayoutState:function(){this.updateTreeVisResults()}},computed:Object(l["a"])({},Object(f["d"])(["treeDSLArray","viewSelectionMode","viewSelectionMode2","focusedTreeObjArray","selectedPreviewNodeId","changedDSLNameState","treeUnitDSLName","treeCanvasLayoutState"])),methods:Object(l["a"])({updateTreeVisResults:function(){var t=this,e=sysDatasetObj.getLayoutParas();W(e).then(function(e){t.layouts=e,t.renderTreeVisResults(e)})},renderTreeVisResults:function(t){var e=sysDatasetObj.getNodeArray();this.nodeArray=e,this.layoutParas=sysDatasetObj.getLayoutParas(),this.hierarchicalData=this.layoutParas.hierarchicalData;var a=this.layoutParas.treeDSLContentObj;this.dslContentObject=a;var n=this.layoutParas.treeIndexWithDSL;this.treeIndexWithDSL=n;var i=this.treeViewPosLenObj;this.currentRootID;"undefined"!==typeof n&&"undefined"!==typeof a&&null!=t&&"undefined"!==typeof t&&(this.AreaData=v(n,a,t,e,i),this.appendTreeVisBoundingBox(),this.renderTree(),this.adjustTreePos())},addZoomFunc:function(){var t=this,e=+$("#"+t.treeCanvasSvgId).width(),a=+$("#"+t.treeCanvasSvgId).height(),n=d3.zoom().scaleExtent([.1,40]).translateExtent([[-100,-100],[e+90,a+100]]).on("zoom",i);function i(){d3.select("#"+t.treeCanvasRectId);d3.select("#"+t.treeCanvasId).attr("transform",d3.event.transform)}d3.select("#"+t.treeCanvasSvgId).call(n)},adjustTreePos:function(){var t=this.treeGId,e=this.treeViewPosLenObj;d3.select("#"+t).transition().duration(this.POSITION_DURATION).attr("transform","translate("+e.x+","+e.y+")")},adjustTreeCanvas:function(){var t=this,e=.668;this.viewWidth=$("#"+this.treeCanvasSvgId).width(),this.viewHeight=$("#"+this.treeCanvasSvgId).height();var a=.88*this.viewWidth,n=.88*this.viewHeight;a*e>=n?a=n/e:n=a*e,this.treeWidth=a,this.treeHeight=n,this.viewPaddingTop=(this.viewHeight-this.treeHeight)/2,this.viewPaddingLeft=(this.viewWidth-this.treeWidth)/2;var i={x:this.viewPaddingLeft,y:this.viewPaddingTop,width:this.treeWidth,height:this.treeHeight};d3.select("#"+this.treeCanvasId).select("#"+this.treeCanvasRectId).empty()?d3.select("#"+this.treeCanvasId).append("rect").attr("class","canvas-region-outer").attr("id",this.treeCanvasRectId).attr("x",i.x).attr("y",i.y).attr("width",i.width).attr("height",i.height).on("click",function(){t.removeControlHighlight()}):d3.select("#"+this.treeCanvasId).select("#"+this.treeCanvasRectId).attr("x",i.x).attr("y",i.y).attr("width",i.width).attr("height",i.height),this.treeViewPaddingTop=.08*this.treeHeight,this.treeViewPaddingBottom=.08*this.treeHeight,this.treeViewPaddingLeft=.08*this.treeWidth,this.treeViewPaddingRight=.08*this.treeWidth,this.treeViewWidth=this.treeWidth-this.treeViewPaddingLeft-this.treeViewPaddingRight,this.treeViewHeight=this.treeHeight-this.treeViewPaddingTop-this.treeViewPaddingBottom;var r={x:this.treeViewPaddingLeft+this.viewPaddingLeft,y:this.treeViewPaddingTop+this.viewPaddingTop,width:this.treeViewWidth,height:this.treeViewHeight};this.treeViewPosLenObj=r,t.appendTreeVisBoundingBox(),this.renderGuideline(r),d3.select("#"+this.treeCanvasId).select("#"+this.treeGId).remove(),d3.select("#"+this.treeCanvasId).append("g").attr("id",this.treeGId).attr("class",this.singleTreeG).attr("transform","translate("+r.x+","+r.y+")")},appendTreeVisBoundingBox:function(){var t=this,e=this.treeGId,a=this.treeViewPosLenObj,n=0*a.width,i=0*a.height,r=e.replace("-g","")+"-bg";d3.select("#"+this.treeCanvasId).select("#"+r).empty()?(d3.select("#"+this.treeCanvasId).append("rect").attr("id",r).attr("class","tree-vis-region-outer").attr("x",a.x-n).attr("y",a.y-i).attr("width",a.width+2*n).attr("height",a.height+2*i).on("click",function(){t.addControlHighlight()}),t.appendResizeCircle(e)):(d3.select("#"+this.treeCanvasId).select("#"+r).attr("x",a.x-n).attr("y",a.y-i).attr("width",a.width+2*n).attr("height",a.height+2*i),t.repositionResizeCircle(e))},removeControlHighlight:function(){d3.select("#"+this.treeCanvasId).selectAll(".resize-circle-g").classed("highlight",!1),d3.select("#"+this.treeCanvasId).selectAll(".tree-vis-region-outer").classed("highlight",!1)},addControlHighlight:function(){var t=this;d3.select("#"+t.treeCanvasId).select(".resize-circle-g").classed("highlight",!0),d3.select("#"+t.treeCanvasId).select(".tree-vis-region-outer").classed("highlight",!0)},renderGuideline:function(t){var e=t.x,a=t.y,n=t.width,i=t.height;d3.select("#"+this.treeCanvasId).selectAll(".horizontal-mark-line").remove(),d3.select("#"+this.treeCanvasId).selectAll(".horizontal-mark-line").data(this.horizontalArray).enter().append("line").attr("class","horizontal-mark-line mark-line").attr("x1",function(t,a){return e+t*n}).attr("y1",function(t,e){return-1e4}).attr("x2",function(t,a){return e+t*n}).attr("y2",function(t,e){return 1e4}),d3.select("#"+this.treeCanvasId).selectAll(".vertical-mark-line").remove(),d3.select("#"+this.treeCanvasId).selectAll(".vertical-mark-line").data(this.verticalArray).enter().append("line").attr("class","vertical-mark-line mark-line").attr("x1",function(t,e){return-1e4}).attr("y1",function(t,e){return a+t*i}).attr("x2",function(t,e){return 1e4}).attr("y2",function(t,e){return a+t*i})},NodeStrokeWidth:function(t){var e=this.viewHeight>this.viewWidth?this.viewWidth:this.viewHeight,a=e/700;return a+"px"},renderTreeLink:function(t){var e=this,a=e.treeGId,n=d3.select("#"+a).selectAll(".link").data(t);n.enter().append("path").attr("id",function(t,e){return"link"+t.beginid+"to"+t.endid}).attr("class",function(t,e){return"link link-parent-"+t.beginid+" link-child-"+t.endid}).attr("d",function(t,e){return t.pathAttr}).attr("stroke-width",function(t,e){return t.link_width}).attr("fill","none");var i=[],r=[],o=[];n.each(function(t,a){var n=d3.select(this).attr("d");null!=n&&"undefined"!==typeof n&&i.push(n);var s=t.pathAttr;null!=s&&"undefined"!==typeof s&&r.push(s),o.push(d3.select(this).node()),d3.select(this).transition().duration(e.DURATION).attr("stroke-width",function(t,e){return t.link_width}).attr("fill","none")}),n.exit().remove();var s=function(){n.each(function(t,e){d3.select(this).attr("d",t.pathAttr)})};i.length===r.length?Object(K["tweenPaths"])({duration:e.DURATION,complete:s,from:i,to:r,next:function(t,e){return o[e].setAttribute("d",t)}}):s()},renderTreeNode:function(t){for(var e=this,a=e.nodeArray,n=e.treeGId,i=(this.layouts,1),r=0;r<t.length;r++)i<t[r].depth&&(i=t[r].depth);var o=d3.select("#"+n).selectAll(".lineartree-node").data(t,function(t,e){return t.id});o.enter().append("path").attr("class","lineartree-node").attr("id",function(t,e){return"rootnode"+t.id}).attr("d",function(t,e){return t.element}).on("mouseover",u).on("mousemove",function(t){d3.select("#NodeLabel").style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")}).on("mouseout",p).on("click",function(t,a){e.onclick(t.id)}).attr("fill",function(t){return t.node_color}).style("stroke-width",e.NodeStrokeWidth).style("opacity",1);var s=[],l=[],c=[];o.each(function(t,a){var n=t.element,i=d3.select(this).attr("d");c.push(d3.select(this).node()),s.push(i),l.push(n),d3.select(this).transition().duration(e.DURATION).attr("fill",function(t){return t.node_color}).style("stroke-width",e.NodeStrokeWidth).style("opacity",1)}),Object(K["tweenPaths"])({duration:e.DURATION,complete:d,from:s,to:l,next:function(t,e){return c[e].setAttribute("d",t)}});var d=function(){o.each(function(t,e){var a=t.element;d3.select(this).attr("d",a)})};function u(t){d3.select("#NodeLabel").style("visibility","visible"),d3.select("#NodeLabel").style("opacity",.9);for(var e=0,n="a",i=0;i<a.length;i++)if(a[i].data.index===t.id){e=a[i].data.value,n=a[i].data.name;break}d3.select("#NodeLabel").html(h(n,e)).style("left",d3.event.pageX-28+"px").style("top",d3.event.pageY-28+"px")}function h(t,e){return"<h4>name: "+t+"<br/>value: "+e+"</h4><table>"}function p(t){d3.select("#NodeLabel").style("visibility","hidden")}o.exit().remove()},getSingleSiblingSameDepthNodeArray:function(t){var e=this.AreaData,a=this.layouts,n=this.viewSelectionMode;if("SingleNode"===n){var i=[t];return i}if("Sibling"===n){var r=s(t);return r}if("SameDepth"===n){var o=l(t);return o}function s(t){var n=[],i=e[t].fatherID;if(null!=i)for(var r=0;r<a[i].subtreeLayout.length;r++){var o=a[i].subtreeLayout[r].id;n.push(o)}else n.push(t);return n}function l(a){var n=[],i=e[t];for(var r in e){var o=e[r];o.depth===i.depth&&n.push(o.id)}return n}},highlightSelectedNodeArray:function(t){var e=this.viewSelectionMode2,a=this.layouts;this.AreaData;d3.select("#"+this.treeCanvasId).selectAll(".lineartree-node").classed("clickunhighlight",!1).classed("clickhighlight",!1).classed("select-root-node",!1),d3.select("#"+this.treeCanvasId).selectAll(".lineartree-node").classed("clickunhighlight",!0);for(var n=[],i=0;i<t.length;i++){var r=t[i],o=[];d3.select("#"+this.treeCanvasId).selectAll("#rootnode"+r).classed("clickhighlight",!0).classed("clickunhighlight",!1),"SingleNode"===e?o=[r]:"Subtree"===e&&(o=l(r));for(var s=0;s<o.length;s++)d3.select("#"+this.treeCanvasId).selectAll("#rootnode"+o[s]).classed("clickhighlight",!0).classed("clickunhighlight",!1),-1===n.indexOf(o[s])&&n.push(o[s])}return n;function l(t){var e=[],n=[t];while(void 0!==t){for(var i=0;i<a[t].subtreeLayout.length;i++){var r=a[t].subtreeLayout[i].id;e.push(r),n.push(r)}t=e.shift()}return n}},unhighlightSelectedNodeArray:function(){d3.select("#"+this.treeCanvasId).selectAll(".lineartree-node").classed("clickunhighlight",!1).classed("clickhighlight",!1).classed("select-root-node",!1)},onclick:function(t){var e=this;e.addControlHighlight();var a=e.getSingleSiblingSameDepthNodeArray(t);if(d3.select("#"+e.treeCanvasId).select("#rootnode"+t).classed("select-root-node")){e.UPDATE_SELECTED_PREVIEW_NODE_ID(null),e.unhighlightSelectedNodeArray();var n=sysDatasetObj.getAllTreeObjIdArray();e.UPDATE_FOCUS_TREE_OBJ_ARRAY(n);var i=sysDatasetObj.getTreeUnitDataset();e.UPDATE_PREVIEW_TREE_OBJ(i)}else{e.UPDATE_SELECTED_PREVIEW_NODE_ID(t);var r=e.highlightSelectedNodeArray(a);d3.select("#"+this.treeCanvasId).select("#rootnode"+t).classed("select-root-node",!0),e.UPDATE_FOCUS_TREE_OBJ_ARRAY(r);var o=sysDatasetObj.findSelectedObjectById(t),s=JSON.parse(p()(o));e.UPDATE_PREVIEW_TREE_OBJ(s)}},renderTreeNodeLabel:function(){var t=self.currentRootID,e=d3.select("#"+currentRootGId).selectAll(".Label").data(treeLayoutArray);function a(e){if("hidden"!==dslContentObject[treeIndexWithDSL[e.id]].Element.Label){var a=self.treeViewPosLenObj.width/AreaData[t].Width,n=self.treeViewPosLenObj.height/AreaData[t].Height,i=(AreaData[t].x,AreaData[t].y,dslContentObject[treeIndexWithDSL[e.id]].CoordinateSystem),r=0,o=0,s=AreaData[e.id].Width,l=AreaData[e.id].Height;if("cartesian"===i&&AreaData[e.id].RootWidth*a>10)for(var c=0;c<nodeArray.length;c++)if(nodeArray[c].data.index===e.id){var d=nodeArray[c].data.name.length;if(10*d<AreaData[e.id].RootHeight*n)return nodeArray[c].data.name}if("polar"===i){var u=i,h=e.id;while("polar"===u){if(r=AreaData[h].x,o=AreaData[h].y,s=AreaData[h].Width,l=AreaData[h].Height,h=AreaData[h].fatherID,null===h)break;u=dslContentObject[treeIndexWithDSL[h]].CoordinateSystem}var p=r+s/2,f=o+l/2,g=s>l?l/2:s/2,m=d3.scaleLinear().range([-Math.PI,Math.PI]),v=d3.scaleLinear().range([0,g]),y="y-axis";if("y-axis"===y){m.domain([r,r+s]),v.domain([o,Math.abs(l+o)]);var b,D,S,x,A=v(AreaData[e.id].y+AreaData[e.id].Rooty),C=v(AreaData[e.id].y+AreaData[e.id].Rooty+AreaData[e.id].RootHeight),L=m(AreaData[e.id].x+AreaData[e.id].Rootx),_=m(AreaData[e.id].x+AreaData[e.id].Rootx+AreaData[e.id].RootWidth);if(b=p-A*Math.sin(L)<p-A*Math.sin(_)?p-A*Math.sin(L):p-A*Math.sin(_),S=p-C*Math.sin(L)>p-C*Math.sin(_)?p-C*Math.sin(L):p-C*Math.sin(_),D=f+A*Math.cos(L)<f+A*Math.cos(_)?f+A*Math.cos(L):f+A*Math.cos(_),x=f+C*Math.cos(L)>f+C*Math.cos(_)?f+C*Math.cos(L):f+C*Math.cos(_),S-b>10)for(var R=0;R<nodeArray.length;R++)if(nodeArray[R].data.index===e.id){var T=nodeArray[R].data.name.length;if(10*T<x-D)return nodeArray[R].data.name}}else if("x-axis"===y){m.domain([o,o+l]),v.domain([r,Math.abs(s+r)]);var O,E,P,w,j=v(AreaData[e.id].x+AreaData[e.id].Rootx),N=v(AreaData[e.id].x+AreaData[e.id].Rootx+AreaData[e.id].RootWidth),k=m(AreaData[e.id].y+AreaData[e.id].Rooty),I=m(AreaData[e.id].y+AreaData[e.id].Rooty+AreaData[e.id].RootHeight);if(O=p-j*Math.sin(k)<p-j*Math.sin(I)?p-j*Math.sin(k):p-j*Math.sin(I),P=p-N*Math.sin(k)>p-N*Math.sin(I)?p-N*Math.sin(k):p-N*Math.sin(I),E=f+j*Math.cos(k)<f+j*Math.cos(I)?f+j*Math.cos(k):f+j*Math.cos(I),w=f+N*Math.cos(k)>f+N*Math.cos(I)?f+N*Math.cos(k):f+N*Math.cos(I),P-O>10)for(var U=0;U<nodeArray.length;U++)if(nodeArray[U].data.index===e.id){var W=nodeArray[U].data.name.length;if(10*W<w-E)return nodeArray[U].data.name}}}}}function n(e){var a=self.treeViewPosLenObj.width/AreaData[t].Width,n=self.treeViewPosLenObj.height/AreaData[t].Height,i=AreaData[t].x,r=AreaData[t].y,o=dslContentObject[treeIndexWithDSL[e.id]].CoordinateSystem.Category,s=0,l=0,c=AreaData[e.id].Width,d=AreaData[e.id].Height;if("cartesian"===o)return s=(AreaData[e.id].x+AreaData[e.id].Rootx+AreaData[e.id].RootWidth/2-i)*a,l=(AreaData[e.id].y+AreaData[e.id].Rooty+AreaData[e.id].RootHeight/2-r)*n,"translate("+s+","+l+")rotate(90)";if("polar"===o){var u=o,h=e.id;while("polar"===u){if(s=AreaData[h].x,l=AreaData[h].y,c=AreaData[h].Width,d=AreaData[h].Height,h=AreaData[h].fatherID,null===h)break;u=dslContentObject[treeIndexWithDSL[h]].CoordinateSystem.Category}var p=s+c/2,f=l+d/2,g=c>d?d/2:c/2,m=d3.scaleLinear().range([-Math.PI,Math.PI]),v=d3.scaleLinear().range([0,g]),y="y-axis";if("y-axis"===y){m.domain([s,s+c]),v.domain([l,Math.abs(d+l)]);var b=v(AreaData[e.id].y+AreaData[e.id].Rooty+AreaData[e.id].RootHeight/2),D=m(AreaData[e.id].x+AreaData[e.id].Rootx+AreaData[e.id].RootWidth/2);s=p-b*Math.sin(D),l=f+b*Math.cos(D)}else if("x-axis"===y){m.domain([l,l+d]),v.domain([s,Math.abs(c+s)]);var S=v(AreaData[e.id].x+AreaData[e.id].Rootx+AreaData[e.id].RootWidth/2),x=m(AreaData[e.id].y+AreaData[e.id].Rooty+AreaData[e.id].RootHeight/2);s=p-S*Math.sin(x),l=f-S*Math.cos(x)}return"translate("+s+","+l+")rotate(90)"}}e.enter().append("text").attr("class","Label").attr("id",function(t){return"NodeLabel"+t.id}).attr("dy",".35em").attr("transform",n).style("text-anchor","middle").style("font","14px sans-serif").text(a),e.transition().duration(self.DURATION).attr("class","Label").attr("id",function(t){return"NodeLabel"+t.id}).attr("dy",".35em").attr("transform",n).text(a),e.exit().remove()},renderTree:function(){var t=this,e=this.treeIndexWithDSL,a=this.dslContentObject,n=this.treeViewPosLenObj,i=(this.layouts,this.AreaData),r=this.nodeArray,o=this.currentRootID,s=lt(a),l=J(i,s,e,n,o),c=Object(u["a"])(l,2),d=c[0],h=c[1];d=ot(d,s,e,r),h=st(h,i,s,e,r,this.treeViewWidth,this.treeViewHeight),t.renderTreeLink(h),t.renderTreeNode(d)},extractDSLContentObject:function(){for(var t=this.treeDSLArray,e={},a=0;a<t.length;a++){var n=t[a],i=n.editorId,r=n.content;e[i]=r}return e},getSvgCoordinates:function(t,e,a){var n=document.getElementById(this.treeCanvasSvgId),i=n.createSVGPoint();i.x=e,i.y=a;var r=i.matrixTransform(t.getScreenCTM().inverse());return r},repositionResizeCircle:function(t){var e=this,a=d3.select("#"+e.treeCanvasId),n=a.select(".resize-circle-g"),i=a.select(".tree-vis-region-outer"),r=+i.attr("x"),o=+i.attr("y"),s=+i.attr("width"),l=+i.attr("height");n.select(".topleft").attr("cx",r).attr("cy",o),n.select(".bottomright").attr("cx",r+s).attr("cy",o+l)},appendResizeCircle:function(t){var e=this,a=d3.select("#"+e.treeCanvasId),n=d3.select("#"+e.treeCanvasId).select(".tree-vis-region-outer"),i=+n.attr("x"),r=+n.attr("y"),o=+n.attr("width"),s=+n.attr("height"),l=a.append("g").attr("class","resize-circle-g");function c(){var a=e.treeViewPosLenObj,n=d3.select(this),i="start"===d3.event.type;if(i||n.classed("hovering")?d3.select("#"+e.treeCanvasId).select(".tree-vis-region-outer").classed("resizing",!0):d3.select("#"+e.treeCanvasId).select(".tree-vis-region-outer.resizing").classed("resizing",!1),i){var r=d3.select("#"+e.treeCanvasId).select(".tree-vis-region-outer"),o=+r.attr("x"),s=+r.attr("y"),l=+r.attr("width"),c=+r.attr("height");e.regionOuterRectPos={x:o,y:s,width:l,height:c}}if(!i){var d=d3.select("#"+e.treeCanvasId).select(".tree-vis-region-outer"),u=+d.attr("x"),h=+d.attr("y"),p=+d.attr("width"),f=+d.attr("height"),g=u-e.regionOuterRectPos.x,m=h-e.regionOuterRectPos.y,v=p-e.regionOuterRectPos.width,y=f-e.regionOuterRectPos.height;a.x=a.x+g,a.y=a.y+m,a.width=a.width+v,a.height=a.height+y;t.replace("-g","");e.updateTreeVisResults()}}l.append("circle").attr("class","topleft").attr("cx",i).attr("cy",r).call(d3.drag().container(d3.select("#"+e.treeCanvasId).node()).subject(function(){return{x:d3.event.x,y:d3.event.y}}).on("start end",c).on("drag",m)),l.append("circle").attr("class","bottomright").attr("cx",i+o).attr("cy",r+s).call(d3.drag().container(d3.select("#"+e.treeCanvasId).node()).subject(function(){return{x:d3.event.x,y:d3.event.y}}).on("start end",c).on("drag",m));var d=e.treeWidth+e.viewPaddingLeft,u=e.viewPaddingLeft,h=e.treeHeight+e.viewPaddingTop,p=e.viewPaddingTop,f=0,g=0;function m(t){var n=e.getSvgCoordinates(a.node(),d3.event.sourceEvent.clientX,d3.event.sourceEvent.clientY),i=Math.max(Math.min(n.x,d),u),r=Math.max(Math.min(n.y,h),p),o=d3.select("#"+e.treeCanvasId).select(".tree-vis-region-outer"),s=+o.attr("x"),l=+o.attr("y"),c=+o.attr("width"),m=+o.attr("height");if(d3.select(this).classed("topleft")){var v=Math.max(c+s-i,f);s+=c-v,c=v;var y=Math.max(m+l-r,g);l+=m-y,m=y,d3.select(this).attr("cx",s).attr("cy",l)}else c=i-s,m=r-l,d3.select(this).attr("cx",s+c).attr("cy",l+m);o.attr("x",s).attr("y",l).attr("width",c).attr("height",m)}}},Object(f["c"])(["UPDATE_TREE_DSL_ARRAY_KEY","UPDATE_FOCUS_TREE_OBJ_ARRAY","UPDATE_PREVIEW_TREE_OBJ","UPDATE_SELECTED_PREVIEW_NODE_ID"]))},dt=ct,ut=(a("a165"),a("cd36"),a("735c"),a("c4fa"),Object(nt["a"])(dt,c,d,!1,null,"3b14457f",null)),ht=ut.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("span",{staticClass:"text"},[t._v(t._s(t.title))]),a("span",{staticClass:"operation"},[a("span",{staticClass:"mode-selection"},[a("el-tooltip",{attrs:{content:"display mode",placement:"left"}},[a("el-dropdown",{on:{command:t.handleViewSelectionModeCommand}},[a("span",{staticClass:"el-dropdown-link"},[a("span",{style:t.boldTextStyleObj},[t._v("h:")]),t._v("\n            "+t._s(t.localSelectionMode1+" ")+"\n            "),a("span",{style:t.boldTextStyleObj},[t._v("v:")]),t._v("\n            "+t._s(t.localSelectionMode2)+"\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("div",{staticClass:"selection-controller",style:t.styleObject},[a("el-row",[a("el-col",{attrs:{offset:1,span:23}},[a("span",{style:t.boldTextStyleObj},[t._v("\n                    SelectionMode (horizontal)\n                  ")])])],1),a("div",{staticClass:"radio-button-container",style:t.radioButtonContainerStyle},[a("el-radio-group",{attrs:{size:"mini"},on:{change:t.changeSelectionMode1},model:{value:t.localSelectionMode1,callback:function(e){t.localSelectionMode1=e},expression:"localSelectionMode1"}},[a("el-radio-button",{attrs:{label:"SingleNode"}}),a("el-radio-button",{attrs:{label:"Sibling"}}),a("el-radio-button",{attrs:{label:"SameDepth"}})],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:23}},[a("span",{style:t.boldTextStyleObj},[t._v("\n                      SelectionMode (vertical)\n                    ")])])],1),a("div",{staticClass:"radio-button-container",style:t.radioButtonContainerStyle},[a("el-radio-group",{attrs:{size:"mini"},on:{change:t.changeSelectionMode2},model:{value:t.localSelectionMode2,callback:function(e){t.localSelectionMode2=e},expression:"localSelectionMode2"}},[a("el-radio-button",{attrs:{label:"SingleNode"}}),a("el-radio-button",{attrs:{label:"Subtree"}})],1)],1)],1)])],1)],1)],1)])])},ft=[];function gt(t){return mt.apply(this,arguments)}function mt(){return mt=Object(s["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d3.json("hierarchicalData/"+e);case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}},t,this)})),mt.apply(this,arguments)}var vt={name:"TreeCanvasViewTitle",props:{title:{type:String}},data:function(){return{operation:["joint","partition_vertical","partition_horizontal"],partitionDataCollection:{},styleObject:{width:"300px",height:"150px"},boldTextStyleObj:{fontWeight:"normal",fontSize:"0.8rem"},localSelectionMode1:"SameDepth",localSelectionMode2:"Subtree",radioButtonContainerStyle:{margin:"10px"}}},created:function(){},beforeMount:function(){},mounted:function(){},watch:{hierarchicalData:function(){this.partitionDataCollection[this.hierarchicalData.index]=this.hierarchicalData}},computed:Object(l["a"])({},Object(f["d"])(["viewSelectionMode","focusedTreeObj","hierarchicalData","partitionValue","layoutParas","partitionDataObjDic"])),methods:Object(l["a"])({handleViewSelectionModeCommand:function(t){this.UPDATE_VIEW_SELECTION_MODE(t)},clickHandler:function(t){var e=this;if("partition_vertical"===t||"partition_horizontal"===t){var a=this.focusedTreeObj.index;if("undefined"===typeof this.partitionDataObjDic[a]){var n=this.focusedTreeObj.parentGId,i=n.replace("-g",""),r=this.partitionDataObjDic[i],o=v(r,a),s=p()(o);o.partition_children=o.children,delete o.children;var l=JSON.parse(s);this.partitionDataObjDic[l.index]=l;var c={partition_type:t};this.UPDATE_PARTITION_VALUE(c),this.layoutParas.hierarchicalData=JSON.parse(p()(r)),this.getLayouts(this.layoutParas);var d=this.layoutParas.hierarchicalData.index;this.partitionDataObjDic[d]=this.layoutParas.hierarchicalData,setTimeout(function(){e.layoutParas.hierarchicalData=l,console.log("this.layoutParas.hierarchicalData",e.layoutParas.hierarchicalData),e.getLayouts(e.layoutParas);var t=e.layoutParas.hierarchicalData.index;e.partitionDataObjDic[t]=e.layoutParas.hierarchicalData},200)}}else if("joint"===t){var u=this.focusedTreeObj.index;if(console.log("focusNodeId",u),"undefined"!==typeof this.partitionDataObjDic[u])for(var h in this.partitionDataObjDic){var f=this.partitionDataObjDic[h],g=v(f,u);if(console.log("findResult",g),null!=g){var m={partition_type:t,parent_index:f.index,child_index:u};return this.UPDATE_PARTITION_VALUE(m),g.children=g.partition_children,delete g.partition_children,this.layoutParas.hierarchicalData=JSON.parse(p()(f)),this.getLayouts(this.layoutParas),void delete this.partitionDataObjDic[u]}}}function v(t,e){if(t.index===e)return t;if("undefined"!==typeof t.children){for(var a=null,n=0;n<t.children.length;n++)if(a=v(t.children[n],e),null!=a)break;return a}}},iconClass:function(t){var e="icon-"+t;return e},changeSelectionMode1:function(){this.UPDATE_VIEW_SELECTION_MODE(this.localSelectionMode1)},changeSelectionMode2:function(){this.UPDATE_VIEW_SELECTION_MODE2(this.localSelectionMode2)}},Object(f["c"])(["UPDATE_VIEW_SELECTION_MODE","UPDATE_PARTITION_VALUE","UPDATE_VIEW_SELECTION_MODE","UPDATE_VIEW_SELECTION_MODE2"]),Object(f["b"])(["getLayouts"]))},yt=vt,bt=(a("03d0"),a("fc88"),Object(nt["a"])(yt,pt,ft,!1,null,"7e7aa3dc",null)),Dt=bt.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"data-dialog"}},[a("div",{staticClass:"content-container"},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/","on-preview":t.handlePreview,"on-remove":t.handleRemove,"file-list":t.fileList,multiple:""}},[a("div",{staticClass:"el-upload__text"},[t._v("Drop file here or "),a("em",[t._v("click to upload")])])]),a("span",{staticClass:"inner-label"},[t._v("Your Dateset:")]),a("el-table",{ref:"treeDataTable",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"","default-sort":{prop:"date",order:"descending"},data:t.treeDataArray.filter(function(e){return!t.search||e.fileName.toLowerCase().includes(t.search.toLowerCase())}),border:"",stripe:""},on:{"row-dblclick":t.dataTableRowDBClick,"row-click":t.dataTableRowClick}},[a("el-table-column",{attrs:{property:"fileName",label:"FileName",sortable:""}}),a("el-table-column",{attrs:{property:"nodeNum",label:"NodeNum",sortable:""}}),a("el-table-column",{attrs:{property:"depth",label:"Depth",sortable:"","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[a("span",{staticClass:"icon iconfont icon-iconfontshanchu"})])]}}])})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.treedslDialogVisible=!1}}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.treedslDialogVisible=!0}}},[t._v("OK")])],1)])},xt=[],At={name:"DataDialog",components:{},data:function(){return{search:"",fileList:[],selectedTreeDataName:null}},watch:{},props:{treeDataArray:{type:Array},initTreeDataName:{type:String}},created:function(){console.log("treeDataArray",this.treeDataArray)},mounted:function(){this.selectedTreeDataName=this.initTreeDataName,this.setCurrent()},computed:{},methods:{dataTableRowDBClick:function(){},dataTableRowClick:function(t){var e=t.fileName;this.selectedTreeDataName=e,this.setCurrent(),this.updateSelectedTreeDateName(e)},handlePreview:function(){},handleRemove:function(){},handleDelete:function(t,e){this.treeDataArray.splice(t,1)},setCurrent:function(){for(var t=0;t<this.treeDataArray.length;t++){var e=this.treeDataArray[t];if(e.fileName===this.selectedTreeDataName){var a=this.treeDataArray[t];console.log("row",a),this.$refs.treeDataTable.setCurrentRow(a)}}},updateSelectedTreeDateName:function(t){this.$emit("updateSelectedTreeDateName",t)}}},Ct=At,Lt=(a("89e5"),a("19f9"),Object(nt["a"])(Ct,St,xt,!1,null,"76fdb94b",null)),_t=Lt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"export-panel",attrs:{gutter:24}},[a("el-col",{attrs:{offset:2,span:20}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"grid-content",attrs:{size:"mini",type:"text"},on:{click:t.save_as_png}},[a("span",[a("i",{staticClass:"icon iconfont icon-png download-icon",attrs:{slot:"suffix"},slot:"suffix"})]),t._v("\n              \n             "),a("span",{staticClass:"grid-content-title"},[t._v("Export as PNG")]),a("br"),a("br"),a("span",{staticClass:"grid-content-main"},[t._v("\n               PNG is a bitmap image format which made up of a fixed number of pixels. They have a fixed resolution and cannot be scaled. \n             ")])])])],1),a("el-col",{attrs:{offset:2,span:20}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"grid-content",attrs:{size:"mini",type:"text"},on:{click:t.save_as_svg}},[a("span",[a("i",{staticClass:"icon iconfont icon-svg download-icon",attrs:{slot:"suffix"},slot:"suffix"})]),t._v("\n              \n             "),a("span",{staticClass:"grid-content-title"},[t._v("Export as SVG")]),a("br"),a("br"),a("span",{staticClass:"grid-content-main"},[t._v("\n               SVG is a vector image format which uses geometric forms to represent differet parts as discrete objects and are infinitely scalable. \n             ")])])])],1),a("el-col",{attrs:{offset:2,span:20}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"grid-content",attrs:{size:"mini",type:"text"},on:{click:t.save_as_json}},[a("span",[a("i",{staticClass:"icon iconfont icon-format1 download-icon",attrs:{slot:"suffix"},slot:"suffix"})]),t._v("\n              \n             "),a("span",{staticClass:"grid-content-title"},[t._v("Export as JSON")]),a("br"),a("br"),a("span",{staticClass:"grid-content-main"},[t._v("\n               JSON is a lightweight data-interchange format. This serves as the visualization template. \n             ")])])])],1)],1)},Tt=[],Ot=a("bc05"),Et=a.n(Ot),Pt={name:"ExportDialog",components:{},data:function(){return{}},created:function(){},mounted:function(){},computed:Object(l["a"])({},Object(f["d"])(["layoutParas"])),methods:{save_as_png:function(){var t=this.appName+"-vis.png",e="tree-dsl-svg-canvas",a="tree-dsl-canvas",n=d3.select(document.getElementById(e)),i=n.select("#"+a);i.selectAll(".mark-line").attr("display","none"),i.select(".tree-g").selectAll(".resize-circle-g").attr("display","none"),Et.a.saveSvgAsPng(n.node(),t).then(function(){i.selectAll(".mark-line").attr("display",null),i.select(".tree-g").selectAll(".resize-circle-g").attr("display",null)})},save_as_svg:function(){console.log("save as svg")},save_as_json:function(){var t=this.nodeArray,e=!1,a=this.layoutParas.treeIndexWithDSL,n=this.layoutParas.treeDSLContentObj;if("undefined"!==typeof t)for(var i=0;i<t.length;i++){var r=t[i];if("undefined"===typeof r.data.dsl){e=!0;break}}var o=this.appName+"-template",s=[];for(var l in a)"default"===a[l]?e&&-1===s.indexOf(a[l])&&s.push(a[l]):-1===s.indexOf(a[l])&&s.push(a[l]);for(var c=0;c<s.length;c++){var d=s[c],u=n[d],h=o+c;0===c&&(h=o),h+=".json",f(u,h,"text/json")}function f(t,e,a){var n=p()(t),i=document.createElement("a"),r=new Blob([n],{type:a});i.href=URL.createObjectURL(r),i.download=e,i.click()}}}},wt=Pt,jt=(a("71b4"),Object(nt["a"])(wt,Rt,Tt,!1,null,null,null)),Nt=jt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"dsl-dialog"}},[a("div",{staticClass:"content-container"},[a("div",{staticClass:"inner-title first-title"},[t._v("Cartesian System")]),a("div",{staticClass:"tree-collection"},t._l(t.cartesianExampleObjArray,function(e,n){return a("div",{staticClass:"example",on:{click:function(a){t.selectTreeDSL(e.name)}}},[a("div",{staticClass:"preview",style:e.styleObject}),a("div",{staticClass:"name"},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t")])])}),0),a("div",{staticClass:"inner-title"},[t._v("Radial System")]),a("div",{staticClass:"tree-collection"},t._l(t.polarExampleObjectArray,function(e,n){return a("div",{staticClass:"example",on:{click:function(a){t.selectTreeDSL(e.name)}}},[a("div",{staticClass:"preview",style:e.styleObject}),a("div",{staticClass:"name"},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\t\n\t\t\t\t\t")])])}),0)])])},It=[];function Ut(){var t={treeDataArray:[{fileName:"flare.json",nodeNum:100,depth:5},{fileName:"tmp50.json",nodeNum:120,depth:3}],initTreeDataName:"tmp50.json",defaultLinkWidth:5,defaultMaxLinkWidth:30,cartesianDSLArray:["ArcTree","BCTh","BCTw","BeamTree","BeamTreeV","CurveTree","GoTree1","GoTree3","IciclePlot","IPTP","NodeLink","NodeLink1","PedVis","Dendrogram","TreemapSlice","TreemapSliceDice"],polarDSLArray:["GoTree2","Sunburst1","Sunburst"],selectedDSLArray:["ArcTree","CurveTree","NodeLink","Sunburst"]};return t}function Wt(){this.originalTreeDataStr=null,this.originalTreeData=null,this.nodeArrayWithValue=null,this.selectedDSLObject={},this.allTreeObjIdArray=[],this.layoutParas={},this.attrObjArray={},this.originalTreeUnitData=null,this.originalTreeUnitDataStr=null,this.treeUnitNodeArrayWithValue=null}function Mt(t){return $t.apply(this,arguments)}function $t(){return $t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var a,n,i,r,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=[],n=0;case 2:if(!(n<e.length)){t.next=12;break}return i=e[n],r=i+".json",t.next=7,d3.json("treeDSL/"+r);case 7:o=t.sent,a[i]=o;case 9:n++,t.next=2;break;case 12:return t.abrupt("return",a);case 13:case"end":return t.stop()}},t,this)})),$t.apply(this,arguments)}Wt.prototype={init:function(){},updateDataset:function(t){this.originalTreeDataStr=p()(t),this.addNodexIndex(t),this.originalTreeData=t,this.nodeArrayWithValue=this.computeNodeArray(t),this.allTreeObjIdArray=this.computeTreeObjIdArray(this.nodeArrayWithValue),this.layoutParas.hierarchicalData=t},findSelectedObjectById:function(t){var e=this.originalTreeData,a=n(e,t);return a;function n(t,e){if(t.index===e)return t;if("undefined"!==typeof t.children)for(var a=null,i=0;i<t.children.length;i++)if(a=n(t.children[i],e),null!=a&&"undefined"!==typeof a)return a}},computeTreeObjIdArray:function(t){for(var e=[],a=0;a<t.length;a++)e.push(t[a].data.index);return e},getAllTreeObjIdArray:function(){return this.allTreeObjIdArray},updateTreeUnitDataset:function(t){this.originalTreeUnitDataStr=p()(t),this.addNodexIndex(t),this.originalTreeUnitData=t,this.treeUnitNodeArrayWithValue=this.computeNodeArray(t)},getTreeDataset:function(){return JSON.parse(this.originalTreeDataStr)},getTreeUnitDataset:function(){return this.originalTreeUnitData},getTreeDSLObject:function(t){return this.selectedDSLObject[t]},getNodeArray:function(){return this.nodeArrayWithValue},getTreeUnitNodeArray:function(){return this.treeUnitNodeArrayWithValue},updateLayoutParas:function(t){this.layoutParas=t},getLayoutParas:function(){return this.layoutParas},updateTreeUnitLayoutParas:function(t){this.treeUnitLayoutParas=t},getTreeUnitLayoutParas:function(){return this.treeUnitLayoutParas},computeNodeArray:function(t){var e=d3.hierarchy(t),a=[];return this.computeValue(e,a),a},addNodexIndex:function(t){var e=[],a=0;e.push(t);while(0!==e.length){var n=e.shift();if(n.index="index-"+a,a+=1,void 0!==n.children)for(var i=0;i<n.children.length;i++)e.push(n.children[i])}},computeValue:function(t,e){var a=t.children;if(e.push(t),"undefined"!==typeof a){for(var n=0,i=0;i<a.length;i++)this.computeValue(a[i],e),n+=a[i].data.value;"undefined"===typeof t.data.value&&(t.data.value=n)}},addTopDownIndex:function(t){var e=[],a=0;e.push(t);while(0!==e.length){var n=e.shift();if(n.topDownNodeIndex=a,a+=1,void 0!==n.children)for(var i=0;i<n.children.length;i++)e.push(n.children[i])}},addBottomUpIndex:function(t){var e=0;function a(t){var n=t.children;if("undefined"!==typeof n)for(var i=0;i<n.length;i++)a(n[i]);t.bottomUpNodeIndex=e,e+=1}a(t)},updateSelectedDSLObject:function(t,e){this.selectedDSLObject[t]=e},updateTreeDSLContentObject:function(t,e){var a=this.layoutParas.treeDSLContentObj;"undefined"!==typeof a&&"undefined"!==typeof a[t]&&(a[t]=e)},getSelectedDSLObject:function(t){return this.selectedDSLObject[t]},isDSLObjectExist:function(t){return"undefined"!==typeof this.selectedDSLObject[t]}};var Vt={name:"DataDialog",components:{},data:function(){return{cartesianExampleObjArray:[],polarExampleObjectArray:[]}},created:function(){},beforeMount:function(){var t=Ut(),e=t.cartesianDSLArray,a=this.initExampleArray(e);this.cartesianExampleObjArray=a;var n=t.polarDSLArray,i=this.initExampleArray(n);this.polarExampleObjectArray=i},mounted:function(){},computed:Object(l["a"])({},Object(f["d"])(["selectedDSLArray"])),methods:{initExampleArray:function(t){for(var e=[],a=0;a<t.length;a++){var n=t[a],i={name:n,styleObject:{backgroundImage:"url(examples/"+n+".png)"}};e.push(i)}return e},selectTreeDSL:function(t){var e=this.selectedDSLArray.indexOf(t);if(-1===e)this.selectedDSLArray.push(t),sysDatasetObj.isDSLObjectExist(t)||Mt([t]).then(function(t){for(var e in t){var a=t[e];sysDatasetObj.updateSelectedDSLObject(e,a)}}),this.promptMessage(t);else{var a=this.getTreeDSLName(t,this.selectedDSLArray);this.selectedDSLArray.push(a),sysDatasetObj.isDSLObjectExist(a)||Mt([t]).then(function(t){for(var e in t){var n=t[e];sysDatasetObj.updateSelectedDSLObject(a,n)}}),this.promptMessage(t)}},promptMessage:function(t){this.$message({type:"info",message:t+" has been selected in DSLlist view"})},getTreeDSLName:function(t,e){for(var a=-1,n=0;n<e.length;n++){var i=e[n];if(-1!==t.indexOf(i)){var r=t.replace(i,"");r=""===r?0:+r,isNaN(r)||a<r&&(a=+r)}}var o=t;return a>-1&&(o=t+(+a+1)),o}}},Ht=Vt,Yt=(a("5b2d"),Object(nt["a"])(Ht,kt,It,!1,null,"4f30e3a8",null)),Xt=Yt.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"coord-container"},[t._m(0),a("div",{staticClass:"component-container"},[a("div",{staticClass:"component-panel",attrs:{id:"coordinate-panel"}},t._l(t.coordArray,function(e){return a("div",{staticClass:"component",attrs:{id:e.id,type:t.coordComponentType}},[a("div",{staticClass:"sketch-figure"},[t.showCoordComponents?a("CoordSketchFigure",{attrs:{coordType:e.name}}):t._e()],1),a("div",{staticClass:"component-title"},[a("span",{staticClass:"component-title-container",attrs:{id:"coord-title"}},[t._v(t._s(e.name))])])])}),0)])])},Bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("span",{staticClass:"inner-title"},[t._v("Coordinate System")])])}],Ft=(a("d25f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticClass:"sketch-figure-svg"})}),Gt=[],Jt={name:"CartesianSketchFigure",components:{},data:function(){return{coordArray:["cartesian","polar","triangle","rectangle"]}},props:{coordType:{type:String}},watch:{coordType:function(){this.renderCoordSketchFigure()}},created:function(){},beforeMount:function(){},mounted:function(){this.renderCoordSketchFigure()},computed:{},methods:{renderCoordSketchFigure:function(){var t=.08*+$(this.$el).width(),e=.08*+$(this.$el).width(),a=.08*+$(this.$el).height(),n=.08*+$(this.$el).height(),i=$(this.$el).width()-t-e,r=$(this.$el).height()-a-n;d3.select(this.$el).select(".coord-canvas").remove();var o=d3.select(this.$el).append("g").attr("transform","translate("+t+","+a+")").attr("class","coord-canvas");switch(this.coordType){case"cartesian":s();break;case"polar":l();break;case"triangle":c();break;case"rectangle":d();break}function s(){o.append("svg:defs").append("svg:marker").attr("id","arrow").attr("refX",2).attr("refY",6).attr("markerWidth",13).attr("markerHeight",13).attr("orient","auto").append("svg:path").attr("d","M2,2 L2,11 L10,6 L2,2"),o.append("line").attr("class","axis").attr("x1",0).attr("y1",r/2).attr("x2",.9*i).attr("y2",r/2).attr("marker-end","url(#arrow)"),o.append("line").attr("class","axis").attr("x1",i/2).attr("y1",r).attr("x2",i/2).attr("y2",.1*r).attr("marker-end","url(#arrow)")}function l(){var t=i>r?r/2:i/2;o.append("line").attr("class","polar-axis").attr("x1",0).attr("y1",r/2).attr("x2",i).attr("y2",r/2),o.append("circle").attr("class","polar-circle").attr("cx",i/2).attr("cy",r/2).attr("r",2*t/3),o.append("line").attr("class","axis").attr("x1",i/2).attr("y1",r/2).attr("x2",.9*i).attr("y2",.1*r).attr("marker-end","url(#arrow)")}function c(){var t=i>r?r:i,e=d3.symbol().type(d3.symbolTriangle).size(t*t/3);o.append("line").attr("class","polar-axis").attr("x1",0).attr("y1",r/2).attr("x2",i).attr("y2",r/2),o.append("path").attr("class","polar-axis").attr("d",e).attr("transform","translate("+i/2+","+.58*r+")"),o.append("line").attr("class","axis").attr("x1",i/2).attr("y1",r/2).attr("x2",.9*i).attr("y2",.1*r).attr("marker-end","url(#arrow)")}function d(){var t=3*(i>r?r:i)/4,e=(i-t)/2,a=(r-t)/2;d3.symbol().type(d3.symbolTriangle).size(t*t/3);o.append("line").attr("class","polar-axis").attr("x1",0).attr("y1",r/2).attr("x2",i).attr("y2",r/2),o.append("rect").attr("class","polar-axis").attr("x",e).attr("y",a).attr("width",t).attr("height",t),o.append("line").attr("class","axis").attr("x1",i/2).attr("y1",r/2).attr("x2",.9*i).attr("y2",.1*r).attr("marker-end","url(#arrow)")}}}},Kt=Jt,Zt=(a("62b4"),Object(nt["a"])(Kt,Ft,Gt,!1,null,null,null)),Qt=Zt.exports,qt={name:"CoordinateSystem",components:{CoordSketchFigure:Qt},data:function(){return{coordArray:[{id:"cartesian",name:"cartesian"},{id:"polar",name:"polar"}],coordComponentType:"CoordinateSystem",elementNodeArray:[],elementLinkArray:[],coordinateSystemArray:[],showCoordComponents:!1}},watch:{treeUnitDSLName:function(){var t=this;$(".coord-container .component").removeClass("selected"),$(".coord-container .component").removeClass("unhighlight");var e=t.treeUnitDSLArray.filter(function(e,a){return e.name===t.treeUnitDSLName});if(e.length>0){var a=e[0].dslObj;if("undefined"!==typeof a.CoordinateSystem){var n=a.CoordinateSystem.Category;"undefined"!==typeof n&&($(".coord-container .component").addClass("unhighlight"),$(".coord-container .component#"+n).addClass("selected"))}}}},created:function(){},beforeMount:function(){var t=$(".layout-container").width();console.log("viewWidth",t)},mounted:function(){this.initCoordPanel(),this.showCoordComponents=!0,this.initClickEvent()},computed:Object(l["a"])({},Object(f["d"])(["coordComponent","treeUnitDSLName","treeUnitDSLArray"])),methods:Object(l["a"])({highlightSelectedComponent:function(t){var e="CoordinateSystem";"undefined"!==typeof t&&($(".coord-container .component#"+t).hasClass("selected")?($(".coord-container .component#"+t).removeClass("selected"),this.removeDSLComponent(e)):($(".coord-container .component").removeClass("selected"),$(".coord-container .component#"+t).addClass("selected"),this.addCoordComponent(t))),$(".coord-container .selected").length>0?$(".coord-container .component").addClass("unhighlight"):$(".coord-container .component").removeClass("unhighlight")},addCoordComponent:function(t){var e={CoordinateSystem:{Category:t}};this.setDSLComponent(e)},initClickEvent:function(){var t=this;$(".coord-container .component").click(function(){$(this).attr("type");var e=$(this).attr("id");t.highlightSelectedComponent(e)})},initCoordPanel:function(){var t="25%",e="6.25%",a=.25,n=$(".coord-container .component-container").width();$(".coord-container .el-tabs__content").height();$("#coordinate-panel .component").css("width",t),$("#coordinate-panel .component").css("margin-left",e);var i=n*a,r=1.14*i;$("#coordinate-panel .component").css("height",r+"px");var o=r/5;$("#coordinate-panel .component-title").css("height",o);var s=4*r/5;$("#coordinate-panel .sketch-figure").css("height",s)}},Object(f["c"])(["UPDATE_DSL_COMPONENT_OBJECT_STATE","UPDATE_COORD"]),Object(f["b"])(["setDSLComponent","removeDSLComponent"]))},te=qt,ee=(a("88bb"),Object(nt["a"])(te,zt,Bt,!1,null,"cac9957e",null)),ae=ee.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-container"},[t._m(0),a("div",{staticClass:"component-container"},[a("el-tabs",{attrs:{type:"card",stretch:""},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:t.root}},[a("div",{staticClass:"component-panel",attrs:{id:"root-panel"}},t._l(t.layoutRootArray,function(e){return a("div",{staticClass:"component",attrs:{id:e.id,type:t.rootLayoutComponentType}},[a("div",{staticClass:"sketch-figure"},[t.showRootComponents?a("layoutSketchFigure",{attrs:{layout:e.name,category:"root"}}):t._e()],1),a("div",{staticClass:"component-title"},[a("span",{staticClass:"component-title-container",attrs:{id:"root-title"}},[t._v(t._s(e.name))])])])}),0)]),a("el-tab-pane",{attrs:{label:t.subtree}},[a("div",{staticClass:"component-panel",attrs:{id:"subtree-panel"}},t._l(t.layoutSubtreeArray,function(e){return a("div",{staticClass:"component",attrs:{id:e.id,type:t.subtreeLayoutComponentType}},[a("div",{staticClass:"sketch-figure"},[t.showSubtreeComponents?a("LayoutSketchFigure",{attrs:{layout:e.name,category:"subtree"}}):t._e()],1),a("div",{staticClass:"component-title"},[a("span",{staticClass:"component-title-container",attrs:{id:"subtree-title"}},[t._v(t._s(e.name))])])])}),0)])],1)],1)])},ie=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("span",{staticClass:"inner-title"},[t._v("Layout")])])}],re=(a("28a5"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticClass:"sketch-figure-svg"})}),oe=[],se={name:"LayoutSketchFigure",components:{},data:function(){return{layoutRootArray:["X include | Y within","X juxtapose | Y within","X within | Y within","X include | Y juxtapose","X juxtapose | Y juxtapose","X within | Y juxtapose","X include | Y include","X juxtapose | Y include","X within | Y include"],layoutSubtreeArray:["X align | Y flatten","X flatten | Y flatten","X align | Y align","X flatten | Y align"],DURATION:1e3}},props:{category:{type:String},layout:{type:String}},created:function(){},beforeMount:function(){},watch:{layout:function(){"root"===this.category?this.renderRootSketchFigure():"subtree"===this.category&&this.renderSubtreeSketchFigure()}},mounted:function(){"root"===this.category?(this.appendRootG(),this.renderRootSketchFigure()):"subtree"===this.category&&(this.appendSubtreeG(),this.renderSubtreeSketchFigure())},computed:{},methods:{appendRootG:function(){var t=.08*+$(this.$el).width(),e=.08*+$(this.$el).width(),a=.08*+$(this.$el).height(),n=.08*+$(this.$el).height();this.canvasWidth=$(this.$el).width()-t-e,this.canvasHeight=$(this.$el).height()-a-n,d3.select(this.$el).append("g").attr("class","root-g").attr("transform","translate("+t+","+a+")")},appendSubtreeG:function(){var t=.08*+$(this.$el).width(),e=.08*+$(this.$el).width(),a=.08*+$(this.$el).height(),n=.08*+$(this.$el).height();this.canvasWidth=$(this.$el).width()-t-e,this.canvasHeight=$(this.$el).height()-a-n;d3.select(this.$el).append("g").attr("class","subtree-g").attr("transform","translate("+t+","+a+")")},renderRootSketchFigure:function(){var t=this.layout.split(" | "),e=t[0].replace("X ",""),a=t[1].replace("Y ",""),n=this.computeRootXRange(e),i=this.computeSGXRange(e),r=this.computeRootYRange(a),o=this.computeSGYRange(a),s=this.canvasHeight,l=this.canvasWidth,c=d3.select(this.$el).select(".root-g");c.select(".root").empty()?c.append("rect").attr("class","root").attr("x",n[0]*l).attr("width",(n[1]-n[0])*l).attr("y",r[0]*s).attr("height",(r[1]-r[0])*s):c.select(".root").transition().duration(this.DURATION).attr("x",n[0]*l).attr("width",(n[1]-n[0])*l).attr("y",r[0]*s).attr("height",(r[1]-r[0])*s),c.select(".sg").empty()?c.append("rect").attr("class","sg").attr("x",i[0]*l).attr("width",(i[1]-i[0])*l).attr("y",o[0]*s).attr("height",(o[1]-o[0])*s):c.select(".sg").transition().duration(this.DURATION).attr("x",i[0]*l).attr("width",(i[1]-i[0])*l).attr("y",o[0]*s).attr("height",(o[1]-o[0])*s);this.computeMarkXRange(e)},renderSubtreeSketchFigure:function(){var t=this.layout.split(" | "),e=t[0].replace("X ",""),a=t[1].replace("Y ",""),n=this.computeNode1XRange(e),i=this.computeNode2XRange(e),r=this.computeNode1YRange(a),o=this.computeNode2YRange(a),s=this.canvasHeight,l=this.canvasWidth,c=d3.select(this.$el).select(".subtree-g");c.select(".subtree1").empty()?c.append("rect").attr("class","subtree subtree1").attr("x",n[0]*l).attr("width",(n[1]-n[0])*l).attr("y",r[0]*s).attr("height",(r[1]-r[0])*s):c.select(".subtree").transition().duration(this.DURATION).attr("x",n[0]*l).attr("width",(n[1]-n[0])*l).attr("y",r[0]*s).attr("height",(r[1]-r[0])*s),c.select(".subtree2").empty()?c.append("rect").attr("class","subtree subtree2").attr("x",i[0]*l).attr("width",(i[1]-i[0])*l).attr("y",o[0]*s).attr("height",(o[1]-o[0])*s):c.select(".subtree2").transition().duration(this.DURATION).attr("x",i[0]*l).attr("width",(i[1]-i[0])*l).attr("y",o[0]*s).attr("height",(o[1]-o[0])*s)},computeRootXRange:function(t){switch(t){case"include":return[0,1];case"juxtapose":return[0,.2];case"within":return[.4,.6]}},computeSGXRange:function(t){switch(t){case"include":return[.2,.8];case"juxtapose":return[.4,1];case"within":return[0,1]}},computeRootYRange:function(t){switch(t){case"include":return[0,1];case"juxtapose":return[0,.2];case"within":return[.4,.6]}},computeSGYRange:function(t){switch(t){case"include":return[.2,.8];case"juxtapose":return[.4,1];case"within":return[0,1]}},computeNode1XRange:function(t){switch(t){case"align":return[0,1];case"flatten":return[0,.4]}},computeNode2XRange:function(t){switch(t){case"align":return[.25,.75];case"flatten":return[.6,1]}},computeNode1YRange:function(t){switch(t){case"align":return[0,1];case"flatten":return[0,.4]}},computeNode2YRange:function(t){switch(t){case"align":return[.25,.75];case"flatten":return[.6,1]}},computeMarkXRange:function(t){switch(t){case"include":return[[0,.2],[.8,1]];case"juxtapose":return[.2,.4];case"within":return.5}},computeMarkYRange:function(t){switch(t){case"include":return[[0,.2],[.8,1]];case"juxtapose":return[.2,.4];case"within":return.5}}}},le=se,ce=(a("06e9"),Object(nt["a"])(le,re,oe,!1,null,null,null)),de=ce.exports,ue={name:"Layout",components:{LayoutSketchFigure:de},data:function(){return{rootLayoutComponentType:"Root",subtreeLayoutComponentType:"Subtree",layoutRootArray:[{id:"x-include-y-within",name:"X include | Y within"},{id:"x-juxtapose-y-within",name:"X juxtapose | Y within"},{id:"x-within-y-within",name:"X within | Y within"},{id:"x-include-y-juxtapose",name:"X include | Y juxtapose"},{id:"x-juxtapose-y-juxtapose",name:"X juxtapose | Y juxtapose"},{id:"x-within-y-juxtapose",name:"X within | Y juxtapose"},{id:"x-include-y-include",name:"X include | Y include"},{id:"x-juxtapose-y-include",name:"X juxtapose | Y include"},{id:"x-within-y-include",name:"X within | Y include"}],layoutSubtreeArray:[{id:"x-align-y-flatten",name:"X align | Y flatten"},{id:"x-flatten-y-flatten",name:"X flatten | Y flatten"},{id:"x-align-y-align",name:"X align | Y align"},{id:"x-flatten-y-align",name:"X flatten | Y align"}],elementNodeArray:[],elementLinkArray:[],coordinateSystemArray:[],padding:2,showRootComponents:!1,showSubtreeComponents:!1,root:"root-subtree group",subtree:"subtree",layout3_3:{lengthPercentage:"25%",marginPercentage:"6.25%",lengthNum:.25,marginNum:.0625},layout2_2:{lengthPercentage:"40%",marginPercentage:"6.7%",lengthNum:.4,marginNum:.067}}},watch:{treeUnitDSLName:function(){var t=this;console.log("treeUnitDSLName",this.treeUnitDSLName),$("#root-panel .component").removeClass("selected"),$("#root-panel .component").removeClass("unhighlight"),$("#subtree-panel .component").removeClass("selected"),$("#subtree-panel .component").removeClass("unhighlight");var e=t.treeUnitDSLArray.filter(function(e,a){return e.name===t.treeUnitDSLName});if(e.length>0){var a=e[0].dslObj,n=a.Layout;if("undefined"!==typeof n){if("undefined"!==typeof n.X&&"undefined"!==typeof n.X.Root){var i="x-"+n.X.Root.Relation+"-y-"+n.Y.Root.Relation;$("#root-panel .component").addClass("unhighlight"),$("#root-panel .component#"+i).addClass("selected")}if("undefined"!==typeof n.X&&"undefined"!==typeof n.X.Subtree){var r="x-"+n.X.Subtree.Relation+"-y-"+n.Y.Subtree.Relation;$("#subtree-panel .component").addClass("unhighlight"),$("#subtree-panel .component#"+r).addClass("selected")}}}}},created:function(){},beforeMount:function(){this.root=this.root+" ("+this.layoutRootArray.length+")",this.subtree=this.subtree+" ("+this.layoutSubtreeArray.length+")";$(".layout-container").width()},mounted:function(){var t=+$(".component-container").width(),e=+$(".component-container").height();e>2*t?this.initRootPanelSize(this.layout2_2):this.initRootPanelSize(this.layout3_3),this.initSubtreePanelize(this.layout2_2),this.showRootComponents=!0,this.initClickEvent()},computed:Object(l["a"])({},Object(f["d"])(["rootLayoutComponent","subtreeLayoutComponent","treeUnitDSLName","treeUnitDSLArray"])),methods:Object(l["a"])({handleClick:function(t,e){t.label===this.subtree&&(this.showSubtreeComponents=!0)},initClickEvent:function(){var t=this;$(".layout-container .component").click(function(){var e=$(this).attr("type"),a=$(this).attr("id");e===t.rootLayoutComponentType?t.highlightRootLayoutComponent(a):e===t.subtreeLayoutComponentType&&t.highlightSubtreeLayoutComponent(a)})},highlightRootLayoutComponent:function(t){var e="Root",a=t.split("-");"undefined"!==typeof t&&($("#root-panel .component#"+t).hasClass("selected")?($("#root-panel .component#"+t).removeClass("selected"),this.removeDSLComponent(e)):($("#root-panel .component").removeClass("selected"),$("#root-panel .component#"+t).addClass("selected"),this.addRootLayoutComponent(a))),$("#root-panel .selected").length>0?$("#root-panel .component").addClass("unhighlight"):$("#root-panel .component").removeClass("unhighlight")},highlightSubtreeLayoutComponent:function(t){var e="Subtree",a=t.split("-");"undefined"!==typeof t&&($("#subtree-panel .component#"+t).hasClass("selected")?($("#subtree-panel .component#"+t).removeClass("selected"),this.removeDSLComponent(e)):($("#subtree-panel .component").removeClass("selected"),$("#subtree-panel .component#"+t).addClass("selected"),this.addSubtreeLayoutComponent(a))),$("#subtree-panel .selected").length>0?$("#subtree-panel .component").addClass("unhighlight"):$("#subtree-panel .component").removeClass("unhighlight")},addRootLayoutComponent:function(t){var e={Layout:{X:{Root:{Relation:t[1]}},Y:{Root:{Relation:t[3]}}}};this.setDSLComponent(e)},addSubtreeLayoutComponent:function(t){var e={Layout:{X:{Subtree:{Relation:t[1]}},Y:{Subtree:{Relation:t[3]}}}};this.setDSLComponent(e)},initRootPanelSize:function(t){var e=t.lengthPercentage,a=t.marginPercentage,n=t.lengthNum,i=(t.marginNum,$(".component-container").width());$(".el-tabs__content").height();$("#root-panel .component").css("width",e),$("#root-panel .component").css("margin-left",a);var r=i*n,o=1.14*r;$("#root-panel .component").css("height",o+"px");var s=o/5;$("#root-panel .component-title").css("height",s);var l=4*o/5;$("#root-panel .sketch-figure").css("height",l)},initSubtreePanelize:function(t){var e=t.lengthPercentage,a=t.marginPercentage,n=t.lengthNum,i=(t.marginNum,$(".component-container").width());$(".el-tabs__content").height();$("#subtree-panel .component").css("width",e),$("#subtree-panel .component").css("margin-left",a);var r=i*n,o=1.14*r;$("#subtree-panel .component").css("height",o+"px");var s=o/5;$("#subtree-panel .component-title").css("height",s);var l=4*o/5;$("#subtree-panel .sketch-figure").css("height",l)}},Object(f["c"])(["UPDATE_ROOT_LAYOUT","UPDATE_SUBTREE_LAYOUT"]),Object(f["b"])(["setDSLComponent","removeDSLComponent"]))},he=ue,pe=(a("71b3"),Object(nt["a"])(he,ne,ie,!1,null,null,null)),fe=pe.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"element-container"},[t._m(0),a("div",{staticClass:"component-container"},[a("el-tabs",{attrs:{type:"card",stretch:""},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:t.nodeLabel}},[a("div",{staticClass:"component-panel",attrs:{id:"node-panel"}},t._l(t.nodeArray,function(e){return a("div",{staticClass:"component",attrs:{id:e.id,name:e.name,type:t.nodeComponentType}},[a("div",{staticClass:"sketch-figure"},[t.showNodeComponents?a("ElementSketchFigure",{attrs:{elementType:e.name,category:"node"}}):t._e()],1),a("div",{staticClass:"component-title"},[a("span",{staticClass:"component-title-container",attrs:{id:"node-title"}},[t._v(t._s(e.name))])])])}),0)]),a("el-tab-pane",{attrs:{label:t.linkLabel}},[a("div",{staticClass:"component-panel",attrs:{id:"link-panel"}},t._l(t.linkArray,function(e){return a("div",{staticClass:"component",attrs:{id:e.id,name:e.name,type:t.linkComponentType}},[a("div",{staticClass:"sketch-figure"},[t.showLinkComponents?a("ElementSketchFigure",{attrs:{elementType:e.name,category:"link"}}):t._e()],1),a("div",{staticClass:"component-title"},[a("span",{staticClass:"component-title-container",attrs:{id:"link-title"}},[t._v(t._s(e.name))])])])}),0)])],1)],1)])},me=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("span",{staticClass:"inner-title"},[t._v("Element")])])}],ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticClass:"sketch-figure-svg"})},ye=[],be={name:"LayoutSketchFigure",components:{},data:function(){return{nodeArray:["circle","rectangle","triangle","ellipse"],linkArray:["straight","curve","curveStepBefore","curveStepAfter","orthogonal","arccurve"]}},props:{category:{type:String},elementType:{type:String}},watch:{elementType:function(){"node"===this.category?this.renderNodeSketchFigure():"link"===this.category&&this.renderLinkSketchFigure()}},created:function(){},beforeMount:function(){},mounted:function(){"node"===this.category?this.renderNodeSketchFigure():"link"===this.category&&this.renderLinkSketchFigure()},computed:{},methods:{renderNodeSketchFigure:function(){var t=.08*+$(this.$el).width(),e=.08*+$(this.$el).width(),a=.08*+$(this.$el).height(),n=.08*+$(this.$el).height(),i=$(this.$el).width()-t-e,r=$(this.$el).height()-a-n;d3.select(this.$el).select(".node-canvas").remove();var o=d3.select(this.$el).append("g").attr("transform","translate("+t+","+a+")").attr("class","node-canvas");switch(this.elementType){case"circle":s();break;case"rectangle":l();break;case"triangle":c();break;case"ellipse":d();break}function s(){var t=i>r?r/2:i/2;o.append("circle").attr("class","node").attr("cx",i/2).attr("cy",r/2).attr("r",t)}function l(){var t=i>r?r:i,e=(i-t)/2,a=(r-t)/2;o.append("rect").attr("class","node").attr("x",e).attr("y",a).attr("width",t).attr("height",t)}function c(){var t=i>r?r:i,e=d3.symbol().type(d3.symbolTriangle).size(t*t/2);o.append("path").attr("class","node").attr("d",e).attr("transform","translate("+i/2+","+2*r/3+")")}function d(){o.append("ellipse").attr("class","node").attr("cx",i/2).attr("cy",r/2).attr("rx",i/2).attr("ry",r/4)}},renderLinkSketchFigure:function(){var t=this,e=.08*+$(this.$el).width(),a=.08*+$(this.$el).width(),n=.08*+$(this.$el).height(),i=.08*+$(this.$el).height(),r=$(this.$el).width()-e-a,o=$(this.$el).height()-n-i;d3.select(this.$el).select(".link-canvas").remove();var s=d3.select(this.$el).append("g").attr("transform","translate("+e+","+n+")").attr("class","link-canvas"),l=r>o?o:r,c=l/15,d=2*c,u=2*c,h=r-2*c,p=o-2*c,f=g();function g(){var e,a,n;switch(t.elementType){case"straight":e=[],e.push([d,u]),e.push([h,p]),a=d3.line(),n=a(e);break;case"curve":e={source:[d,u],target:[h,p]},a=d3.linkVertical(),n=a(e);break;case"curveStepBefore":e=[],e.push([d,u]),e.push([h,p]),a=d3.line().curve(d3.curveStepBefore),n=a(e),console.log("lineData curveStepBefore",n);break;case"curveStepAfter":e=[],e.push([d,u]),e.push([h,p]),a=d3.line().curve(d3.curveStepAfter),n=a(e),console.log("lineData curveStepAfter",n);break;case"orthogonal":e=[],e.push([d,u]),e.push([d,(u+p)/2]),e.push([h,(u+p)/2]),e.push([h,p]),a=d3.line(),n=a(e);break;case"arccurve":d=2*c,h=r-2*c,u=3*o/4,p=3*o/4;var i=(d-h)/2,s=d,l=u,f=h,g=p;i<0&&(i=-i,s=h,l=p,f=d,g=u),n="M"+s+","+l+" A"+i+","+i+" 0 0 0 "+f+","+g;break}return n}s.append("path").attr("class","node-link").attr("d",f),s.append("circle").attr("class","node").attr("cx",d).attr("cy",u).attr("r",c),s.append("circle").attr("class","node").attr("cx",h).attr("cy",p).attr("r",c)}}},De=be,Se=(a("6aea"),Object(nt["a"])(De,ve,ye,!1,null,null,null)),xe=Se.exports,Ae={name:"Element",components:{ElementSketchFigure:xe},data:function(){return{nodeArray:[{id:"circle",name:"circle"},{id:"rectangle",name:"rectangle"},{id:"triangle",name:"triangle"},{id:"ellipse",name:"ellipse"}],linkArray:[{id:"straight",name:"straight"},{id:"curve",name:"curve"},{id:"curve-step-before",name:"curveStepBefore"},{id:"curve-step-after",name:"curveStepAfter"},{id:"orthogonal",name:"orthogonal"},{id:"arccurve",name:"arccurve"}],nodeComponentType:"Node",linkComponentType:"Link",elementNodeArray:[],elementLinkArray:[],coordinateSystemArray:[],showNodeComponents:!1,showLinkComponents:!1,nodeLabel:"Node",linkLabel:"Link"}},watch:{treeUnitDSLName:function(){var t=this;$("#link-panel .component").removeClass("selected"),$("#link-panel .component").removeClass("unhighlight"),$("#node-panel .component").removeClass("selected"),$("#node-panel .component").removeClass("unhighlight");var e=t.treeUnitDSLArray.filter(function(e,a){return e.name===t.treeUnitDSLName});if(e.length>0){var a=e[0].dslObj;if("undefined"!==typeof a.Element){var n=a.Element.Link,i=a.Element.Node;"undefined"!==typeof n&&($("#link-panel .component").addClass("unhighlight"),$("#link-panel .component#"+n).addClass("selected")),"undefined"!==typeof i&&($("#node-panel .component").addClass("unhighlight"),$("#node-panel .component#"+i).addClass("selected"))}}}},created:function(){},beforeMount:function(){$(".layout-container").width();this.nodeLabel=this.nodeLabel+" ("+this.nodeArray.length+")",this.linkLabel=this.linkLabel+" ("+this.linkArray.length+")"},mounted:function(){this.initNodePanel(),this.initLinkPanel(),this.showNodeComponents=!0,this.initClickEvent()},computed:Object(l["a"])({},Object(f["d"])(["treeUnitDSLName","treeUnitDSLArray"])),methods:Object(l["a"])({handleClick:function(t,e){t.label===this.linkLabel&&(this.showLinkComponents=!0)},initClickEvent:function(){var t=this;$(".element-container .component").click(function(){var e=$(this).attr("type"),a=$(this).attr("id"),n=$(this).attr("name");e===t.nodeComponentType?t.highlightSelectedNodeComponent(a,n):e===t.linkComponentType&&t.highlightSelectedLinkComponent(a,n)})},highlightSelectedNodeComponent:function(t,e){var a="Node";"undefined"!==typeof t&&($("#node-panel .component#"+t).hasClass("selected")?($("#node-panel .component#"+t).removeClass("selected"),this.removeDSLComponent(a)):($("#node-panel .component").removeClass("selected"),$("#node-panel .component#"+t).addClass("selected"),this.addNodeElementComponent(e))),$("#node-panel .selected").length>0?$("#node-panel .component").addClass("unhighlight"):$("#node-panel .component").removeClass("unhighlight")},highlightSelectedLinkComponent:function(t,e){var a="Link";"undefined"!==typeof t&&($("#link-panel .component#"+t).hasClass("selected")?($("#link-panel .component#"+t).removeClass("selected"),this.removeDSLComponent(a)):($("#link-panel .component").removeClass("selected"),$("#link-panel .component#"+t).addClass("selected"),this.addLinkElementComponent(e))),$("#link-panel .selected").length>0?$("#link-panel .component").addClass("unhighlight"):$("#link-panel .component").removeClass("unhighlight")},addNodeElementComponent:function(t){var e={Element:{Node:t}};this.setDSLComponent(e)},addLinkElementComponent:function(t){var e={Element:{Link:t}};this.setDSLComponent(e)},initNodePanel:function(){var t="25%",e="6.25%",a=.25,n=$(".element-container .component-container").width();$(".element-container .el-tabs__content").height();$("#node-panel .component").css("width",t),$("#node-panel .component").css("margin-left",e);var i=n*a,r=1.14*i;$("#node-panel .component").css("height",r+"px");var o=r/5;$("#node-panel .component-title").css("height",o);var s=4*r/5;$("#node-panel .sketch-figure").css("height",s)},initLinkPanel:function(){var t="25%",e="6.25%",a=.25,n=$(".element-container .component-container").width();$(".element-container .el-tabs__content").height();$("#link-panel .component").css("width",t),$("#link-panel .component").css("margin-left",e);var i=n*a,r=1.14*i;$("#link-panel .component").css("height",r+"px");var o=r/5;$("#link-panel .component-title").css("height",o);var s=4*r/5;$("#link-panel .sketch-figure").css("height",s)}},Object(f["c"])(["UPDATE_DSL_COMPONENT_OBJECT_STATE","UPDATE_NODE","UPDATE_LINK"]),Object(f["b"])(["setDSLComponent","removeDSLComponent"]))},Ce=Ae,Le=(a("457f"),Object(nt["a"])(Ce,ge,me,!1,null,null,null)),_e=Le.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"treedsl-container"}},[a("el-carousel",{attrs:{"indicator-position":"outside",autoplay:!1}},t._l(t.dslArrangement,function(e,n){return t.showPanel?a("el-carousel-item",{key:t.getPanelKey(n)},[a("div",{staticClass:"treedsls",style:t.DSLsStyleObject},t._l(e,function(e){return a("div",{staticClass:"single-treedsl",class:{selected:-1!=t.currentTreeDSLArray.indexOf(e)},style:t.singleDSLStyleObject,attrs:{id:e},on:{click:function(a){t.updateSelectedTreeDSL(e)}}},[a("SinglePreviewFigure",{key:e,attrs:{dslId:e,treeDSLObj:t.getTreeDSLObj(e)}},[t._v("\n\t\t      \t\t\t"+t._s(e)+"\n\t\t      \t\t")]),a("div",{staticClass:"remove-button-container",style:t.deleteButtonContainerStyleObj},[a("el-button",{style:t.buttonStyleObj,attrs:{icon:"el-icon-close",circle:""},on:{click:function(a){a.stopPropagation(),t.removeSelectedDSL(e)}}})],1)],1)}),0)]):t._e()}),1)],1)},Te=[],Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dsl-teaser-container"},[a("div",{staticClass:"example"},[a("div",{staticClass:"preview",style:t.dslObj.styleObject}),a("div",{staticClass:"name"},[t._v(t._s(t.dslObj.name))])])])},Ee=[],Pe=a("df76"),we={name:"GoTreeSketchFigure",components:{GoTreeSketchFigure:ke,Drag:Pe["Drag"],Drop:Pe["Drop"]},props:{dslId:{type:String}},data:function(){return{dslObj:{}}},created:function(){},beforeMount:function(){var t=this.dslId,e={name:t,styleObject:{backgroundImage:"url(examples/"+t+".png)"}};this.dslObj=e},mounted:function(){},computed:{},methods:{}},je=we,Ne=(a("ff03"),Object(nt["a"])(je,Oe,Ee,!1,null,null,null)),ke=Ne.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"single-preview-figure-container"},[a("div",{staticClass:"dsl-figure"},[a("svg",{staticClass:"dsl-preview-canvas"},[a("g",{staticClass:"tree-preview-g",attrs:{id:t.treeGId}})])]),a("div",{staticClass:"dsl-name"},[t._v(t._s(t.dslId))])])},Ue=[];var We={name:"SinglePreviewFigure",components:{},props:{dslId:{type:String},treeDSLObj:{type:Object}},data:function(){return{treeGId:"preview-g",treeViewPosLenObj:{},currentTreeDSLArray:[],AreaData:{},focusedTreeNodeArray:[]}},created:function(){},mounted:function(){var t=this;console.log("mounted"),setTimeout(function(){t.initTreePreviewCanvas(),t.getPreViewTreeLayout()},500)},updated:function(){},watch:{previewTreeObj:function(){this.getPreViewTreeLayout()},changedDSLNameState:function(){this.treeUnitDSLName===this.dslId&&this.getPreViewTreeLayout()},treePreviewLayoutState:function(){this.treeUnitDSLName===this.dslId&&this.getPreViewTreeLayout()}},computed:Object(l["a"])({},Object(f["d"])(["previewTreeObj","changedDSLNameState","treeUnitDSLName","treePreviewLayoutState"])),methods:{initTreePreviewCanvas:function(){var t=$(".dsl-preview-canvas").height(),e=$(".dsl-preview-canvas").width(),a=.05*e,n=.05*e,i=.05*t,r=.05*t,o=e-a-n,s=t-i-r;d3.select(this.$el).select(".tree-preview-g").attr("transform","translate("+a+","+i+")"),this.treeViewPosLenObj={x:0,y:0,width:o,height:s},console.log("this.treeViewPosLenObj",this.treeViewPosLenObj)},updateCurrentDSLArray:function(){for(var t=[],e=this.focusedTreeObjArray,a=sysDatasetObj.getLayoutParas(),n=a.treeIndexWithDSL,i=0;i<e.length;i++){var r=e[i],o=n[r];"undefined"===typeof o&&(o=n.default),-1===t.indexOf(o)&&t.push(o)}this.currentTreeDSLArray=t},generateTreeIndexWihDSL:function(t,e){for(var a={},n=0;n<t.length;n++){var i=t[n].data.index;a[i]=e}return a},getPreViewTreeLayout:function(){var t=this;if("x"in this.treeViewPosLenObj){var e=this.dslId,a=JSON.parse(p()(this.previewTreeObj)),n=sysDatasetObj.computeNodeArray(a),i=t.generateTreeIndexWihDSL(n,e);this.focusedTreeNodeArray=n;var r={};r[e]=sysDatasetObj.getSelectedDSLObject(e);var o=lt(r),s={hierarchicalData:a,treeDSLContentObj:o,treeIndexWithDSL:i};W(s).then(function(e){t.renderPreViewTree(e,o,i,n,s)})}},renderPreViewTree:function(t,e,a,n,i){var r=this.treeViewPosLenObj,o=v(a,e,t,n,r);this.AreaData=o;var s=this.treeViewPosLenObj.width,l=this.treeViewPosLenObj.height,c=J(o,e,a,r),d=Object(u["a"])(c,2),h=d[0],p=d[1];h=ot(h,e,a,n),p=st(p,o,e,a,n,s,l),this.renderTreeLink(p,i),this.renderTreeNode(h)},renderTreeLink:function(t,e){var a=this,n=a.treeGId,i=d3.select(this.$el).select("#"+n).selectAll(".link").data(t);i.enter().append("path").attr("id",function(t,e){return"link"+t.beginid+"to"+t.endid}).attr("class",function(t,e){return"link link-parent-"+t.beginid+" link-child-"+t.endid}).attr("d",function(t,e){return t.pathAttr}).attr("stroke-width",function(t,e){return t.link_width}).attr("fill","none");var r=[],o=[],s=[];i.each(function(t,e){var n=d3.select(this).attr("d");null!=n&&"undefined"!==typeof n&&r.push(n);var i=t.pathAttr;null!=i&&"undefined"!==typeof i&&o.push(i),s.push(d3.select(this).node()),d3.select(this).transition().duration(a.DURATION).attr("stroke-width",function(t,e){return t.link_width}).attr("fill","none")}),i.exit().remove();var l=function(){i.each(function(t,e){d3.select(this).attr("d",t.pathAttr)})};r.length===o.length?Object(K["tweenPaths"])({duration:a.DURATION,complete:l,from:r,to:o,next:function(t,e){return s[e].setAttribute("d",t)}}):l()},renderTreeNode:function(t){for(var e=this,a=e.treeGId,n=1,i=0;i<t.length;i++)n<t[i].depth&&(n=t[i].depth);var r=d3.select(this.$el).select("#"+a).selectAll(".lineartree-node").data(t,function(t,e){return t.id});r.enter().append("path").attr("class","lineartree-node").attr("id",function(t,e){return"rootnode"+t.id}).attr("d",function(t,e){return t.element}).attr("fill",function(t){return t.node_color}).style("stroke-width",e.NodeStrokeWidth).style("opacity",1);var o=[],s=[],l=[];r.each(function(t,a){var n=t.element,i=d3.select(this).attr("d");l.push(d3.select(this).node()),o.push(i),s.push(n),d3.select(this).transition().duration(e.DURATION).attr("fill",function(t){return t.node_color}).style("stroke-width",e.NodeStrokeWidth).style("opacity",1)}),Object(K["tweenPaths"])({duration:e.DURATION,complete:c,from:o,to:s,next:function(t,e){return l[e].setAttribute("d",t)}});var c=function(){r.each(function(t,e){var a=t.element;d3.select(this).attr("d",a)})};r.exit().remove()}}},Me=We,$e=(a("d701"),Object(nt["a"])(Me,Ie,Ue,!1,null,null,null)),Ve=$e.exports,He={name:"DSLList",components:{GoTreeSketchFigure:ke,SinglePreviewFigure:Ve,Drag:Pe["Drag"],Drop:Pe["Drop"]},data:function(){return{treeDSLNum:5,dslArrangement:[],showPanel:!1,currentTreeDSLArray:[],singleDSLStyleObject:{},deleteButtonContainerStyleObj:{},infoButtonContainerStyleObj:{},buttonStyleObj:{},DSLsStyleObject:{},singleDSLHorizontalSpace:0}},watch:{selectedDSLArray:{handler:function(){this.updateDSLArrangement()},deep:!0},previewTreeObj:function(){this.updateCurrentDSLArray(),this.updateTreeUnitDSLArray()},selectedDataset:function(){this.updateCurrentDSLArray(),this.updateTreeUnitDSLArray()},dslListSelectedDSLName:function(){this.updateSelectedTreeDSL(this.dslListSelectedDSLName)}},created:function(){},beforeMount:function(){},mounted:function(){this.updateDSLArrangement(),this.showPanel=!0},computed:Object(l["a"])({},Object(f["d"])(["selectedDSLArray","focusedTreeObjArray","previewTreeObj","selectedDataset","treeUnitDSLName","dslListSelectedDSLName"])),methods:Object(l["a"])({getPanelKey:function(t){return"row-"+t},getTreeDSLObj:function(t){var e=sysDatasetObj.getSelectedDSLObject(t);return e},initDeleteInfoIconStyleObj:function(){var t=+this.singleDSLStyleObject.height.replace("px",""),e=+this.singleDSLStyleObject.width.replace("px",""),a=(this.singleDSLStyleObject.marginTop.replace("px"),e/30),n=e/12,i=-(a+n/2),r=-(t+a+n/2);this.deleteButtonContainerStyleObj={right:i+"px",top:r+"px"},this.infoButtonContainerStyleObj={right:-i+"px",top:r+"px"},this.buttonStyleObj={fontSize:n+"px",padding:a+"px"}},updateDSLArrangement:function(){this.initDSLNum(),this.initDSLArrangement(),this.setContainerPadding(),this.initDeleteInfoIconStyleObj()},initDSLNum:function(){var t=$("#treedsl-container").height(),e=$("#treedsl-container").width(),a=.08,n=.1,i=t*(1-2*a),r=t*a,o=.877*i,s=o*n;this.singleDSLHorizontalSpace=o+2*s;var l=e/this.singleDSLHorizontalSpace;l%1>.9&&(l=Math.round(l)),l=Math.floor(l),this.treeDSLNum=l,this.singleDSLStyleObject={height:i+"px",width:o+"px",marginLeft:s+"px",marginRight:s+"px",marginTop:r+"px",marginBottom:r+"px"}},initDSLArrangement:function(){for(var t=this.selectedDSLArray,e=this.treeDSLNum,a=[],n=0;n<t.length;n++)n%e===0&&a.push([]),a[a.length-1].push(t[n]);this.dslArrangement=a},setContainerPadding:function(){var t=$("#treedsl-container").width(),e=this.treeDSLNum,a=this.singleDSLHorizontalSpace*e;if(t>a){var n=(t-a)/2;this.DSLsStyleObject={paddingLeft:n+"px",paddingRight:n+"px"}}},removeSelectedDSL:function(t){var e=this.selectedDSLArray.indexOf(t);this.selectedDSLArray.splice(e,1)},updateCurrentDSLArray:function(){var t=[],e=sysDatasetObj.getLayoutParas(),a=this.focusedTreeObjArray,n=e.treeIndexWithDSL;for(var i in n)if(-1!==a.indexOf(i)){var r=n[i];-1===t.indexOf(r)&&t.push(r)}this.currentTreeDSLArray=t},updateSelectedTreeDSL:function(t){var e=this,a=sysDatasetObj.getLayoutParas();"undefined"===typeof a.treeIndexWithDSL&&(a.treeIndexWithDSL={});var n=a.treeIndexWithDSL,i=this.focusedTreeObjArray;l(i,n,t);var r={};for(var o in n){var s=n[o];r[s]=sysDatasetObj.getTreeDSLObject(s)}function l(t,e,a){for(var n=0;n<t.length;n++){var i=t[n];e[i]=a}}a.treeDSLContentObj=r,this.updateCurrentDSLArray(),this.updateTreeUnitDSLArray(),setTimeout(function(){e.UPDATE_TREE_CANVAS_LAYOUT_STATE()},500)},updateTreeUnitDSLArray:function(){for(var t=this,e=this,a=sysDatasetObj.getLayoutParas(),n=a.treeDSLContentObj,i=[],r=function(a){var r=t.currentTreeDSLArray[a];if(0===i.filter(function(t){return t.name===r}).length){var o=!1;e.treeUnitDSLName===r&&(o=!0),i.push({name:r,dslObj:n[r],visible:o})}},o=0;o<this.currentTreeDSLArray.length;o++)r(o);this.UPDATE_TREEUNIT_DSL_ARRAY(i),setTimeout(function(){if(i.length>=1){var t=i[0].name;e.UPDATE_TREEUNIT_DSL_NAME(t)}},100)},getHybridNodeObjArrayNum:function(){return 0}},Object(f["b"])(["getLayoutValue"]),Object(f["c"])(["UPDATE_TREEUNIT_DSL_ARRAY","UPDATE_TREEUNIT_DSL_NAME","UPDATE_TREE_CANVAS_LAYOUT_STATE","UPDATE_TREE_UNIT_LAYOUT_STATE","UPDATE_DSLLIST_SELECTED_DSL_NAME"]))},Ye=He,Xe=(a("3769"),Object(nt["a"])(Ye,Re,Te,!1,null,null,null)),ze=Xe.exports,Be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dsl-list-view-title"},[a("span",{staticClass:"text"},[t._v(t._s(t.title))])])},Fe=[],Ge={name:"DSLListTitle",props:{},data:function(){return{title:"GoTreeListView"}},created:function(){},beforeMount:function(){},mounted:function(){},watch:{},computed:{},methods:{saveNewDSL:function(){console.log("save")},removeCurrentDSL:function(){console.log("remove")}}},Je=Ge,Ke=(a("3494"),Object(nt["a"])(Je,Be,Fe,!1,null,"77afaadc",null)),Ze=Ke.exports,Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"treeunit-view-title"},[a("span",{staticClass:"text"},[t._v(t._s(t.title))]),a("span",{staticClass:"operation"},[a("el-tooltip",{staticClass:"labelIcon",attrs:{content:"new",effect:"light"}},[a("span",{staticClass:"operation-icon",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.newDSL(e)}}},[a("span",{staticClass:"icon iconfont icon-xinjian"})])]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-tooltip",{staticClass:"labelIcon",attrs:{content:"save",effect:"light"}},[a("span",{staticClass:"operation-icon",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.saveDSL(e)}}},[a("span",{staticClass:"icon iconfont icon-baocun"})])]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-tooltip",{staticClass:"labelIcon",attrs:{content:"save as",effect:"light"}},[a("span",{staticClass:"operation-icon",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.saveAsNewDSL(e)}}},[a("span",{staticClass:"icon iconfont icon-lingcunwei"})])])],1),a("el-dialog",{attrs:{id:"dsl-name-dialog",title:"GoTree Name",visible:t.saveDialogVisible,width:"30%"},on:{"update:visible":function(e){t.saveDialogVisible=e},opened:t.initShowDSLName}},[a("div",{attrs:{id:"dsl-name-hint"}},[t._v("Please enter the name of the GoTree DSL. You can use letters ( "),a("b",[t._v("A-Z")]),t._v(", "),a("b",[t._v("a-z")]),t._v(" ), numbers ( "),a("b",[t._v("0-9")]),t._v(" ) & underline ( "),a("b",[t._v("_")]),t._v(" ). ")]),a("el-input",{attrs:{placeholder:"GoTreeExample1",autofocus:!0},on:{change:t.changeGoTreeName},model:{value:t.gotreeName,callback:function(e){t.gotreeName=e},expression:"gotreeName"}}),a("div",{attrs:{id:"dsl-name-warning-hint"}},[t._v(t._s(t.dslNameWarningHint))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelGoTreeName}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmGoTreeName}},[t._v("Confirm")])],1)],1),a("el-dialog",{attrs:{id:"dsl-name-dialog",title:"GoTree Name",visible:t.saveAsDialogVisible,width:"30%"},on:{"update:visible":function(e){t.saveAsDialogVisible=e},opened:t.initShowDSLName}},[a("el-dialog",{attrs:{width:"30%",title:"Warning",visible:t.overlapDSLDialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.overlapDSLDialogVisible=e}}},[a("div",{attrs:{id:"dsl-name-hint"}},[t._v("Do you want to overwrite the existing \n            "),a("span",{staticClass:"highlight"},[a("b",[t._v(t._s(t.gotreeName))])]),t._v(" DSL?\n          ")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelOverlapExistingDSL}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmOverlapExistingDSL}},[t._v("Confirm")])],1)]),a("div",{attrs:{id:"dsl-name-hint"}},[t._v("Please enter the name of the GoTree DSL. You can use letters ( "),a("b",[t._v("A-Z")]),t._v(", "),a("b",[t._v("a-z")]),t._v(" ), numbers ( "),a("b",[t._v("0-9")]),t._v(" ) & underline ( "),a("b",[t._v("_")]),t._v(" ). ")]),a("el-input",{attrs:{placeholder:"GoTreeExample1",autofocus:!0},on:{change:t.changeGoTreeName},model:{value:t.gotreeName,callback:function(e){t.gotreeName=e},expression:"gotreeName"}}),a("div",{attrs:{id:"dsl-name-warning-hint"}},[t._v(t._s(t.dslNameWarningHint))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelGoTreeName}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmGoTreeName}},[t._v("Confirm")])],1)],1),a("el-dialog",{attrs:{id:"selection-alert-dialog",title:"Warning",visible:t.selectionAlertDialog,width:"30%"},on:{"update:visible":function(e){t.selectionAlertDialog=e}}},[a("div",{attrs:{id:"dsl-name-hint"}},[t._v("Please select one GoTree DSL from GoTreeListView or select components to create one GoTree DSL. ")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.selectionAlertDialog=!1}}},[t._v("Confirm")])],1)])],1)},qe=[],ta={name:"TreeUnitParameterTitle",props:{},data:function(){return{title:"TreeUnitView",saveAsDialogVisible:!1,saveDialogVisible:!1,selectionAlertDialog:!1,overlapDSLDialogVisible:!1,gotreeName:"",dslNameDialogComponentKey:1,dslNameWarningHint:""}},created:function(){},beforeMount:function(){},mounted:function(){},watch:{},computed:Object(l["a"])({},Object(f["d"])(["treeUnitDSLArray","treeUnitDSLName","selectedDSLArray"])),methods:Object(l["a"])({newDSL:function(){for(var t=0,e=0;e<this.treeUnitDSLArray.length;e++){var a=this.treeUnitDSLArray[e],n=a.name,i=+n.replace("untitled","");i>t&&(t=i)}var r={};r.name="untitled"+(t+1),r.dslObj={Layout:{Category:"AxisIndependent",Mode:"bottom-up"},CoordinateSystem:{Category:"cartesian"},Element:{Node:"circle"}},this.treeUnitDSLArray.push(r),sysDatasetObj.updateSelectedDSLObject(r.name,r.dslObj),this.selectedDSLArray.push(r.name),sysDatasetObj.updateTreeDSLContentObject(r.name,r.dslObj),this.UPDATE_DSLLIST_SELECTED_DSL_NAME(r.name),this.UPDATE_TREEUNIT_DSL_NAME(r.name)},saveDSL:function(){var t=Ut(),e=t.cartesianDSLArray,a=t.polarDSLArray,n=this.goTreeName;if("undefined"===typeof n&&(n=this.treeUnitDSLName),null==this.treeUnitDSLName)this.selectionAlertDialog=!0;else{var i=-1!==a.indexOf(n),r=-1!==e.indexOf(n);!sysDatasetObj.isDSLObjectExist(n)||i||r?this.saveDialogVisible=!0:this.updateSelectedDSLArray()}},saveAsNewDSL:function(){null==this.treeUnitDSLName?this.selectionAlertDialog=!0:this.saveAsDialogVisible=!0},cancelOverlapExistingDSL:function(){this.overlapDSLDialogVisible=!1},confirmOverlapExistingDSL:function(){this.overlapDSLDialogVisible=!1,this.updateDSLArray(),this.saveAsDialogVisible=!1},removeCurrentDSL:function(){console.log("remove")},cancelGoTreeName:function(t){this.saveAsDialogVisible=!1},confirmGoTreeName:function(){var t=Ut(),e=t.cartesianDSLArray,a=t.polarDSLArray,n=this.goTreeName;"undefined"===typeof n&&(n=this.treeUnitDSLName);var i=-1!==a.indexOf(n),r=-1!==e.indexOf(n);function o(t){var e=/^[0-9a-zA-Z]\w*$/;return!!e.test(t)}o(n)?i||r?this.dslNameWarningHint="The name already exists in the Gallary. Please use another name.":(this.dslNameWarningHint="",sysDatasetObj.isDSLObjectExist(n)?this.overlapDSLDialogVisible=!0:(this.updateDSLArray(),this.saveAsDialogVisible=!1,this.saveDialogVisible=!1)):this.dslNameWarningHint="The name does not match the above rule."},updateDSLArray:function(){this.updateTreeUnitDSLArray(),this.updateSelectedDSLArray()},updateTreeUnitDSLArray:function(){for(var t=0;t<this.treeUnitDSLArray.length;t++)if(this.treeUnitDSLArray[t].name===this.treeUnitDSLName){this.treeUnitDSLArray[t].name=this.gotreeName;break}this.UPDATE_TREEUNIT_DSL_NAME(this.gotreeName)},updateSelectedDSLArray:function(){for(var t=this.gotreeName,e=0;e<this.treeUnitDSLArray.length;e++)if(this.treeUnitDSLArray[e].name===t){var a=this.treeUnitDSLArray[e].dslObj;sysDatasetObj.updateSelectedDSLObject(t,a),sysDatasetObj.updateTreeDSLContentObject(t,a)}-1===this.selectedDSLArray.indexOf(t)&&this.selectedDSLArray.push(t),this.UPDATE_CHANGED_DSL_NAME_STATE()},changeGoTreeName:function(t){"undefined"!==typeof t&&(this.goTreeName=t)},initShowDSLName:function(){console.log("initShowDSLName",this.treeUnitDSLName),this.gotreeName=this.treeUnitDSLName,console.log("initShowDSLName this.goTreeName",this.gotreeName)}},Object(f["c"])(["UPDATE_TREEUNIT_DSL_ARRAY","UPDATE_TREEUNIT_DSL_NAME","UPDATE_CHANGED_DSL_NAME_STATE","UPDATE_DSLLIST_SELECTED_DSL_NAME"]))},ea=ta,aa=(a("488b"),Object(nt["a"])(ea,Qe,qe,!1,null,"1ecbc22b",null)),na=aa.exports,ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"treeunit-parameter-container"}},[a("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-click":t.handleClick,"tab-remove":t.removeTab},model:{value:t.editableDSLName,callback:function(e){t.editableDSLName=e},expression:"editableDSLName"}},t._l(t.treeUnitDSLArray,function(e,n){return a("el-tab-pane",{attrs:{label:e.name,name:e.name}},[a("div",{staticClass:"top-panel",style:t.topPanelStyleObj},[e.visible?a("TreeUnitView",{attrs:{dslName:e.name,dslObj:e.dslObj}}):t._e()],1),a("div",{staticClass:"bottom-panel",style:t.bottomPanelStyleObj},[e.visible?a("ParameterView",{attrs:{dslName:e.name,dslObj:e.dslObj}}):t._e()],1)])}),1)],1)},ra=[],oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"treeunit-container"},[a("svg",{staticClass:"tree-unit-canvas",attrs:{width:"100%",height:"100%",id:t.treeCanvasId}},[a("g",{attrs:{id:"tree-unit-region-g"}}),a("g",{staticClass:"tree-unit-g",attrs:{id:t.treeGId}})])])},sa=[],la=a("a745"),ca=a.n(la);function da(t,e,a,n,i){var r=[];for(var o in a)r.push(o);r=r.sort(function(t,e){var a=t.replace("index-",""),n=e.replace("index-","");return a-n});for(var s={},l=0;l<n.length;l++){var c=n[l].data.index;s[c]=n[l]}var d=r[0],u={},h=i.width,p=i.height,f=0,g=0,m=0,v=0,y=0,b=0,D=0,S=0,x=4;function A(t,e,a,n){var i={x:t,y:e,width:a-t,height:n-e};if(Math.abs(i.width)<x){var r=(t+a)/2;i.x=r-x/2,i.width=x}if(Math.abs(i.height)<x){var o=(e+n)/2;i.y=o-x/2,i.height=x}return i}var C=4;u[a[d].id]={fatherID:null,x:f,isLeaf:1,y:m,Rootx:0,Rooty:0,RootWidth:0,RootHeight:0,Width:h,Height:p,depth:0,id:a[d].id,SubtreesX:0,SubtreesY:0,SubtreesWidth:0,SubtreesHeight:0,others:{},value:s[a[d].id].value,data:s[a[d].id].data};for(var L=e[t[d]],_=0;_<r.length;_++){var R=r[_],T=u[a[R].id],O=T.Width/a[R].width,E=T.Height/a[R].height;T.Rootx=a[R].root.x*O+y,T.Rooty=a[R].root.y*E+D,T.RootWidth=a[R].root.width*O-y-b,T.RootHeight=a[R].root.height*E-D-S,T.SubtreesX=a[R].subtrees.x*O+y,T.SubtreesY=a[R].subtrees.y*E+D,T.SubtreesWidth=a[R].subtrees.width*O-y-b,T.SubtreesHeight=a[R].subtrees.height*E-D-S,T.others={X:{RootLeftPadding:A(T.Rootx,T.y,T.SubtreesX,T.y+T.Height),RootRightPadding:A(T.SubtreesX+T.SubtreesWidth,T.y,T.Rootx+T.RootWidth,T.y+T.Height),RootMargin:T.Rootx<=T.SubtreesX?A(T.Rootx+T.RootWidth,T.y,T.SubtreesX,T.y+T.Height):A(T.SubtreesX+T.SubtreesWidth,T.y,T.Rootx,T.y+T.Height),RootAlignment:A(T.Rootx+T.RootWidth/2-C/2,T.y,T.Rootx+T.RootWidth/2+C/2,T.y+T.Height),SubtreeMargin:[],SubtreeAlignment:A(T.SubtreesX+T.SubtreesWidth/2-C/2,T.y,T.SubtreesX+T.SubtreesWidth/2+C/2,T.y+T.Height)},Y:{RootLeftPadding:A(T.x,T.Rooty,T.x+T.Width,T.SubtreesY),RootRightPadding:A(T.x,T.SubtreesY+T.SubtreesHeight,T.x+T.Width,T.Rooty+T.RootHeight),RootMargin:T.Rooty<=T.SubtreesY?A(T.x,T.Rooty+T.RootHeight,T.x+T.Width,T.SubtreesY):A(T.x,T.SubtreesY+T.SubtreesHeight,T.x+T.Width,T.Rooty),RootAlignment:A(T.x,T.Rooty+T.RootHeight/2-C/2,T.x+T.Width,T.Rooty+T.RootHeight/2+C/2),SubtreeMargin:[],SubtreeAlignment:A(T.x,T.SubtreesY+T.SubtreesHeight/2-C/2,T.x+T.Width,T.SubtreesY+T.SubtreesHeight/2+C/2)}},"include"===L.Layout.X.Root.Relation&&(delete T.others.X.RootMargin,delete T.others.X.RootAlignment),"juxtapose"===L.Layout.X.Root.Relation&&(delete T.others.X.RootLeftPadding,delete T.others.X.RootRightPadding,delete T.others.X.RootAlignment),"within"===L.Layout.X.Root.Relation&&(delete T.others.X.RootLeftPadding,delete T.others.X.RootRightPadding,delete T.others.X.RootMargin,"Alignment"in L.Layout.X.Root&&("left"===L.Layout.X.Root.Alignment&&(T.others.X.RootAlignment=A(T.Rootx,T.y,T.Rootx+C,T.y+T.Height)),"right"===L.Layout.X.Root.Alignment&&(T.others.X.RootAlignment=A(T.Rootx+T.RootWidth-C,T.y,T.Rootx+T.RootWidth,T.y+T.Height)))),"flatten"===L.Layout.X.Subtree.Relation&&delete T.others.X.SubtreeAlignment,"align"===L.Layout.X.Subtree.Relation&&(delete T.others.X.SubtreeMargin,"Alignment"in L.Layout.X.Subtree&&("left"===L.Layout.X.Subtree.Alignment&&(T.others.X.SubtreeAlignment=A(T.SubtreesX,T.y,T.SubtreesX+C,T.y+T.Height)),"right"===L.Layout.X.Subtree.Alignment&&(T.others.X.SubtreeAlignment=A(T.SubtreesX+T.SubtreesWidth-C,T.y,T.SubtreesX+T.SubtreesWidth,T.y+T.Height)))),"include"===L.Layout.Y.Root.Relation&&(delete T.others.Y.RootMargin,delete T.others.Y.RootAlignment),"juxtapose"===L.Layout.Y.Root.Relation&&(delete T.others.Y.RootLeftPadding,delete T.others.Y.RootRightPadding,delete T.others.Y.RootAlignment),"within"===L.Layout.Y.Root.Relation&&(delete T.others.Y.RootLeftPadding,delete T.others.Y.RootRightPadding,delete T.others.Y.RootMargin,"Alignment"in L.Layout.Y.Root&&("top"===L.Layout.Y.Root.Alignment&&(T.others.Y.RootAlignment=A(T.x,T.Rooty,T.x+T.Width,T.Rooty+C)),"bottom"===L.Layout.Y.Root.Alignment&&(T.others.Y.RootAlignment=A(T.x,T.Rooty+T.RootHeight-C,T.x+T.Width,T.Rooty+T.RootHeight)))),"flatten"===L.Layout.Y.Subtree.Relation&&delete T.others.Y.SubtreeAlignment,"align"===L.Layout.Y.Subtree.Relation&&(delete T.others.Y.SubtreeMargin,"Alignment"in L.Layout.Y.Subtree&&("top"===L.Layout.Y.Subtree.Alignment&&(T.others.Y.SubtreeAlignment=A(T.x,T.SubtreesY,T.x+T.Width,T.SubtreesY+C)),"bottom"===L.Layout.Y.Subtree.Alignment&&(T.others.Y.SubtreeAlignment=A(T.x,T.SubtreesY+T.SubtreesHeight-C,T.x+T.Width,T.SubtreesY+T.SubtreesHeight)))),T.depth,u[a[R].id]=T;for(var P=0;P<a[R].subtreeLayout.length;P++){T.isLeaf=0;var w=a[R].subtreeLayout[P].id;u[w]={fatherID:a[R].id,x:T.x+a[R].subtreeLayout[P].x*O+f,y:T.y+a[R].subtreeLayout[P].y*E+m,Rootx:0,Rooty:0,RootWidth:0,RootHeight:0,isLeaf:1,Width:a[R].subtreeLayout[P].width*O-f-g,Height:a[R].subtreeLayout[P].height*E-m-v,depth:T.depth+1,id:w,SubtreesX:0,SubtreesY:0,SubtreesWidth:0,SubtreesHeight:0,others:{},value:s[w].value}}for(var j=function(t){T.isLeaf=0;var e=a[R].subtreeLayout[t].id,i=n[0].children[t].data.order[0];if(0===i&&"flatten"===L.Layout.X.Subtree.Relation&&T.others.X.SubtreeMargin.push(A(T.SubtreesX,T.SubtreesY,u[e].x,T.SubtreesY+T.SubtreesHeight)),2===i&&"flatten"===L.Layout.X.Subtree.Relation&&T.others.X.SubtreeMargin.push(A(u[e].x+u[e].Width,T.SubtreesY,T.SubtreesX+T.SubtreeWidth,T.SubtreesY+T.SubtreesHeight)),i>0&&"flatten"===L.Layout.X.Subtree.Relation){var r=0;n[0].children.forEach(function(t){t.data.order[0]===i-1&&(r=t.data.preOrder+1)}),T.others.X.SubtreeMargin.push(A(u["index-"+r].x+u["index-"+r].Width,T.SubtreesY,u[e].x,T.SubtreesY+T.SubtreesHeight))}if(i=n[0].children[t].data.order[1],0===i&&"flatten"===L.Layout.Y.Subtree.Relation&&T.others.Y.SubtreeMargin.push(A(T.SubtreesX,T.SubtreesY,T.SubtreesX+T.SubtreesWidth,u[e].y)),2===i&&"flatten"===L.Layout.Y.Subtree.Relation&&T.others.Y.SubtreeMargin.push(A(T.SubtreesX,u[e].y+u[e].Height,T.SubtreesX+T.SubtreesWidth,T.SubtreesY+T.SubtreesHeight)),i>0&&"flatten"===L.Layout.Y.Subtree.Relation){var o=0;n[0].children.forEach(function(t){t.data.order[1]===i-1&&(o=t.data.preOrder+1)}),T.others.Y.SubtreeMargin.push(A(T.SubtreesX,u["index-"+o].y+u["index-"+o].Height,T.SubtreesX+T.SubtreesWidth,u[e].y))}},N=0;N<a[R].subtreeLayout.length;N++)j(N)}for(var k in u)u[k].translate="translate(0 , 0)";return u}var ua,ha,pa={name:"TreeUnitView",components:{},data:function(){return{treeCanvasId:"tree-canvas",treeGId:"tree-unit-g",rootLayoutComponentType:"root-layout",subtreeLayoutComponentType:"subtree-layout",nodeComponentType:"node",linkComponentType:"link",coordComponentType:"coordinate_system",treeViewPosLenObj:{},DURATION:1e3,PARAS_DURATION:1e3,nodeFillColor:"steelblue",NodeStrokeWidth:"1px",treeUnitLayoutParas:{},initialDSLObj:{},paraCursorObj:{root:"pointer","subtree-group":"pointer",subtree:"pointer",RootMargin:"resize",RootLeftPadding:"resize",RootRightPadding:"resize",RootAlignment:"context-menu",SubtreeMargin:"resize",SubtreeAlignment:"context-menu"},paraResizeCursorObj:{x:"ew-",y:"ns-"},paraAdjustState:!1,startPosition:[],treeUnitCanvasWidth:0,treeUnitCanvasHeight:0,horizontalUnit:1,verticalUnit:1,_dslObj:{}}},props:{dslName:{type:String},dslObj:{type:Object}},created:function(){},mounted:function(){var t=this,e=0,a=+$(".tree-unit-canvas").width(),n=+$(".tree-unit-canvas").height();this.treeUnitCanvasWidth=a,this.horizontalUnit=a/100,this.treeUnitCanvasHeight=n,this.verticalUnit=a/100,d3.select(t.$el).select("#tree-unit-region-g").append("rect").attr("class","outer-bg").attr("x",e).attr("y",e).attr("width",a-2*e).attr("height",n-2*e).on("click",t.cancelParasSelection);var i=.15*n,r=.15*n,o=.15*a,s=.15*a;t.treeViewPosLenObj={x:0,y:0,width:a-o-s,height:n-i-r},d3.select(t.$el).select("#tree-unit-region-g").append("rect").attr("class","inner-bg").attr("x",.05*a).attr("y",.05*n).attr("width",.9*a).attr("height",.9*n).on("click",t.cancelParasSelection),d3.select(t.$el).select(".tree-unit-g").attr("transform","translate("+o+","+i+")"),t.updateTreeUnitView()},updated:function(){},watch:{treeUnitLayoutState:function(){this.dslName===this.treeUnitDSLName&&this.updateTreeUnitView()}},computed:Object(l["a"])({},Object(f["d"])(["hierarchicalData","nodeArray","hierarchicalDSL","hoveringDSLItem","focusedDSLObj","focusedDSLObjIndex","dslComponentObject","treeUnitLayoutState","treeUnitDSLName","selectParaName"])),methods:Object(l["a"])({},Object(f["c"])(["UPDATE_ROOT_LAYOUT","UPDATE_SUBTREE_LAYOUT","UPDATE_NODE","UPDATE_LINK","UPDATE_COORD","UPDATE_SELECT_PARA_NAME","UPDATE_TREE_CANVAS_LAYOUT_STATE","UPDATE_TREE_PREVIEW_LAYOUT_STATE"]),{cancelParasSelection:function(){d3.select(this.$el).selectAll(".selected").classed("selected",!1),this.UPDATE_SELECT_PARA_NAME(null)},updateTreeUnitView:function(){var t=this;this.updateTreeUnitLayoutParas();var e=this.treeUnitLayoutParas;W(e).then(function(e){t.renderTreeUnit(e)})},updateTreeUnitLayoutParas:function(){var t=sysDatasetObj.getTreeUnitDataset(),e=sysDatasetObj.getTreeUnitNodeArray(),a={},n=this.dslName,i=this.dslObj;this.initialDSLObj=JSON.parse(p()(i)),a[n]=i;for(var r={},o=0;o<e.length;o++){var s=e[o].data.index;r[s]=n}this.treeUnitLayoutParas={hierarchicalData:t,treeIndexWithDSL:r,treeDSLContentObj:a}},renderTreeUnit:function(t){var e=this.initialDSLObj,a=this.treeUnitLayoutParas,n=a.treeIndexWithDSL,i=sysDatasetObj.getTreeUnitNodeArray(),r=JSON.parse(p()(a.treeDSLContentObj)),o=this.treeViewPosLenObj,s=this.treeViewPosLenObj.width,l=this.treeViewPosLenObj.height;if("undefined"!==typeof n&&"undefined"!==typeof r){var c=da(n,r,t,i,o),d=lt(r),h=J(c,d,n,o),f=Object(u["a"])(h,2),g=f[0],m=f[1];g=ot(g,d,n,i),m=st(m,c,d,n,i,s,l);var v=this.getParasSpaceData(c),y=this.getParasTreeIndexWithDSL(n,v),b=this.getParasDslContentObjectWithDefault(d),D=J(v,b,y,o),S=Object(u["a"])(D,2),x=S[0],A=(S[1],x.filter(function(t){return"xy"===t.parameterAxis})),C=x.filter(function(t){return"x"===t.parameterAxis||"y"===t.parameterAxis});if(this.addDirectManipulation(),this.renderTreeParas_xy(A),"Element"in e){if("Link"in e["Element"]){var L=d3.select("#"+this.treeGId).select(".lineartree-node").empty(),_=d3.select("#"+this.treeGId).select(".link").empty();!L&&_&&this.removeTreeNode(),this.renderTreeLink(m)}else this.removeTreeLink();"Node"in e["Element"]?this.renderTreeNode(g):this.removeTreeNode()}this.renderTreeParas_x_y(C)}},adjustTreeUnitRange:function(t){var e=t["index-0"];if("undefined"!==typeof e.others.X&&"SubtreeMargin"in e.others.X){var a=e.others.X.SubtreeMargin,n=a[0].width;console.log("subtreeMarginWidth",n),n<0&&(console.log("subtreeMarginWidth",n),e.Width=e.Width+-n,e.SubtreesWidth=e.SubtreesWidth+-n)}if("undefined"!==typeof e.others.Y&&"SubtreeMargin"in e.others.Y){var i=e.others.Y.SubtreeMargin,r=i[0].height;r<0&&(e.SubtreesY=e.SubtreesY+r,e.Height=e.Height+-r)}},parasVisibility:function(t,e){var a=this.initialDSLObj;return("root"===e||"RootMargin"===e||"RootLeftPadding"===e||"RootRightPadding"===e||"RootAlignment"===e)&&"Layout"in a&&"X"in a["Layout"]&&"Y"in a["Layout"]&&"Root"in a["Layout"]["X"]&&"Root"in a["Layout"]["Y"]?"visible":"subtree-group"===e&&"Layout"in a&&"X"in a["Layout"]&&"Y"in a["Layout"]?"visible":("SubtreeMargin"===e||"SubtreeAlignment"===e)&&"Layout"in a&&"X"in a["Layout"]&&"Y"in a["Layout"]&&"Subtree"in a["Layout"]["X"]&&"Subtree"in a["Layout"]["Y"]?"visible":"subtree"===e&&"Layout"in a&&"X"in a["Layout"]&&"Y"in a["Layout"]&&"Subtree"in a["Layout"]["X"]&&"Subtree"in a["Layout"]["Y"]?"visible":"hidden"},addDirectManipulation:function(){var t=this,e=t.treeCanvasId;d3.select("#"+e).on("mousedown",function(e,a){var n=t.selectParaName;if(null!=n){var i=n.split("-"),r=i[0],o=i[1],s=t.paraCursorObj[r];if("resize"===s){var l=t.paraResizeCursorObj[o];s=l+s}var c=d3.mouse(this);t.startPosition=c,t.paraAdjustState=!0,t.duplicateCurrentDslObj(),$("html,body").css("cursor",s)}}).on("mousemove",function(e,a){var n=t.selectParaName,i=t.verticalUnit,r=t.horizontalUnit;if(t.paraAdjustState){var o=d3.mouse(this),s=t.startPosition,l=n.split("-"),c=l[1],d=0;"x"===c?d=(o[0]-s[0])/r:"y"===c&&(d=-(o[1]-s[1])/i),t.adjustDslObj(n,d),t.updateTreeUnitView()}}).on("mouseup",function(e,a){$("html,body").css("cursor","default"),t.paraAdjustState=!1,sysDatasetObj.updateTreeDSLContentObject(t.dslName,t.dslObj),t.UPDATE_TREE_CANVAS_LAYOUT_STATE(),sysDatasetObj.updateSelectedDSLObject(t.dslName,t.dslObj),t.UPDATE_TREE_PREVIEW_LAYOUT_STATE()})},renderTreeParas_x_y:function(t){var e=this,a=e.treeGId,n=(e.treeCanvasId,d3.select("#"+a).selectAll(".paras-node-x-y").data(t,function(t,e){return t.elementName}));n.enter().append("path").attr("id",function(t,e){return"parasnode"+t.id}).attr("class",function(t,e){return"paras-node-x-y "+t.elementClass}).attr("property",function(t,e){return t.parameterAxis}).attr("d",function(t,e){return t.element}).attr("visibility",function(t,a){return e.parasVisibility(t.elementClass,t.elementName)}).on("mousedown",function(t,a){if(!d3.select(this).classed("selected")){d3.select(e.$el).selectAll(".selected").classed("selected",!1),d3.select(this).classed("selected",!0);var n=d3.select(this).attr("property"),i=t.elementName+"-"+n;e.UPDATE_SELECT_PARA_NAME(i)}});var i=[],r=[],o=[];n.each(function(t,a){var n=t.element,s=d3.select(this).attr("d");o.push(d3.select(this).node()),i.push(s),r.push(n),d3.select(this).transition().duration(e.PARAS_DURATION).attr("visibility",function(t,a){return e.parasVisibility(t.elementClass,t.elementName)})}),Object(K["tweenPaths"])({duration:e.PARAS_DURATION,complete:s,from:i,to:r,next:function(t,e){return o[e].setAttribute("d",t)}});var s=function(){n.each(function(t,e){var a=t.element;d3.select(this).attr("d",a)})};n.exit().remove()},renderTreeParas_xy:function(t){var e=this,a=e.treeGId,n=(e.treeCanvasId,d3.select("#"+a).selectAll(".paras-node-xy").data(t,function(t,e){return t.elementName}));n.enter().append("path").attr("id",function(t,e){return"parasnode"+t.id}).attr("class",function(t,e){return"paras-node-xy "+t.elementClass}).attr("property",function(t,e){return t.parameterAxis}).attr("d",function(t,e){return t.element}).attr("visibility",function(t,a){return e.parasVisibility(t.elementClass,t.elementName)}).on("mousedown",function(t,a){if(!d3.select(this).classed("selected")){d3.select(e.$el).selectAll(".selected").classed("selected",!1),d3.select(this).classed("selected",!0);var n=d3.select(this).attr("property"),i=t.elementName+"-"+n;e.UPDATE_SELECT_PARA_NAME(i)}});var i=[],r=[],o=[];n.each(function(t,a){var n=t.element,s=d3.select(this).attr("d");o.push(d3.select(this).node()),i.push(s),r.push(n),d3.select(this).transition().duration(e.PARAS_DURATION).attr("visibility",function(t,a){return e.parasVisibility(t.elementClass,t.elementName)})}),Object(K["tweenPaths"])({duration:e.PARAS_DURATION,complete:s,from:i,to:r,next:function(t,e){return o[e].setAttribute("d",t)}});var s=function(){n.each(function(t,e){var a=t.element;d3.select(this).attr("d",a)})};n.exit().remove()},duplicateCurrentDslObj:function(){this._dslObj=JSON.parse(p()(this.dslObj))},adjustDslObj:function(t,e){var a=t.split("-"),n=a[0],i=a[1].toUpperCase();e/=100,"Layout"in this.dslObj&&("RootMargin"===n?"undefined"!==typeof this.dslObj["Layout"][i]["Root"]&&(this.dslObj["Layout"][i]["Root"]["Margin"]=this._dslObj["Layout"][i]["Root"]["Margin"]+e):"RootLeftPadding"===n?"undefined"!==typeof this.dslObj["Layout"][i]["Root"]&&(this.dslObj["Layout"][i]["Root"]["Padding"][0]=this._dslObj["Layout"][i]["Root"]["Padding"][0]+e):"RootRightPadding"===n?"undefined"!==typeof this._dslObj["Layout"][i]["Root"]&&(this.dslObj["Layout"][i]["Root"]["Padding"][1]=this._dslObj["Layout"][i]["Root"]["Padding"][1]+e):"SubtreeMargin"===n&&"undefined"!==typeof this._dslObj["Layout"][i]["Subtree"]&&(this.dslObj["Layout"][i]["Subtree"]["Margin"]=this._dslObj["Layout"][i]["Subtree"]["Margin"]+e))},getParasDslContentObjectWithDefault:function(t){var e=JSON.parse(p()(t));for(var a in e)e[a].Element.Node="rectangle";return e},getParasTreeIndexWithDSL:function(t,e){var a=JSON.parse(p()(t)),n=a["index-0"];for(var i in e)i in a||(a[i]=n);return a},getParasSpaceData:function(t){var e=.5,a=2,n=JSON.parse(p()(t)),i=n["index-0"],r=i.others,o=r.X,s=r.Y,l={RootLeftPadding:"padding",RootRightPadding:"padding",SubtreeMargin:"margin",RootMargin:"margin",RootAlignment:"alignment",SubtreeAlignment:"alignment"},c=[],d="xy";for(var u in n){var h=n[u];"index-0"===u?(h.elementClass="root "+d,h.elementName="root"):(h.elementClass="subtree "+d,h.elementName="subtree"),h.Rootx=h.Rootx+a,h.Rooty=h.Rooty+a,h.RootWidth=h.RootWidth-2*a,h.RootHeight=h.RootHeight-2*a,h.parameterAxis=d,c.push(n[u])}var f={x:i.SubtreesX-e,y:i.SubtreesY-e,width:i.SubtreesWidth+2*e,height:i.SubtreesHeight+2*e},g="xy",m="subtree-group "+g,v="subtree-group",y=I(f,m,v,g);for(var b in c.push(y),o){var D="x",S=l[b]+" "+D,x=b;if(ca()(o[b]))for(var A=0;A<o[b].length;A++){var C=I(o[b][A],S,x,D);c.push(C)}else{var L=I(o[b],S,x,D);c.push(L)}}for(var _ in s){var R="y",T=l[_]+" "+R,O=_;if(ca()(s[_]))for(var E=0;E<s[_].length;E++){var P=I(s[_][E],T,O,R);c.push(P)}else{var w=I(s[_],T,O,R);c.push(w)}}for(var j={},N=0;N<c.length;N++){c[N].elementClass;var k=c[N].id;"index-0"!==k&&(c[N].fatherID="index-0"),"undefined"===typeof c[N].id&&(c[N].id="index-"+N),j["index-"+N]=c[N]}return j;function I(t,e,a,n){var i=1;"RootAlignment"!==a&&"SubtreeAlignment"!==a||(i=2);var r=t.width,o=t.height,s=t.x,l=t.y,c={x:s+i,y:l+i,Width:r-2*i,Height:o-2*i,Rootx:0,Rooty:0,RootWidth:r-2*i,RootHeight:o-2*i,SubtreesX:0,SubtreesY:0,SubtreesWidth:0,SubtreesHeight:0,fatherID:null,elementClass:e,elementName:a,parameterAxis:n};return c}},removeTreeLink:function(){var t=this.treeGId;d3.select("#"+t).selectAll(".link").remove()},renderTreeLink:function(t){var e=this,a=e.treeGId,n=d3.select("#"+a).selectAll(".link").data(t);n.enter().append("path").attr("id",function(t,e){return"link"+t.beginid+"to"+t.endid}).attr("class",function(t,e){return"link link-parent-"+t.beginid+" link-child-"+t.endid}).attr("d",function(t,e){return t.pathAttr}).attr("stroke-width",function(t){return t.link_width}).attr("fill","none");var i=[],r=[],o=[];n.each(function(t,a){var n=d3.select(this).attr("d");null!=n&&"undefined"!==typeof n&&i.push(n);var s=t.pathAttr;null!=s&&"undefined"!==typeof s&&r.push(s),o.push(d3.select(this).node()),d3.select(this).transition().duration(e.DURATION).attr("stroke-width",function(t){return t.link_width}).attr("fill","none")}),n.exit().remove();var s=function(){n.each(function(t,e){d3.select(this).attr("d",t.pathAttr)})};i.length===r.length?Object(K["tweenPaths"])({duration:e.DURATION,complete:s,from:i,to:r,next:function(t,e){return o[e].setAttribute("d",t)}}):s()},removeTreeNode:function(){var t=this.treeGId;d3.select("#"+t).selectAll(".lineartree-node").remove()},renderTreeNode:function(t){var e=this,a=e.treeGId,n=d3.select("#"+a).selectAll(".lineartree-node").data(t,function(t,e){return t.id});n.enter().append("path").attr("class","lineartree-node").attr("id",function(t,e){return"rootnode"+t.id}).attr("d",function(t,e){return t.element}).attr("fill",function(t){return t.node_color}).style("stroke-width",e.NodeStrokeWidth).style("opacity",1);var i=[],r=[],o=[];n.each(function(t,a){var n=t.element,s=d3.select(this).attr("d");o.push(d3.select(this).node()),i.push(s),r.push(n),d3.select(this).transition().duration(e.DURATION).attr("fill",function(t){return t.node_color}).style("stroke-width",e.NodeStrokeWidth).style("opacity",1)}),Object(K["tweenPaths"])({duration:e.DURATION,complete:s,from:i,to:r,next:function(t,e){return o[e].setAttribute("d",t)}});var s=function(){n.each(function(t,e){var a=t.element;console.log("tweenPathsCallback"),d3.select(this).attr("d",a)})};n.exit().remove()}})},fa=pa,ga=(a("f665"),a("9686"),Object(nt["a"])(fa,oa,sa,!1,null,"a9b7bba0",null)),ma=ga.exports,va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"treedsl-parameter"},[!1!==this.rootLayoutComponent?a("el-divider",{attrs:{"content-position":"left"}},[t._v("Root-Subtree")]):t._e(),!1!==this.rootLayoutComponent?a("el-row",{attrs:{type:"flex",align:"middle",id:"root_panel",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_img",attrs:{span:5}},[a("layout-sketch-figure",{attrs:{category:"root",layout:"X "+t.Layout.X.Root.Relation+" | Y "+t.Layout.Y.Root.Relation}})],1),a("el-col",{attrs:{span:18}},[a("el-divider",{attrs:{"content-position":"right"}},[t._v(t._s("x - "+t.Layout.X.Root.Relation))]),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:24}},["include"===t.Layout.X.Root.Relation?a("include-para",{attrs:{axisDsl:t.Layout.X.Root,axis:"X",changeDSL:t.changeDSL}}):t._e(),"juxtapose"===t.Layout.X.Root.Relation?a("juxtapose-para",{attrs:{axisDsl:t.Layout.X.Root,axis:"X",changeDSL:t.changeDSL}}):t._e(),"within"===t.Layout.X.Root.Relation?a("within-para",{attrs:{axisDsl:t.Layout.X.Root,axis:"X",changeDSL:t.changeDSL}}):t._e()],1)],1),a("el-divider",{attrs:{"content-position":"right"}},[t._v(t._s("y - "+t.Layout.Y.Root.Relation))]),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:24}},["include"===t.Layout.Y.Root.Relation?a("include-para",{attrs:{axisDsl:t.Layout.Y.Root,axis:"Y",changeDSL:t.changeDSL}}):t._e(),"juxtapose"===t.Layout.Y.Root.Relation?a("juxtapose-para",{attrs:{axisDsl:t.Layout.Y.Root,axis:"Y",changeDSL:t.changeDSL}}):t._e(),"within"===t.Layout.Y.Root.Relation?a("within-para",{attrs:{axisDsl:t.Layout.Y.Root,axis:"Y",changeDSL:t.changeDSL}}):t._e()],1)],1)],1)],1):t._e(),!1!==this.subtreeLayoutComponent?a("el-divider",{attrs:{"content-position":"left"}},[t._v("Subtrees")]):t._e(),!1!==this.subtreeLayoutComponent?a("el-row",{attrs:{type:"flex",align:"middle",id:"subtree_panel",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_img",attrs:{span:5}},[a("layout-sketch-figure",{attrs:{category:"subtree",layout:"X "+t.Layout.X.Subtree.Relation+" | Y "+t.Layout.Y.Subtree.Relation}})],1),a("el-col",{attrs:{span:18}},[a("el-divider",{attrs:{"content-position":"right"}},[t._v(t._s("x - "+t.Layout.X.Subtree.Relation))]),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:24}},["align"===t.Layout.X.Subtree.Relation?a("align-para",{attrs:{axisDsl:t.Layout.X.Subtree,axis:"X",changeDSL:t.changeDSL}}):t._e(),"flatten"===t.Layout.X.Subtree.Relation?a("flatten-para",{attrs:{axisDsl:t.Layout.X.Subtree,axis:"X",changeDSL:t.changeDSL,valueList:t.valueList}}):t._e()],1)],1),a("el-divider",{attrs:{"content-position":"right"}},[t._v(t._s("y - "+t.Layout.Y.Subtree.Relation))]),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:24}},["align"===t.Layout.Y.Subtree.Relation?a("align-para",{attrs:{axisDsl:t.Layout.Y.Subtree,axis:"Y",changeDSL:t.changeDSL}}):t._e(),"flatten"===t.Layout.Y.Subtree.Relation?a("flatten-para",{attrs:{axisDsl:t.Layout.Y.Subtree,axis:"Y",changeDSL:t.changeDSL,valueList:t.valueList}}):t._e()],1)],1)],1)],1):t._e(),!1!==this.nodeComponent?a("el-divider",{attrs:{"content-position":"left"}},[t._v("Node")]):t._e(),!1!==this.nodeComponent?a("el-row",{attrs:{type:"flex",align:"middle",id:"node_panel",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_img",attrs:{span:5}},[a("element-sketch-figure",{attrs:{category:"node",elementType:t.Element.Node}})],1),a("el-col",{attrs:{span:18}},["rectangle"===t.Element.Node?a("rect-para",{attrs:{elementDsl:t.Element,valueList:t.valueList,changeDSL:t.changeDSL}}):t._e(),"circle"===t.Element.Node?a("circle-para",{attrs:{elementDsl:t.Element,valueList:t.valueList,changeDSL:t.changeDSL}}):t._e(),"triangle"===t.Element.Node?a("triangle-para",{attrs:{elementDsl:t.Element,valueList:t.valueList,changeDSL:t.changeDSL}}):t._e(),"ellipse"===t.Element.Node?a("ellipse-para",{attrs:{elementDsl:t.Element,valueList:t.valueList,changeDSL:t.changeDSL}}):t._e()],1)],1):t._e(),!1!==this.linkComponent?a("el-divider",{attrs:{"content-position":"left"}},[t._v("Link")]):t._e(),!1!==this.linkComponent?a("el-row",{attrs:{type:"flex",align:"middle",id:"link_panel",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_img",attrs:{span:5}},[a("element-sketch-figure",{attrs:{category:"link",elementType:t.Element.Link}})],1),a("el-col",{attrs:{span:18}},[a("link-para",{attrs:{elementDsl:t.Element,changeDSL:t.changeDSL}})],1)],1):t._e(),!1!==this.coordComponent?a("el-divider",{attrs:{"content-position":"left"}},[t._v("Coordinate System")]):t._e(),!1!==this.coordComponent?a("el-row",{attrs:{type:"flex",align:"middle",id:"coord_panel",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_img",attrs:{span:5}},[a("coord-sketch-figure",{attrs:{coordType:t.CoordinateSystem.Category}})],1),a("el-col",{attrs:{span:18}},["polar"===t.CoordinateSystem.Category?a("polar-para",{attrs:{CoordDsl:t.CoordinateSystem,changeDSL:t.changeDSL}}):t._e(),"triangle"===t.CoordinateSystem.Category?a("tri-coord-para",{attrs:{CoordDsl:t.CoordinateSystem,changeDSL:t.changeDSL}}):t._e(),"cartesian"===t.CoordinateSystem.Category?a("span",[t._v("no parameter")]):t._e()],1)],1):t._e(),!1!==this.coordComponent||!1!==this.rootLayoutComponent||!1!==this.subtreeLayoutComponent||!1!==this.nodeComponent||!1!==this.linkComponent?a("div",{staticClass:"component-divider"}):t._e()],1)},ya=[],ba=a("bd86"),Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"outer-row",attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v(t._s("X"===t.axis?"padding-left ":"padding-top "))])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:24}},[a("el-slider",{attrs:{min:-100},on:{input:t.changeDSL_},model:{value:t.leftPadding,callback:function(e){t.leftPadding=e},expression:"leftPadding"}})],1)],1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{staticClass:"outer-row",attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v(t._s("X"===t.axis?"padding-right ":"padding-bottom "))])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:24}},[a("el-slider",{attrs:{min:-100},on:{input:t.changeDSL_},model:{value:t.rightPadding,callback:function(e){t.rightPadding=e},expression:"rightPadding"}})],1)],1)],1),a("el-col",{attrs:{span:1}})],1)],1)},Sa=[],xa={name:"include-para",props:{axisDsl:Object,axis:String,changeDSL:Function},data:function(){return{units:["","h","w"],leftPadding:0,rightPadding:0}},created:function(){"Padding"in this.axisDsl?(this.leftPadding=Math.floor(100*this.axisDsl.Padding[0]),this.rightPadding=Math.floor(100*this.axisDsl.Padding[1])):this.axisDsl.Padding=[0,0]},methods:{changeDSL_:function(){this.axisDsl.Padding[0]=this.leftPadding/100,this.axisDsl.Padding[1]=this.rightPadding/100,this.changeDSL()}}},Aa=xa,Ca=(a("6526"),Object(nt["a"])(Aa,Da,Sa,!1,null,"1f9be7ec",null)),La=Ca.exports,_a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"outer-row",attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("position")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-radio-group",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.selectedPosition,callback:function(e){t.selectedPosition=e},expression:"selectedPosition"}},[a("el-radio-button",{attrs:{label:"X"===t.axis?"left":"top"}}),a("el-radio-button",{attrs:{label:"X"===t.axis?"right":"bottom"}})],1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{staticClass:"outer-row",attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("margin")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:24}},[a("el-slider",{attrs:{min:-100},on:{input:t.changeDSL_},model:{value:t.Margin,callback:function(e){t.Margin=e},expression:"Margin"}})],1)],1)],1),a("el-col",{attrs:{span:1}})],1)],1)},Ra=[],Ta={name:"juxtapose-para",props:{axisDsl:Object,axis:String,changeDSL:Function},data:function(){return{selectedPosition:"",Margin:0}},mounted:function(){"Margin"in this.axisDsl?this.Margin=Math.floor(100*this.axisDsl.Margin):this.axisDsl.Margin=0,"Position"in this.axisDsl?this.selectedPosition=this.axisDsl.Position:(this.axisDsl.Position="X"===this.axis?"left":"top",this.selectedPosition="X"===this.axis?"left":"top")},methods:{changeDSL_:function(){this.axisDsl.Position=this.selectedPosition,this.axisDsl.Margin=this.Margin/100,this.changeDSL()}}},Oa=Ta,Ea=(a("9509"),Object(nt["a"])(Oa,_a,Ra,!1,null,"37682a95",null)),Pa=Ea.exports,wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"within"},[a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("alignment")])]),a("el-col",{attrs:{span:1}}),a("el-col",{attrs:{span:15}},[a("el-radio-group",{attrs:{size:"mini"},on:{change:function(e){t.selectAlignment()}},model:{value:t.selectedPara,callback:function(e){t.selectedPara=e},expression:"selectedPara"}},[a("el-radio-button",{attrs:{label:t.label[t.axis][0]}}),a("el-radio-button",{attrs:{label:t.label[t.axis][1]}}),a("el-radio-button",{attrs:{label:t.label[t.axis][2]}})],1)],1),a("el-col",{attrs:{span:1}})],1)],1)},ja=[],Na={name:"within-para",props:{axisDsl:Object,axis:String,changeDSL:Function},data:function(){return{label:{X:["left","middle","right"],Y:["top","middle","bottom"]},selectedPara:""}},mounted:function(){"Alignment"in this.axisDsl?this.selectedPara=this.axisDsl.Alignment:(this.axisDsl.Alignment="middle",this.selectedPara="middle")},methods:{selectAlignment:function(t){this.axisDsl.Alignment=this.selectedPara,this.changeDSL()}}},ka=Na,Ia=(a("62c0"),a("3e59"),Object(nt["a"])(ka,wa,ja,!1,null,"5f6aaa84",null)),Ua=Ia.exports,Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"outer-row",attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("alignment")])]),a("el-col",{attrs:{span:1}}),a("el-col",{attrs:{span:15}},[a("el-radio-group",{attrs:{size:"mini"},on:{change:function(e){t.selectAlignment()}},model:{value:t.selectedPara,callback:function(e){t.selectedPara=e},expression:"selectedPara"}},[a("el-radio-button",{attrs:{label:t.label[t.axis][0]}}),a("el-radio-button",{attrs:{label:t.label[t.axis][1]}}),a("el-radio-button",{attrs:{label:t.label[t.axis][2]}})],1)],1),a("el-col",{attrs:{span:1}})],1)],1)},Ma=[],$a={name:"align-para",props:{axisDsl:Object,axis:String,changeDSL:Function},data:function(){return{label:{X:["left","middle","right"],Y:["top","middle","bottom"]},selectedPara:""}},mounted:function(){"Alignment"in this.axisDsl?this.selectedPara=this.axisDsl.Alignment:(this.axisDsl.Alignment="middle",this.selectedPara="middle")},methods:{selectAlignment:function(){this.axisDsl.Alignment=this.selectedPara,this.changeDSL()}}},Va=$a,Ha=(a("d138"),Object(nt["a"])(Va,Wa,Ma,!1,null,"74918f85",null)),Ya=Ha.exports,Xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"flattenPara"}},[a("el-row",{staticClass:"outer-row",attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("margin")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:24}},[a("el-slider",{attrs:{min:-100},on:{input:t.changeDSL_},model:{value:t.Margin,callback:function(e){t.Margin=e},expression:"Margin"}})],1)],1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("sort")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.SortingCriteria,callback:function(e){t.SortingCriteria=e},expression:"SortingCriteria"}},t._l(t.valueList,function(t){return a("el-option",{key:t.attrName,attrs:{label:t.attrName,value:t.attrName}})}),1)],1),a("el-col",{attrs:{span:1}})],1),"null"!==t.SortingCriteria?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("order")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.SortingOrder,callback:function(e){t.SortingOrder=e},expression:"SortingOrder"}},t._l(t.orderList,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("el-col",{attrs:{span:1}})],1):t._e()],1)},za=[],Ba={name:"flatten-para",props:{axisDsl:Object,axis:String,changeDSL:Function},data:function(){return{Margin:0,SortingOrder:"asc",orderList:["asc","desc"],SortingCriteria:""}},mounted:function(){"Margin"in this.axisDsl?this.Margin=Math.floor(100*this.axisDsl.Margin):this.axisDsl.Margin=0},methods:{changeDSL_:function(){this.axisDsl.Margin=this.Margin/100,this.axisDsl.SortingCriteria=this.SortingCriteria,this.axisDsl.SortingOrder=this.SortingOrder,this.changeDSL()}},created:function(){"SortingCriteria"in this.axisDsl?this.SortingCriteria=this.axisDsl.SortingCriteria:(this.SortingCriteria=this.valueList[0].attrName,this.axisDsl.SortingCriteria=this.SortingCriteria)},computed:Object(l["a"])({},Object(f["d"])(["attrObjArray"]),{valueList:function(){var t=[{attrName:"null",attrType:"default"}];return this.attrObjArray.forEach(function(e){t.push(Object(l["a"])({},e))}),t}})},Fa=Ba,Ga=(a("a660"),a("a771"),Object(nt["a"])(Fa,Xa,za,!1,null,"328c6f57",null)),Ja=Ga.exports,Ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"rectPara"}},[a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("width")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.RootWidth,callback:function(e){t.RootWidth=e},expression:"RootWidth"}},t._l(t.valueList,function(t){return a("el-option",{key:t.attrName,attrs:{label:t.attrName,value:t.attrName}})}),1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("height")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.RootHeight,callback:function(e){t.RootHeight=e},expression:"RootHeight"}},t._l(t.valueList,function(t){return a("el-option",{key:t.attrName,attrs:{label:t.attrName,value:t.attrName}})}),1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("color")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeColor},model:{value:t.colorIndex,callback:function(e){t.colorIndex=e},expression:"colorIndex"}},t._l(t.valueList,function(t,e){return a("el-option",{key:t.attrName,attrs:{label:t.attrName,value:e}})}),1)],1),a("el-col",{attrs:{span:1}})],1),"default"===t.colorFlag?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("value")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-color-picker",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.StaticColor,callback:function(e){t.StaticColor=e},expression:"StaticColor"}})],1),a("el-col",{attrs:{span:1}})],1):t._e(),"number"===t.colorFlag?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("colorRange")])]),a("el-col",{attrs:{span:2}}),a("el-col",{staticClass:"panel_control",attrs:{span:4}},[a("el-color-picker",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.ColorRange[0],callback:function(e){t.$set(t.ColorRange,0,e)},expression:"ColorRange[0]"}})],1),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:4}},[a("el-color-picker",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.ColorRange[1],callback:function(e){t.$set(t.ColorRange,1,e)},expression:"ColorRange[1]"}})],1),a("el-col",{attrs:{span:4}})],1):t._e(),"string"===t.colorFlag?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("colorSchema")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.ColorSchema,callback:function(e){t.ColorSchema=e},expression:"ColorSchema"}},t._l(t.colorSchemaList,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("el-col",{attrs:{span:1}})],1):t._e()],1)},Za=[],Qa={name:"rect-para",props:{elementDsl:Object,changeDSL:Function},data:function(){return{colorFlag:"default",colorIndex:1,colorSchemaList:["option 1","option 2"],RootWidth:"adaptive",RootHeight:"adaptive",sizeOption:"fill",ColorRange:["",""],ColorSchema:""}},mounted:function(){},created:function(){var t=this;this.colorFlag=this.valueList[this.colorIndex].attrType,"ColorRange"in this.elementDsl?(this.ColorRange[0]=this.elementDsl.ColorRange[0],this.ColorRange[1]=this.elementDsl.ColorRange[1]):(this.elementDsl.ColorRange=["#2171b5","#deebf7"],this.ColorRange=["#2171b5","#deebf7"]),"RootWidth"in this.elementDsl?this.RootWidth=this.elementDsl.RootWidth:this.elementDsl.RootWidth="adaptive","RootHeight"in this.elementDsl?this.RootHeight=this.elementDsl.RootHeight:this.elementDsl.RootHeight="adaptive","ColorSchema"in this.elementDsl?this.ColorSchema=this.elementDsl.ColorSchema:(this.elementDsl.ColorSchema=this.colorSchemaList[0],this.ColorSchema=this.colorSchemaList[0]),"Color"in this.elementDsl?this.valueList.forEach(function(e,a){e.attrName===t.elementDsl.Color&&(t.colorIndex=a,t.colorFlag=e.attrType)}):this.Color=this.valueList[this.colorIndex].attrName,"StaticColor"in this.elementDsl?this.StaticColor=this.elementDsl.StaticColor:this.elementDsl.StaticColor=this.StaticColor},computed:Object(l["a"])({},Object(f["d"])(["attrObjArray"]),{valueList:function(){var t=[{attrName:"static",attrType:"default"}];return this.attrObjArray.forEach(function(e){t.push(Object(l["a"])({},e))}),t}}),methods:{changeColor:function(t){var e=this.valueList[t];this.colorFlag=e.attrType,this.elementDsl.Color=e.attrName,this.elementDsl.ColorType=e.attrType,this.changeDSL()},changeDSL_:function(){this.elementDsl.RootWidth=this.RootWidth,this.elementDsl.RootHeight=this.RootHeight,this.elementDsl.ColorRange[0]=this.ColorRange[0],this.elementDsl.ColorRange[1]=this.ColorRange[1],this.elementDsl.ColorSchema=this.ColorSchema,this.elementDsl.StaticColor=this.StaticColor,this.changeDSL()}}},qa=Qa,tn=(a("e289"),a("d6f3"),Object(nt["a"])(qa,Ka,Za,!1,null,"0bf93984",null)),en=tn.exports,an=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"circlePara"}},[a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("width")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.RootWidth,callback:function(e){t.RootWidth=e},expression:"RootWidth"}},t._l(t.valueList,function(t){return a("el-option",{key:t.attrName,attrs:{label:t.attrName,value:t.attrName}})}),1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("height")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.RootHeight,callback:function(e){t.RootHeight=e},expression:"RootHeight"}},t._l(t.valueList,function(t){return a("el-option",{key:t.attrName,attrs:{label:t.attrName,value:t.attrName}})}),1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("size")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.SizeOption,callback:function(e){t.SizeOption=e},expression:"SizeOption"}},t._l(t.sizeOptions,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("color")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeColor},model:{value:t.colorIndex,callback:function(e){t.colorIndex=e},expression:"colorIndex"}},t._l(t.valueList,function(t,e){return a("el-option",{key:t.attrName,attrs:{label:t.attrName,value:e}})}),1)],1),a("el-col",{attrs:{span:1}})],1),"default"===t.colorFlag?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("value")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-color-picker",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.StaticColor,callback:function(e){t.StaticColor=e},expression:"StaticColor"}})],1),a("el-col",{attrs:{span:1}})],1):t._e(),"number"===t.colorFlag?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("colorRange")])]),a("el-col",{attrs:{span:2}}),a("el-col",{staticClass:"panel_control",attrs:{span:4}},[a("el-color-picker",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.ColorRange[0],callback:function(e){t.$set(t.ColorRange,0,e)},expression:"ColorRange[0]"}})],1),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:4}},[a("el-color-picker",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.ColorRange[1],callback:function(e){t.$set(t.ColorRange,1,e)},expression:"ColorRange[1]"}})],1),a("el-col",{attrs:{span:4}})],1):t._e(),"string"===t.colorFlag?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("colorSchema")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.ColorSchema,callback:function(e){t.ColorSchema=e},expression:"ColorSchema"}},t._l(t.colorSchemaList,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("el-col",{attrs:{span:1}})],1):t._e()],1)},nn=[],rn={name:"circle-para",props:{elementDsl:Object,changeDSL:Function},data:function(){return{colorFlag:"default",colorIndex:1,colorSchemaList:["option 1","option 2"],sizeOptions:["static","adaptive"],RootWidth:"adaptive",RootHeight:"adaptive",SizeOption:"adaptive",ColorRange:["",""],ColorSchema:"",StaticColor:"#6baed6"}},mounted:function(){},created:function(){var t=this;this.colorFlag=this.valueList[this.colorIndex].attrType,"ColorRange"in this.elementDsl?(this.ColorRange[0]=this.elementDsl.ColorRange[0],this.ColorRange[1]=this.elementDsl.ColorRange[1]):(this.elementDsl.ColorRange=["#2171b5","#deebf7"],this.ColorRange=["#2171b5","#deebf7"]),"RootWidth"in this.elementDsl?this.RootWidth=this.elementDsl.RootWidth:this.elementDsl.RootWidth="adaptive","RootHeight"in this.elementDsl?this.RootHeight=this.elementDsl.RootHeight:this.elementDsl.RootHeight="adaptive","SizeOption"in this.elementDsl?this.SizeOption=this.elementDsl.SizeOption:this.elementDsl.SizeOption="adaptive","ColorSchema"in this.elementDsl?this.ColorSchema=this.elementDsl.ColorSchema:(this.elementDsl.ColorSchema=this.colorSchemaList[0],this.ColorSchema=this.colorSchemaList[0]),"Color"in this.elementDsl?this.valueList.forEach(function(e,a){e.attrName===t.elementDsl.Color&&(t.colorIndex=a,t.colorFlag=e.attrType)}):this.Color=this.valueList[this.colorIndex].attrName,"StaticColor"in this.elementDsl?this.StaticColor=this.elementDsl.StaticColor:this.elementDsl.StaticColor=this.StaticColor},computed:Object(l["a"])({},Object(f["d"])(["attrObjArray"]),{valueList:function(){var t=[{attrName:"static",attrType:"default"}];return this.attrObjArray.forEach(function(e){t.push(Object(l["a"])({},e))}),t}}),methods:{changeColor:function(t){var e=this.valueList[t];this.colorFlag=e.attrType,this.elementDsl.Color=e.attrName,this.elementDsl.ColorType=e.attrType,this.changeDSL()},changeDSL_:function(){this.elementDsl.RootWidth=this.RootWidth,this.elementDsl.RootHeight=this.RootHeight,this.elementDsl.SizeOption=this.SizeOption,this.elementDsl.ColorRange[0]=this.ColorRange[0],this.elementDsl.ColorRange[1]=this.ColorRange[1],this.elementDsl.ColorSchema=this.ColorSchema,this.elementDsl.StaticColor=this.StaticColor,this.changeDSL()}}},on=rn,sn=(a("1845"),a("7584"),Object(nt["a"])(on,an,nn,!1,null,"5960ef1e",null)),ln=sn.exports,cn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"triPara"}},[a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("width")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.RootWidth,callback:function(e){t.RootWidth=e},expression:"RootWidth"}},t._l(t.valueList,function(t){return a("el-option",{key:t.attrName,attrs:{label:t.attrName,value:t.attrName}})}),1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("height")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.RootHeight,callback:function(e){t.RootHeight=e},expression:"RootHeight"}},t._l(t.valueList,function(t){return a("el-option",{key:t.attrName,attrs:{label:t.attrName,value:t.attrName}})}),1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("direction")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.Direction,callback:function(e){t.Direction=e},expression:"Direction"}},t._l(t.DirectionList,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("color")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeColor},model:{value:t.colorIndex,callback:function(e){t.colorIndex=e},expression:"colorIndex"}},t._l(t.valueList,function(t,e){return a("el-option",{key:t.attrName,attrs:{label:t.attrName,value:e}})}),1)],1),a("el-col",{attrs:{span:1}})],1),"default"===t.colorFlag?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("value")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-color-picker",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.StaticColor,callback:function(e){t.StaticColor=e},expression:"StaticColor"}})],1),a("el-col",{attrs:{span:1}})],1):t._e(),"number"===t.colorFlag?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("colorRange")])]),a("el-col",{attrs:{span:2}}),a("el-col",{staticClass:"panel_control",attrs:{span:4}},[a("el-color-picker",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.ColorRange[0],callback:function(e){t.$set(t.ColorRange,0,e)},expression:"ColorRange[0]"}})],1),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:4}},[a("el-color-picker",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.ColorRange[1],callback:function(e){t.$set(t.ColorRange,1,e)},expression:"ColorRange[1]"}})],1),a("el-col",{attrs:{span:4}})],1):t._e(),"string"===t.colorFlag?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("colorSchema")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.ColorSchema,callback:function(e){t.ColorSchema=e},expression:"ColorSchema"}},t._l(t.colorSchemaList,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("el-col",{attrs:{span:1}})],1):t._e()],1)},dn=[],un={name:"tri-para",props:{elementDsl:Object,changeDSL:Function},data:function(){return{colorFlag:"default",colorIndex:1,colorSchemaList:["option 1","option 2"],RootWidth:"adaptive",RootHeight:"adaptive",sizeOption:"fill",Direction:"top",DirectionList:["top","bottom","left","right"],ColorRange:["",""],ColorSchema:""}},mounted:function(){},created:function(){var t=this;this.colorFlag=this.valueList[this.colorIndex].attrType,"ColorRange"in this.elementDsl?(this.ColorRange[0]=this.elementDsl.ColorRange[0],this.ColorRange[1]=this.elementDsl.ColorRange[1]):(this.elementDsl.ColorRange=["#2171b5","#deebf7"],this.ColorRange=["#2171b5","#deebf7"]),"RootWidth"in this.elementDsl?this.RootWidth=this.elementDsl.RootWidth:this.elementDsl.RootWidth="adaptive","RootHeight"in this.elementDsl?this.RootHeight=this.elementDsl.RootHeight:this.elementDsl.RootHeight="adaptive","ColorSchema"in this.elementDsl?this.ColorSchema=this.elementDsl.ColorSchema:(this.elementDsl.ColorSchema=this.colorSchemaList[0],this.ColorSchema=this.colorSchemaList[0]),"Direction"in this.elementDsl?this.Direction=this.elementDsl.Direction:this.elementDsl.Direction="top","Color"in this.elementDsl?this.valueList.forEach(function(e,a){e.attrName===t.elementDsl.Color&&(t.colorIndex=a,t.colorFlag=e.attrType)}):this.Color=this.valueList[this.colorIndex].attrName,"StaticColor"in this.elementDsl?this.StaticColor=this.elementDsl.StaticColor:this.elementDsl.StaticColor=this.StaticColor},computed:Object(l["a"])({},Object(f["d"])(["attrObjArray"]),{valueList:function(){var t=[{attrName:"static",attrType:"default"}];return this.attrObjArray.forEach(function(e){t.push(Object(l["a"])({},e))}),t}}),methods:{changeColor:function(t){var e=this.valueList[t];this.colorFlag=e.attrType,this.elementDsl.Color=e.attrName,this.elementDsl.ColorType=e.attrType,this.changeDSL()},changeDSL_:function(){this.elementDsl.RootWidth=this.RootWidth,this.elementDsl.RootHeight=this.RootHeight,this.elementDsl.Direction=this.Direction,this.elementDsl.ColorRange[0]=this.ColorRange[0],this.elementDsl.ColorRange[1]=this.ColorRange[1],this.elementDsl.ColorSchema=this.ColorSchema,this.elementDsl.StaticColor=this.StaticColor,this.changeDSL()}}},hn=un,pn=(a("3aec"),a("0c39"),Object(nt["a"])(hn,cn,dn,!1,null,"61a71356",null)),fn=pn.exports,gn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ellipsePara"}},[a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("width")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.RootWidth,callback:function(e){t.RootWidth=e},expression:"RootWidth"}},t._l(t.valueList,function(t){return a("el-option",{key:t.attrName,attrs:{label:t.attrName,value:t.attrName}})}),1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("height")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.RootHeight,callback:function(e){t.RootHeight=e},expression:"RootHeight"}},t._l(t.valueList,function(t){return a("el-option",{key:t.attrName,attrs:{label:t.attrName,value:t.attrName}})}),1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("color")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeColor},model:{value:t.colorIndex,callback:function(e){t.colorIndex=e},expression:"colorIndex"}},t._l(t.valueList,function(t,e){return a("el-option",{key:t.attrName,attrs:{label:t.attrName,value:e}})}),1)],1),a("el-col",{attrs:{span:1}})],1),"default"===t.colorFlag?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("value")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-color-picker",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.StaticColor,callback:function(e){t.StaticColor=e},expression:"StaticColor"}})],1),a("el-col",{attrs:{span:1}})],1):t._e(),"number"===t.colorFlag?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("colorRange")])]),a("el-col",{attrs:{span:2}}),a("el-col",{staticClass:"panel_control",attrs:{span:4}},[a("el-color-picker",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.ColorRange[0],callback:function(e){t.$set(t.ColorRange,0,e)},expression:"ColorRange[0]"}})],1),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:4}},[a("el-color-picker",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.ColorRange[1],callback:function(e){t.$set(t.ColorRange,1,e)},expression:"ColorRange[1]"}})],1),a("el-col",{attrs:{span:4}})],1):t._e(),"string"===t.colorFlag?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("colorSchema")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.ColorSchema,callback:function(e){t.ColorSchema=e},expression:"ColorSchema"}},t._l(t.colorSchemaList,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("el-col",{attrs:{span:1}})],1):t._e()],1)},mn=[],vn={name:"ellipse-para",props:{elementDsl:Object,changeDSL:Function},data:function(){return{colorFlag:"default",colorIndex:1,colorSchemaList:["option 1","option 2"],RootWidth:"adaptive",RootHeight:"adaptive",sizeOption:"fill",ColorRange:["",""],ColorSchema:""}},mounted:function(){},created:function(){var t=this;this.colorFlag=this.valueList[this.colorIndex].attrType,"ColorRange"in this.elementDsl?(this.ColorRange[0]=this.elementDsl.ColorRange[0],this.ColorRange[1]=this.elementDsl.ColorRange[1]):(this.elementDsl.ColorRange=["#2171b5","#deebf7"],this.ColorRange=["#2171b5","#deebf7"]),"RootWidth"in this.elementDsl?this.RootWidth=this.elementDsl.RootWidth:this.elementDsl.RootWidth="adaptive","RootHeight"in this.elementDsl?this.RootHeight=this.elementDsl.RootHeight:this.elementDsl.RootHeight="adaptive","ColorSchema"in this.elementDsl?this.ColorSchema=this.elementDsl.ColorSchema:(this.elementDsl.ColorSchema=this.colorSchemaList[0],this.ColorSchema=this.colorSchemaList[0]),"Color"in this.elementDsl?this.valueList.forEach(function(e,a){e.attrName===t.elementDsl.Color&&(t.colorIndex=a,t.colorFlag=e.attrType)}):this.Color=this.valueList[this.colorIndex].attrName,"StaticColor"in this.elementDsl?this.StaticColor=this.elementDsl.StaticColor:this.elementDsl.StaticColor=this.StaticColor},computed:Object(l["a"])({},Object(f["d"])(["attrObjArray"]),{valueList:function(){var t=[{attrName:"static",attrType:"default"}];return this.attrObjArray.forEach(function(e){t.push(Object(l["a"])({},e))}),t}}),methods:{changeColor:function(t){var e=this.valueList[t];this.colorFlag=e.attrType,this.elementDsl.Color=e.attrName,this.elementDsl.ColorType=e.attrType,this.changeDSL()},changeDSL_:function(){this.elementDsl.RootWidth=this.RootWidth,this.elementDsl.RootHeight=this.RootHeight,this.elementDsl.ColorRange[0]=this.ColorRange[0],this.elementDsl.ColorRange[1]=this.ColorRange[1],this.elementDsl.ColorSchema=this.ColorSchema,this.elementDsl.StaticColor=this.StaticColor,this.changeDSL()}}},yn=vn,bn=(a("93b2"),a("caf7"),Object(nt["a"])(yn,gn,mn,!1,null,"29883a00",null)),Dn=bn.exports,Sn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"linkPara"}},["arccurve"===t.elementDsl.Link?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("direction")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.Direction,callback:function(e){t.Direction=e},expression:"Direction"}},t._l(t.DirectionList,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("el-col",{attrs:{span:1}})],1):t._e(),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("thickness")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.ThicknessIndex,callback:function(e){t.ThicknessIndex=e},expression:"ThicknessIndex"}},t._l(t.valueList,function(t,e){return a("el-option",{key:t.attrName,attrs:{label:t.attrName,value:e}})}),1)],1),a("el-col",{attrs:{span:1}})],1),"default"===t.valueList[t.ThicknessIndex].attrType?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("value")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-slider",{attrs:{max:t.MaxThickness},on:{input:t.changeDSL_},model:{value:t.WidthValue,callback:function(e){t.WidthValue=e},expression:"WidthValue"}})],1),a("el-col",{attrs:{span:1}})],1):t._e(),"number"===t.valueList[t.ThicknessIndex].attrType?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("minimum")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-slider",{attrs:{max:t.MaxThickness},on:{input:t.changeDSL_},model:{value:t.MinWidthValue,callback:function(e){t.MinWidthValue=e},expression:"MinWidthValue"}})],1),a("el-col",{attrs:{span:1}})],1):t._e(),"number"===t.valueList[t.ThicknessIndex].attrType?a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("maximum")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-slider",{attrs:{min:t.MinWidthValue,max:t.MaxThickness},on:{input:t.changeDSL_},model:{value:t.MaxWidthValue,callback:function(e){t.MaxWidthValue=e},expression:"MaxWidthValue"}})],1),a("el-col",{attrs:{span:1}})],1):t._e()],1)},xn=[],An={name:"link-para",props:{elementDsl:Object,changeDSL:Function},data:function(){return{Thickness:"static",ThicknessIndex:0,WidthValue:5,MinWidthValue:1,MaxWidthValue:10,MaxThickness:20,Direction:"top",DirectionList:["top","bottom"]}},mounted:function(){},created:function(){"Thickness"in this.elementDsl?this.Thickness=this.elementDsl.Thickness:this.elementDsl.Thickness="static","StaticThickness"in this.elementDsl?this.WidthValue=Math.floor(this.elementDsl.StaticThickness):this.elementDsl.StaticThickness=this.WidthValue,"MinThickness"in this.elementDsl?this.MinWidthValue=Math.floor(this.elementDsl.MinThickness):this.elementDsl.MinThickness=this.MinWidthValue,"MaxThickness"in this.elementDsl?this.MaxWidthValue=Math.floor(this.elementDsl.MaxThickness):this.elementDsl.MaxThickness=this.MaxWidthValue,"ArcDirection"in this.elementDsl?this.Direction=this.elementDsl.ArcDirection:this.elementDsl.ArcDirection=this.DirectionList[0]},computed:Object(l["a"])({},Object(f["d"])(["attrObjArray"]),{valueList:function(){var t=[{attrName:"static",attrType:"default"}];return this.attrObjArray.forEach(function(e){"number"===e.attrType&&t.push(Object(l["a"])({},e))}),t}}),methods:{changeDSL_:function(){this.elementDsl.Thickness=this.valueList[this.ThicknessIndex].attrName,this.elementDsl.StaticThickness=this.WidthValue,this.elementDsl.MinThickness=this.MinWidthValue,this.elementDsl.MaxThickness=this.MaxWidthValue,this.elementDsl.ArcDirection=this.Direction,this.changeDSL()}}},Cn=An,Ln=(a("fb0a"),Object(nt["a"])(Cn,Sn,xn,!1,null,"3948069b",null)),_n=Ln.exports,Rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"polarPara"}},[a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("start")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-slider",{on:{input:t.changeDSL_},model:{value:t.StartAngle,callback:function(e){t.StartAngle=e},expression:"StartAngle"}})],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("central")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-slider",{on:{input:t.changeDSL_},model:{value:t.CentralAngle,callback:function(e){t.CentralAngle=e},expression:"CentralAngle"}})],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("inner r")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-slider",{on:{input:t.changeDSL_},model:{value:t.InnerRadius,callback:function(e){t.InnerRadius=e},expression:"InnerRadius"}})],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("direction")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.Direction,callback:function(e){t.Direction=e},expression:"Direction"}},t._l(t.DirectionOptions,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("polar axis")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.PolarAxis,callback:function(e){t.PolarAxis=e},expression:"PolarAxis"}},t._l(t.PolarAxisOptions,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{staticClass:"outer-row",attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("center")])]),a("el-col",{attrs:{span:1}}),a("el-col",{attrs:{span:15}},[a("el-radio-group",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.PolarAxisPara,callback:function(e){t.PolarAxisPara=e},expression:"PolarAxisPara"}},[a("el-radio-button",{attrs:{label:"x-axis"===t.PolarAxis?"left":"top"}}),a("el-radio-button",{attrs:{label:"x-axis"===t.PolarAxis?"right":"bottom"}})],1)],1),a("el-col",{attrs:{span:1}})],1)],1)},Tn=[],On={name:"polar-para",props:{CoordDsl:Object,changeDSL:Function},data:function(){return{DirectionOptions:["clockwise","anticlockwise"],PolarAxisOptions:["y-axis","x-axis"],CentralAngle:100,StartAngle:0,InnerRadius:0,CenterPara:0,Direction:"",PolarAxis:"",PolarAxisPara:"top"}},mounted:function(){},created:function(){"Direction"in this.CoordDsl?this.Direction=this.CoordDsl.Direction:(this.CoordDsl.Direction=this.DirectionOptions[0],this.Direction=this.DirectionOptions[0]),"CentralAngle"in this.CoordDsl||(this.CoordDsl.CentralAngle=1),"PolarAxis"in this.CoordDsl||(this.CoordDsl.PolarAxis=this.PolarAxisOptions[0]),"PolarCenter"in this.CoordDsl||(this.CoordDsl.PolarCenter=this.PolarAxisPara),this.CentralAngle=Math.floor(100*this.CoordDsl.CentralAngle),this.Initial=Math.floor(100*this.CoordDsl.Initial),this.InnerRadius=Math.floor(100*this.CoordDsl.InnerRadius),this.PolarAxis=this.CoordDsl.PolarAxis,this.PolarAxisPara=this.CoordDsl.PolarCenter},methods:{changeDSL_:function(){this.CoordDsl.CentralAngle=this.CentralAngle/100,this.CoordDsl.StartAngle=this.StartAngle/100,this.CoordDsl.InnerRadius=this.InnerRadius/100,this.CoordDsl.PolarAxis=this.PolarAxis,this.CoordDsl.PolarCenter=this.PolarAxisPara,this.CoordDsl.Direction=this.Direction,"x-axis"!==this.PolarAxis||"top"!==this.PolarAxisPara&&"bottom"!==this.PolarAxisPara||(this.PolarAxisPara="left"),"y-axis"!==this.PolarAxis||"left"!==this.PolarAxisPara&&"right"!==this.PolarAxisPara||(this.PolarAxisPara="top"),this.changeDSL()}}},En=On,Pn=(a("0b41"),a("c9c0"),Object(nt["a"])(En,Rn,Tn,!1,null,"1eadcf4a",null)),wn=Pn.exports,jn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"triCoordPara"}},[a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("start")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-slider",{on:{input:t.changeDSL_},model:{value:t.StartAngle,callback:function(e){t.StartAngle=e},expression:"StartAngle"}})],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("central")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-slider",{on:{input:t.changeDSL_},model:{value:t.CentralAngle,callback:function(e){t.CentralAngle=e},expression:"CentralAngle"}})],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("inner r")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-slider",{on:{input:t.changeDSL_},model:{value:t.InnerRadius,callback:function(e){t.InnerRadius=e},expression:"InnerRadius"}})],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("direction")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.Direction,callback:function(e){t.Direction=e},expression:"Direction"}},t._l(t.DirectionOptions,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("polar axis")])]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_control",attrs:{span:15}},[a("el-select",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.PolarAxis,callback:function(e){t.PolarAxis=e},expression:"PolarAxis"}},t._l(t.PolarAxisOptions,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{staticClass:"outer-row",attrs:{type:"flex",align:"middle",justify:"space-around"}},[a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"panel_para",attrs:{span:6}},[a("span",[t._v("center")])]),a("el-col",{attrs:{span:1}}),a("el-col",{attrs:{span:15}},[a("el-radio-group",{attrs:{size:"mini"},on:{change:t.changeDSL_},model:{value:t.PolarAxisPara,callback:function(e){t.PolarAxisPara=e},expression:"PolarAxisPara"}},[a("el-radio-button",{attrs:{label:"x-axis"===t.PolarAxis?"left":"top"}}),a("el-radio-button",{attrs:{label:"x-axis"===t.PolarAxis?"right":"bottom"}})],1)],1),a("el-col",{attrs:{span:1}})],1)],1)},Nn=[],kn={name:"tri-coord-para",props:{CoordDsl:Object,changeDSL:Function},data:function(){return{DirectionOptions:["clockwise","anticlockwise"],PolarAxisOptions:["y-axis","x-axis"],CentralAngle:100,StartAngle:0,InnerRadius:0,CenterPara:0,Direction:"",PolarAxis:"",PolarAxisPara:"top"}},mounted:function(){},created:function(){"Direction"in this.CoordDsl?this.Direction=this.CoordDsl.Direction:(this.CoordDsl.Direction=this.DirectionOptions[0],this.Direction=this.DirectionOptions[0]),"CentralAngle"in this.CoordDsl||(this.CoordDsl.CentralAngle=1),"PolarAxis"in this.CoordDsl||(this.CoordDsl.PolarAxis=this.PolarAxisOptions[0]),"polarCenter"in this.CoordDsl||(this.CoordDsl.polarCenter=this.PolarAxisPara),this.CentralAngle=Math.floor(100*this.CoordDsl.CentralAngle),this.Initial=Math.floor(100*this.CoordDsl.Initial),this.InnerRadius=Math.floor(100*this.CoordDsl.InnerRadius),this.PolarAxis=this.CoordDsl.PolarAxis,this.PolarAxisPara=this.CoordDsl.polarCenter},methods:{changeDSL_:function(){this.CoordDsl.CentralAngle=this.CentralAngle/100,this.CoordDsl.StartAngle=this.StartAngle/100,this.CoordDsl.InnerRadius=this.InnerRadius/100,this.CoordDsl.PolarAxis=this.PolarAxis,this.CoordDsl.polarCenter=this.PolarAxisPara,this.CoordDsl.Direction=this.Direction,this.changeDSL()}}},In=kn,Un=(a("e7d6"),a("9fbd"),Object(nt["a"])(In,jn,Nn,!1,null,"29a90d91",null)),Wn=Un.exports,Mn=(ua={name:"ParameterView",components:{IncludePara:La,JuxtaposePara:Pa,WithinPara:Ua,AlignPara:Ya,FlattenPara:Ja,RectPara:en,CirclePara:ln,TrianglePara:fn,EllipsePara:Dn,LinkPara:_n,PolarPara:wn,TriCoordPara:Wn,ElementSketchFigure:xe,CoordSketchFigure:Qt,LayoutSketchFigure:de},data:function(){var t,e;return{valueList:[],staticValueList:[],Element:{Node:"",RootWidth:"adaptive",RootHeight:"adaptive",sizeOption:"fill",Color:"adaptive",ColorType:"default",ColorRange:["",""],ColorSchema:"",Direction:"top",Link:"",Thickness:"adaptive",StaticThickness:5,MinThickness:1,MaxThickness:10,ArcDirection:"top"},CoordinateSystem:{Category:"",Theta:0,Initial:0,Direction:"CW",Inner:0,PolarAxis:"y-axis",PolarAxisPara:"top"},Layout:{Category:"AxisIndependent",Mode:"bottom-up",X:{Root:{Relation:"",Padding:[0,0],Padding_:["",""],Margin:0,Margin_:"",Position:"left",Alignment:"middle"},Subtree:(t={Relation:"",SortingCriteria:"",SortingOrder:"",Margin:0,Margin_:"",Alignment:"middle"},Object(ba["a"])(t,"SortingCriteria",""),Object(ba["a"])(t,"SortingOrder",""),t)},Y:{Root:{Relation:"",Padding:[0,0],Padding_:["",""],Margin:0,Margin_:"",Position:"top",Alignment:"middle"},Subtree:(e={Relation:"",SortingCriteria:"",SortingOrder:"",Margin:0,Margin_:"",Alignment:"middle"},Object(ba["a"])(e,"SortingCriteria",""),Object(ba["a"])(e,"SortingOrder",""),e)}},relationDic:{"x-include-y-within":["include","within"],"x-juxtapose-y-within":["juxtapose","within"],"x-within-y-within":["within","within"],"x-include-y-juxtapose":["include","juxtapose"],"x-juxtapose-y-juxtapose":["juxtapose","juxtapose"],"x-within-y-juxtapose":["within","juxtapose"],"x-include-y-include":["include","include"],"x-juxtapose-y-include":["juxtapose","include"],"x-within-y-include":["within","include"],"x-align-y-flatten":["align","flatten"],"x-flatten-y-flatten":["flatten","flatten"],"x-align-y-align":["align","align"],"x-flatten-y-align":["flatten","align"]}}},props:{dslName:{type:String},dslObj:{type:Object}},watch:{attrObjArray:function(){var t=this;this.valueList=[{attrName:"adaptive",attrType:"default"}],this.attrObjArray.forEach(function(e){t.valueList.push(Object(l["a"])({},e))}),this.staticValueList=[{attrName:"static",attrType:"default"}],this.attrObjArray.forEach(function(e){t.staticValueList.push(Object(l["a"])({},e))})},selectParaName:function(){console.log("this.selectParaName",this.selectParaName)}},created:function(){},beforeMount:function(){},mounted:function(){}},Object(ba["a"])(ua,"created",function(){var t=this;this.valueList=[{attrName:"adaptive",attrType:"default"}],this.attrObjArray.forEach(function(e){t.valueList.push(Object(l["a"])({},e))})}),Object(ba["a"])(ua,"computed",Object(l["a"])({},Object(f["d"])(["attrObjArray","selectParaName"]),{rootLayoutComponent:function(){return"Layout"in this.dslObj&&"X"in this.dslObj.Layout&&"Root"in this.dslObj.Layout.X&&(this.Layout=this.dslObj.Layout,!0)},subtreeLayoutComponent:function(){return"Layout"in this.dslObj&&"X"in this.dslObj.Layout&&"Subtree"in this.dslObj.Layout.X&&(this.Layout=this.dslObj.Layout,!0)},nodeComponent:function(){return"Element"in this.dslObj&&"Node"in this.dslObj.Element&&(this.Element=this.dslObj.Element,!0)},linkComponent:function(){return"Element"in this.dslObj&&"Link"in this.dslObj.Element&&(this.Element=this.dslObj.Element,!0)},coordComponent:function(){return"CoordinateSystem"in this.dslObj&&(this.CoordinateSystem=this.dslObj.CoordinateSystem,!0)}})),Object(ba["a"])(ua,"methods",Object(l["a"])({},Object(f["b"])(["updateTreeUnitLayout"]),Object(f["c"])(["UPDATE_TREE_UNIT_LAYOUT_STATE","UPDATE_TREE_CANVAS_LAYOUT_STATE","UPDATE_TREE_PREVIEW_LAYOUT_STATE"]),{changeDSL:function(){if(!1!==this.rootLayoutComponent&&!1!==this.subtreeLayoutComponent&&!1!==this.nodeComponent&&!1!==this.linkComponent&&!1!==this.coordComponent)Object(l["a"])({},this.Element),Object(l["a"])({},this.CoordinateSystem),Object(l["a"])({},this.Layout);console.log("**************change tree unit DSL**************"),this.UPDATE_TREE_UNIT_LAYOUT_STATE(),sysDatasetObj.updateTreeDSLContentObject(this.dslName,this.dslObj),this.UPDATE_TREE_CANVAS_LAYOUT_STATE(),sysDatasetObj.updateSelectedDSLObject(this.dslName,this.dslObj),this.UPDATE_TREE_PREVIEW_LAYOUT_STATE()}})),ua),$n=Mn,Vn=(a("6cda"),a("e1a5"),Object(nt["a"])($n,va,ya,!1,null,"fc93fbb0",null)),Hn=Vn.exports,Yn={name:"TreeUnitParameterView",components:{TreeUnitView:ma,ParameterView:Hn},data:function(){return{topPanelStyleObj:null,bottomPanelStyleObj:null,editableDSLName:0}},watch:{treeUnitDSLArray:{handler:function(){},deep:!0},treeUnitDSLName:function(){var t=this,e=this.treeUnitDSLName;null!=e&&"undefined"!==typeof e&&t.selectCurrentTreeUnitDSL(e)}},created:function(){},beforeMount:function(){},mounted:function(){this.initializePanelAttr()},computed:Object(l["a"])({},Object(f["d"])(["treeUnitDSLArray","treeUnitDSLName","focusedTreeObjArray"])),methods:Object(l["a"])({removeTab:function(t){var e=this.treeUnitDSLArray,a=this.editableDSLName;a===t&&(e.forEach(function(n,i){if(n.name===t){var r=e[i+1]||e[i-1];r&&(a=r.name)}}),a===t&&(a=null)),this.editableDSLName=a,this.UPDATE_TREEUNIT_DSL_NAME(a);var n=e.filter(function(e){return e.name!==t});this.UPDATE_TREEUNIT_DSL_ARRAY(n)},selectCurrentTreeUnitDSL:function(t){var e=this.treeUnitDSLArray;this.editableDSLName=t;for(var a=0;a<e.length;a++)e[a].name===t&&this.handleClick({index:a})},handleClick:function(t,e){for(var a=t.index,n=0;n<this.treeUnitDSLArray.length;n++)this.treeUnitDSLArray[n].visible=!1;var i=this.treeUnitDSLArray[a].name;this.UPDATE_TREEUNIT_DSL_NAME(i),this.treeUnitDSLArray[a].visible=!0,this.$forceUpdate()},initializePanelAttr:function(){var t=$("#treeunit-parameter-container").width(),e=.9*t;this.topPanelStyleObj={height:e+"px"},this.bottomPanelStyleObj={top:e+"px"}}},Object(f["c"])(["UPDATE_TREEUNIT_DSL_ARRAY","UPDATE_TREEUNIT_DSL_NAME","UPDATE_TREE_CANVAS_LAYOUT_STATE"]))},Xn=Yn,zn=(a("029a"),a("7e44"),Object(nt["a"])(Xn,ia,ra,!1,null,"698caa56",null)),Bn=zn.exports,Fn=a("ba5a"),Gn={name:"app",components:{TreeUnitViewParameterTitle:na,TreeCanvas:ht,TreeCanvasViewTitle:Dt,DslList:ze,DslListTitle:Ze,TreeUnitParameterView:Bn,DataDialog:_t,ExportDialog:Nt,TreedslDialog:Xt,OriginalDataView:rt,CoordinateSystem:ae,Layout:fe,Element:_e},data:function(){return{treeCanvasParas:{title:"TreeCanvas"},leftPanelWidth:0,treeDataArray:[],initTreeDataName:null,activeIndex:null,operationArray:["data","treedsl","export"],componentKey:0,dataDialogVisible:!1,treedslDialogVisible:!1,exportDialogVisible:!1,loading:!0,OPEN_PREVIEW_PANEL_DURATION:1e3,treeCanvasKey:0}},created:function(){},beforeMount:function(){var t=this,e=Ut();this.treeDataArray=e.treeDataArray;var a=e.initTreeDataName;this.initTreeDataName=a,window.sysDatasetObj=new Wt;var n=$.Deferred(),i=$.Deferred(),r=$.Deferred();$.when(n,i,r).then(function(){t.loading=!1});var o="treeunit.json";gt(o).then(function(e){sysDatasetObj.updateTreeUnitDataset(e),t.UPDATE_PREVIEW_TREE_OBJ(e),r.resolve()}),gt(a).then(function(e){t.updateSelectedHierarchicalData(a,e),n.resolve()});var s=e.selectedDSLArray;this.UPDATE_SELECTED_DSL_ARRAY(s),Mt(s).then(function(t){for(var e in t){var a=t[e];sysDatasetObj.updateSelectedDSLObject(e,a),i.resolve()}})},mounted:function(){this.initializeLSCG()},computed:Object(l["a"])({},Object(f["d"])(["treeViewUpdate","currentTree","treeDataViewFormat","treeDslOption","appName","previewTreeObj","selectedPreviewNodeId"])),methods:Object(l["a"])({onHide:function(){},iconClass:function(t){return"icon-"+t},onShow:function(){},closeDataView:function(){var t=this,e=t.OPEN_PREVIEW_PANEL_DURATION,a=$("#original-data-view").width();$("#treecanvas-content-view").animate({left:"-="+a},e,function(){t.treeCanvasKey=(t.treeCanvasKey+1)%2})},openDataView:function(){var t=this,e=t.OPEN_PREVIEW_PANEL_DURATION,a=$("#original-data-view").width();$("#treecanvas-content-view").animate({left:"+="+a},e,function(){t.treeCanvasKey=(t.treeCanvasKey+1)%2})},updateSelectedTreeDateName:function(t){var e=this;gt(t).then(function(a){e.updateSelectedHierarchicalData(t,a)})},updateSelectedHierarchicalData:function(t,e){var a=this;sysDatasetObj.updateDataset(e);var n=sysDatasetObj.getAllTreeObjIdArray();a.extractAttrArray(e),a.UPDATE_FOCUS_TREE_OBJ_ARRAY(n),a.UPDATE_SELECTED_DATASET(t),null!==a.selectedPreviewNodeId&&a.UPDATE_PREVIEW_TREE_OBJ(sysDatasetObj.findSelectedObjectById(a.selectedPreviewNodeId)),a.updateLayoutParas();var i=sysDatasetObj.getLayoutParas();W(i).then(function(t){a.UPDATE_LAYOUTS(t)})},updateLayoutParas:function(){var t=sysDatasetObj.getLayoutParas(),e=t.treeIndexWithDSL,a=t.treeDSLContentObj;if("undefined"!==typeof e&&"undefined"!==typeof a){for(var n=e["index-0"],i=sysDatasetObj.getAllTreeObjIdArray(),r=0;r<i.length;r++){var o=i[r];"undefined"===typeof e[o]&&(e[o]=n)}for(var s in e)-1===i.indexOf(s)&&delete e[s]}},initializeLSCG:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fn["initialize"]().then(function(){console.log("lscg-solver initialize")});case 2:window.lscgSolver=Fn;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),navbarSelectPanel:function(t){"data"===t?this.dataDialogVisible=!0:"treedsl"===t?this.treedslDialogVisible=!0:"export"===t&&(this.exportDialogVisible=!0)},extractAttrArray:function(t){var e=[{attrName:"depth",attrType:"number"},{attrName:"height",attrType:"number"},{attrName:"rdepth",attrType:"number"}];for(var a in t)if("children"!==a&&"index"!==a){var n=t[a],i=Object(o["a"])(n);e.push({attrName:a,attrType:i})}this.UPDATE_ATTR_OBJ_ARRAY(e)}},Object(f["c"])(["UPDATE_SELECTED_DATASET","UPDATE_SELECTED_DSL_ARRAY","UPDATE_ATTR_OBJ_ARRAY","UPDATE_FOCUS_TREE_OBJ_ARRAY","UPDATE_PREVIEW_TREE_OBJ","UPDATE_LAYOUTS","UPDATE_HIERARCHICAL_DATA","UPDATE_NODE_ARRAY","UPDATE_HIERARCHICAL_DSL","UPDATE_TREE_DSL_OPTION","UPDATA_DRAWER_VIEW_SELECTION_STATE"]))},Jn=Gn,Kn=(a("7c55"),a("35c6"),Object(nt["a"])(Jn,i,r,!1,null,"21ac6f5b",null)),Zn=Kn.exports,Qn=a("bc3a"),qn=a.n(Qn);function ti(t){return t&&"object"===Object(o["a"])(t)&&!ca()(t)}function ei(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),n=1;n<e;n++)a[n-1]=arguments[n];if(!a.length)return t;var i=a.shift();if(ti(t)&&ti(i))for(var r in i)ti(i[r])?(t[r]||S()(t,Object(ba["a"])({},r,{})),ei(t[r],i[r])):S()(t,Object(ba["a"])({},r,i[r]));return ei.apply(void 0,[t].concat(a))}qn.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",n["default"].use(f["a"]);var ai=new f["a"].Store({state:{attrObjArray:[],previewTreeObj:{},selectedPreviewNodeId:null,viewSelectionMode:"Sibling",viewSelectionMode2:"Subtree",focusedTreeObjArray:[],selectedDataset:null,treeUnitDSLArray:[],treeUnitDSLName:null,selectedDSLArray:[],changedDSLNameState:0,treeCanvasLayoutState:0,treeUnitLayoutState:0,treePreviewLayoutState:0,selectParaName:null,dslListSelectedDSLName:null,appName:"TreeExplorer",hierarchicalData:null,originalHierarchicalDataObj:null,nodeArray:[],originalNodeArray:[],hierarchicalDSL:{},focusedDSLObj:{},treeDSLArray:[],treeDSLArrayKey:0,hoveringDSLItem:null,treeViewUpdate:0,currentTree:"test",treeDSLViewFormat:"block",treeDataViewFormat:"tree",treeDataViewSetting:!1,dataDisplayMode:"tree",selectionMode:"Subtree",layouts:[],layoutParas:{},treeUnitLayout:[],partitionValue:0,partitionDataObjDic:{},drawerViewSelectionState:"template",focusedDSLObjIndex:0,dragComponentState:"DRAG-END",rootLayoutComponent:null,subtreeLayoutComponent:null,nodeComponent:null,linkComponent:null,coordComponent:null},mutations:(ha={},Object(ba["a"])(ha,"UPDATE_ATTR_OBJ_ARRAY",function(t,e){t.attrObjArray=e}),Object(ba["a"])(ha,"UPDATE_VIEW_SELECTION_MODE",function(t,e){t.viewSelectionMode=e}),Object(ba["a"])(ha,"UPDATE_VIEW_SELECTION_MODE2",function(t,e){t.viewSelectionMode2=e}),Object(ba["a"])(ha,"UPDATE_PREVIEW_TREE_OBJ",function(t,e){t.previewTreeObj=e}),Object(ba["a"])(ha,"UPDATE_FOCUS_TREE_OBJ_ARRAY",function(t,e){t.focusedTreeObjArray=e}),Object(ba["a"])(ha,"UPDATE_SELECTED_PREVIEW_NODE_ID",function(t,e){t.selectedPreviewNodeId=e}),Object(ba["a"])(ha,"UPDATE_SELECTED_DATASET",function(t,e){t.selectedDataset=e}),Object(ba["a"])(ha,"UPDATE_TREEUNIT_DSL_ARRAY",function(t,e){t.treeUnitDSLArray=e}),Object(ba["a"])(ha,"UPDATE_TREEUNIT_DSL_NAME",function(t,e){t.treeUnitDSLName=e}),Object(ba["a"])(ha,"UPDATE_CHANGED_DSL_NAME_STATE",function(t,e){t.changedDSLNameState=(t.changedDSLNameState+1)%2}),Object(ba["a"])(ha,"UPDATE_TREE_CANVAS_LAYOUT_STATE",function(t,e){t.treeCanvasLayoutState=(t.treeCanvasLayoutState+1)%2}),Object(ba["a"])(ha,"UPDATE_TREE_UNIT_LAYOUT_STATE",function(t,e){t.treeUnitLayoutState=(t.treeUnitLayoutState+1)%2}),Object(ba["a"])(ha,"UPDATE_TREE_PREVIEW_LAYOUT_STATE",function(t,e){t.treePreviewLayoutState=(t.treePreviewLayoutState+1)%2}),Object(ba["a"])(ha,"UPDATE_LAYOUTS",function(t,e){t.layouts=e}),Object(ba["a"])(ha,"UPDATE_TREE_UNIT_LAYOUTS",function(t,e){t.treeUnitLayout=e}),Object(ba["a"])(ha,"UPDATE_SELECT_PARA_NAME",function(t,e){t.selectParaName=e}),Object(ba["a"])(ha,"UPDATE_DSLLIST_SELECTED_DSL_NAME",function(t,e){t.dslListSelectedDSLName=e}),Object(ba["a"])(ha,"UPDATE_HIERARCHICAL_DATA",function(t,e){t.hierarchicalData=e}),Object(ba["a"])(ha,"UPDATE_SELECTED_DSL_ARRAY",function(t,e){t.selectedDSLArray=e}),Object(ba["a"])(ha,"UPDATE_ORIGINAL_HIERARCHICAL_DATA",function(t,e){t.originalHierarchicalDataObj=e}),Object(ba["a"])(ha,"UPDATE_NODE_ARRAY",function(t,e){t.nodeArray=e}),Object(ba["a"])(ha,"UPDATE_ORIGINAL_NODE_ARRAY",function(t,e){t.originalNodeArray=e}),Object(ba["a"])(ha,"UPDATE_HIERARCHICAL_DSL",function(t,e){t.hierarchicalDSL=e}),Object(ba["a"])(ha,"UPDATE_CURRENT_TREE",function(t,e){t.currentTree=e}),Object(ba["a"])(ha,"UPDATE_DSL_VIEW_FORMAT",function(t,e){t.treeDSLViewFormat=e}),Object(ba["a"])(ha,"UPDATE_DATA_VIEW_FORMAT",function(t,e){t.treeDataViewFormat=e}),Object(ba["a"])(ha,"UPDATE_DATA_VIEW_SETTING",function(t,e){t.treeDataViewSetting=e}),Object(ba["a"])(ha,"UPDATE_TREE_DSL_ARRAY",function(t,e){t.treeDSLArray=e}),Object(ba["a"])(ha,"UPDATE_TREE_DSL_ARRAY_KEY",function(t,e){t.treeDSLArrayKey=e}),Object(ba["a"])(ha,"UPDATE_DATA_DISPLAY_MODE",function(t,e){t.dataDisplayMode=e}),Object(ba["a"])(ha,"UPDATE_SELECTION_MODE",function(t,e){t.selectionMode=e}),Object(ba["a"])(ha,"UPDATE_HOVERING_DSL_ITEM",function(t,e){t.hoveringDSLItem=e}),Object(ba["a"])(ha,"UPDATE_FOCUSED_DSL_OBJ",function(t,e){t.focusedDSLObj=e}),Object(ba["a"])(ha,"UPDATE_LAYOUT_PARAS",function(t,e){t.layoutParas=e}),Object(ba["a"])(ha,"UPDATE_PARTITION_VALUE",function(t,e){t.partitionValue=e}),Object(ba["a"])(ha,"UPDATE_PARTITION_DATA_OBJ_DIC",function(t,e){t.partitionDataObjDic=e}),Object(ba["a"])(ha,"UPDATA_DRAWER_VIEW_SELECTION_STATE",function(t,e){t.drawerViewSelectionState=e}),Object(ba["a"])(ha,"UPDATE_FOCUSED_DSL_OBJ_INDEX",function(t,e){t.focusedDSLObjIndex=e}),Object(ba["a"])(ha,"UPDATE_DRAG_COMPONENT_STATE",function(t,e){t.dragComponentState=e}),Object(ba["a"])(ha,"UPDATE_ROOT_LAYOUT",function(t,e){t.rootLayoutComponent=e}),Object(ba["a"])(ha,"UPDATE_SUBTREE_LAYOUT",function(t,e){t.subtreeLayoutComponent=e}),Object(ba["a"])(ha,"UPDATE_NODE",function(t,e){t.nodeComponent=e}),Object(ba["a"])(ha,"UPDATE_LINK",function(t,e){t.linkComponent=e}),Object(ba["a"])(ha,"UPDATE_COORD",function(t,e){t.coordComponent=e}),ha),actions:{updateTreeDSL:function(t,e){t.commit;for(var a=t.state,n=e.treeDSLContent,i=e.editorId,r=0;r<a.treeDSLArray.length;r++)a.treeDSLArray[r].editorId===i&&(a.treeDSLArray[r].content=n)},updateTreeUnitLayout:function(t,e){var a=t.commit;a("UPDATE_TREE_UNIT_LAYOUTS",e)},setDSLComponent:function(t,e){var a=t.commit,n=t.state;if(0===n.treeUnitDSLArray.length){var i={name:"untitled0",dslObj:{Layout:{Category:"AxisIndependent",Mode:"bottom-up"},CoordinateSystem:{Category:"cartesian"},Element:{Node:"circle"}}};i.dslObj=ei(i.dslObj,e),sysDatasetObj.updateSelectedDSLObject(i.name,i.dslObj),n.selectedDSLArray.push(i.name),sysDatasetObj.updateTreeDSLContentObject(i.name,i.dslObj),n.treeUnitDSLArray.push(i),n.treeUnitDSLArray=JSON.parse(p()(n.treeUnitDSLArray)),setTimeout(function(){if(n.treeUnitDSLArray.length>=1){var t=n.treeUnitDSLArray[0].name;a("UPDATE_DSLLIST_SELECTED_DSL_NAME",t),a("UPDATE_TREEUNIT_DSL_NAME",t)}a("UPDATE_TREE_UNIT_LAYOUT_STATE")},200)}else{for(var r=0;r<n.treeUnitDSLArray.length;r++){var o=n.treeUnitDSLArray[r];if(o.name===n.treeUnitDSLName){var s=ei(o.dslObj,e);o.dslObj=s}}n.treeUnitDSLArray=JSON.parse(p()(n.treeUnitDSLArray)),a("UPDATE_TREE_UNIT_LAYOUT_STATE")}},removeDSLComponent:function(t,e){var a=t.commit,n=t.state;console.log("componentType",e);for(var i=0;i<n.treeUnitDSLArray.length;i++){var r=n.treeUnitDSLArray[i];if(r.name===n.treeUnitDSLName){var o=r.dslObj;"Root"===e||"Subtree"===e?(delete o.Layout.X[e],delete o.Layout.Y[e]):"Node"===e||"Link"===e?(delete o.Element[e],delete o.Element[e]):"CoordinateSystem"===e&&delete o[e]}}n.treeUnitDSLArray=JSON.parse(p()(n.treeUnitDSLArray)),a("UPDATE_TREE_UNIT_LAYOUT_STATE")}}}),ni=a("5c96"),ii=a.n(ni),ri=(a("0fae"),a("a7fe")),oi=a.n(ri),si=a("5698"),li=a("1157");a("a342");n["default"].use(ii.a),window.baseURL="",qn.a.defaults.baseURL=Object({NODE_ENV:"production",BASE_URL:""}).API_ROOT,window.baseURL="http://vis.pku.edu.cn/gotree_server",n["default"].use(oi.a,qn.a),n["default"].config.productionTip=!1,window.d3=si,window.$=li,window.exports={},new n["default"]({store:ai,render:function(t){return t(Zn)}}).$mount("#app")},"5b2d":function(t,e,a){"use strict";var n=a("e91c"),i=a.n(n);i.a},"5cf7":function(t,e,a){},"62b4":function(t,e,a){"use strict";var n=a("5010"),i=a.n(n);i.a},"62c0":function(t,e,a){"use strict";var n=a("45b2"),i=a.n(n);i.a},6526:function(t,e,a){"use strict";var n=a("f006"),i=a.n(n);i.a},6535:function(t,e,a){},"6aea":function(t,e,a){"use strict";var n=a("24b6"),i=a.n(n);i.a},"6cda":function(t,e,a){"use strict";var n=a("b42f"),i=a.n(n);i.a},"71b3":function(t,e,a){"use strict";var n=a("f346"),i=a.n(n);i.a},"71b4":function(t,e,a){"use strict";var n=a("1d5a"),i=a.n(n);i.a},"735c":function(t,e,a){"use strict";var n=a("52ef"),i=a.n(n);i.a},7584:function(t,e,a){"use strict";var n=a("c7a4"),i=a.n(n);i.a},"7c55":function(t,e,a){"use strict";var n=a("2464"),i=a.n(n);i.a},"7e44":function(t,e,a){"use strict";var n=a("4789"),i=a.n(n);i.a},8663:function(t,e,a){},"88bb":function(t,e,a){"use strict";var n=a("a6a4"),i=a.n(n);i.a},"89e5":function(t,e,a){"use strict";var n=a("55a2"),i=a.n(n);i.a},"8a8c":function(t,e,a){"use strict";var n=a("103b"),i=a.n(n);i.a},9023:function(t,e,a){},"93b2":function(t,e,a){"use strict";var n=a("55bb"),i=a.n(n);i.a},9509:function(t,e,a){"use strict";var n=a("f1d7"),i=a.n(n);i.a},9686:function(t,e,a){"use strict";var n=a("c062"),i=a.n(n);i.a},"9ec3":function(t,e,a){},"9fbd":function(t,e,a){"use strict";var n=a("3986"),i=a.n(n);i.a},a165:function(t,e,a){"use strict";var n=a("23a7"),i=a.n(n);i.a},a342:function(t,e,a){},a660:function(t,e,a){"use strict";var n=a("0006"),i=a.n(n);i.a},a6a4:function(t,e,a){},a70f:function(t,e,a){"use strict";var n=a("c415"),i=a.n(n);i.a},a771:function(t,e,a){"use strict";var n=a("5209"),i=a.n(n);i.a},a9b3:function(t,e,a){},b42f:function(t,e,a){},c062:function(t,e,a){},c32b:function(t,e,a){},c383:function(t,e,a){},c3a6:function(t,e,a){},c415:function(t,e,a){},c4fa:function(t,e,a){"use strict";var n=a("209e"),i=a.n(n);i.a},c7a4:function(t,e,a){},c9c0:function(t,e,a){"use strict";var n=a("25f6"),i=a.n(n);i.a},ca3e:function(t,e,a){},caf7:function(t,e,a){"use strict";var n=a("5cf7"),i=a.n(n);i.a},cd36:function(t,e,a){"use strict";var n=a("2766"),i=a.n(n);i.a},d138:function(t,e,a){"use strict";var n=a("20d0"),i=a.n(n);i.a},d686:function(t,e,a){},d6f3:function(t,e,a){"use strict";var n=a("4a1b"),i=a.n(n);i.a},d701:function(t,e,a){"use strict";var n=a("c383"),i=a.n(n);i.a},e1a5:function(t,e,a){"use strict";var n=a("4bc9"),i=a.n(n);i.a},e289:function(t,e,a){"use strict";var n=a("f6d9"),i=a.n(n);i.a},e7d6:function(t,e,a){"use strict";var n=a("f32f"),i=a.n(n);i.a},e91c:function(t,e,a){},f006:function(t,e,a){},f1d7:function(t,e,a){},f32f:function(t,e,a){},f346:function(t,e,a){},f665:function(t,e,a){"use strict";var n=a("d686"),i=a.n(n);i.a},f6d9:function(t,e,a){},fb0a:function(t,e,a){"use strict";var n=a("378a"),i=a.n(n);i.a},fc88:function(t,e,a){"use strict";var n=a("c3a6"),i=a.n(n);i.a},ff03:function(t,e,a){"use strict";var n=a("4593"),i=a.n(n);i.a}});